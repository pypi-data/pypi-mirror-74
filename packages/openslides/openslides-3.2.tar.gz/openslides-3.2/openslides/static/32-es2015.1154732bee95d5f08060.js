(window.webpackJsonp=window.webpackJsonp||[]).push([[32,36],{"0bnU":function(t,e,c){"use strict";c.r(e),c.d(e,"MediafilesModule",(function(){return Yt}));var i=c("ofXK"),n=c("tyNb"),a=c("OwvW"),o=c("SSyl"),r=c("mV3u"),s=c("fXoL"),l=c("jhN1"),u=c("sYmb"),b=c("dNgK"),d=c("mksl"),m=c("bTqV"),f=c("STbY"),p=c("NFeN"),h=c("Wp6s"),g=c("GTZY");let v=(()=>{class t extends r.a{constructor(t,e,c,i,n,a){super(t,e,c),this.location=i,this.route=n,this.repo=a,this.parallel=!0,this.directoryId=null}ngOnInit(){this.repo.getDirectoryIdByPath(this.route.snapshot.url.map(t=>t.path)).then(t=>{this.directoryId=t})}uploadSuccess(){this.location.back()}showError(t){this.raiseError(t)}setUploadStrategy(t){this.parallel=t}}return t.\u0275fac=function(e){return new(e||t)(s.Ub(l.d),s.Ub(u.k),s.Ub(b.a),s.Ub(i.n),s.Ub(n.a),s.Ub(o.a))},t.\u0275cmp=s.Ob({type:t,selectors:[["os-media-upload"]],features:[s.Eb],decls:19,vars:12,consts:[[3,"nav","goBack"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[1,"os-card"],[3,"parallel","directoryId","uploadSuccessEvent","errorEvent"],["uploadMenu","matMenu"],["mat-menu-item","",3,"click"],["color","accent"]],template:function(t,e){if(1&t&&(s.ac(0,"os-head-bar",0),s.ac(1,"div",1),s.ac(2,"h2"),s.Tc(3),s.nc(4,"translate"),s.Zb(),s.Zb(),s.ac(5,"div",2),s.ac(6,"button",3),s.ac(7,"mat-icon"),s.Tc(8,"more_vert"),s.Zb(),s.Zb(),s.Zb(),s.Zb(),s.ac(9,"mat-card",4),s.ac(10,"os-media-upload-content",5),s.ic("uploadSuccessEvent",(function(){return e.uploadSuccess()}))("errorEvent",(function(t){return e.showError(t)})),s.Zb(),s.Zb(),s.ac(11,"mat-menu",null,6),s.ac(13,"button",7),s.ic("click",(function(){return e.setUploadStrategy(!e.parallel)})),s.ac(14,"mat-icon",8),s.Tc(15),s.Zb(),s.ac(16,"span"),s.Tc(17),s.nc(18,"translate"),s.Zb(),s.Zb(),s.Zb()),2&t){const t=s.Fc(12);s.uc("nav",!1)("goBack",!0),s.Hb(3),s.Uc(s.oc(4,8,"Upload files")),s.Hb(3),s.uc("matMenuTriggerFor",t),s.Hb(4),s.uc("parallel",e.parallel)("directoryId",e.directoryId),s.Hb(5),s.Uc(e.parallel?"check_box":"check_box_outline_blank"),s.Hb(2),s.Uc(s.oc(18,10,"Parallel upload"))}},directives:[d.a,m.b,f.e,p.a,h.a,g.a,f.f,f.c],pipes:[u.j],styles:[""]}),t})();var Z=c("mrSG"),y=c("3Pt+"),S=c("dRZP"),T=c("2Vo4"),w=c("HDdC"),H=c("AqIO"),M=c("R+Vs"),k=c("Hila"),F=c("+KbT");let I=(()=>{class t{constructor(t,e){this.config=t,this.httpService=e}setAs(t,e){return Object(Z.a)(this,void 0,void 0,(function*(){const c=`/rest/core/config/${e}/`,i=this.getMediaConfig(e);return this.httpService.put(c,{id:t.id,key:i.key,default:i.default,value:{display_name:i.display_name,key:i.key,default:i.default,path:i.path!==t.url?t.url:""}})}))}isImageConfigObject(t){if(void 0!==t)return void 0!==t.path}getLogoActions(){return this.config.get("logos_available")}getFontActions(){return this.config.get("fonts_available")}getMediaConfig(t){return this.config.instant(t)}}return t.\u0275fac=function(e){return new(e||t)(s.ec(F.a),s.ec(k.a))},t.\u0275prov=s.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var R=c("F48D"),D=c("KL36"),U=c("smbJ"),_=c("Izkr"),x=c("wL0i"),C=c("D/ll"),E=c("A6Ob");let O=(()=>{class t extends E.a{constructor(t,e,c){super(t,e,c),this.storageKey="MediafileList",this.mediafilesSortOptions=[{property:"title"},{property:"mimetype",label:this.translate.instant("Type")},{property:"filesize",label:this.translate.instant("Size")}]}getSortOptions(){return this.mediafilesSortOptions}getDefaultDefinition(){return Object(Z.a)(this,void 0,void 0,(function*(){return{sortProperty:"title",sortAscending:!0}}))}}return t.\u0275fac=function(e){return new(e||t)(s.ec(u.k),s.ec(H.a),s.ec(C.a))},t.\u0275prov=s.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var A=c("0IaG"),j=c("3Xi6"),P=c("1yIO"),B=c("SOyc"),V=c("vYAO"),L=c("Qu3c"),N=c("f0Cb"),J=c("Tp2j"),G=c("kmnG"),z=c("qFsG"),q=c("IZUe"),W=c("oqD5");const $=["fileEditForm"],K=["fileEditDialog"];function X(t,e){if(1&t){const t=s.bc();s.ac(0,"button",26),s.ic("click",(function(){s.Jc(t);const e=s.mc(2),c=s.Fc(34);return e.createNewFolder(c)})),s.ac(1,"mat-icon"),s.Tc(2,"create_new_folder"),s.Zb(),s.Zb()}}function Y(t,e){if(1&t&&(s.ac(0,"div",23),s.Rc(1,X,3,0,"button",24),s.ac(2,"button",25),s.ac(3,"mat-icon"),s.Tc(4,"more_vert"),s.Zb(),s.Zb(),s.Zb()),2&t){const t=s.mc(),e=s.Fc(28);s.Hb(1),s.uc("ngIf",!t.isMultiSelect),s.Hb(1),s.uc("matMenuTriggerFor",e)}}function Q(t,e){if(1&t){const t=s.bc();s.ac(0,"div",27),s.ac(1,"button",28),s.ic("click",(function(){return s.Jc(t),s.mc().toggleMultiSelect()})),s.ac(2,"mat-icon"),s.Tc(3,"arrow_back"),s.Zb(),s.Zb(),s.ac(4,"span"),s.Tc(5),s.Zb(),s.ac(6,"span"),s.Tc(7),s.nc(8,"translate"),s.Zb(),s.Zb()}if(2&t){const t=s.mc();s.Hb(5),s.Vc("",t.selectedRows.length,"\xa0"),s.Hb(2),s.Uc(s.oc(8,2,"selected"))}}function tt(t,e){if(1&t){const t=s.bc();s.ac(0,"button",6),s.ic("click",(function(){s.Jc(t);const e=s.mc().$implicit;return s.mc().changeDirectory(e.id)})),s.ac(1,"span",34),s.Tc(2),s.Zb(),s.Zb()}if(2&t){const t=s.mc().$implicit,e=s.mc();s.uc("disabled",e.isMultiSelect),s.Hb(2),s.Vc(" ",t.filename," ")}}const et=function(t){return{mediafile:t}};function ct(t,e){if(1&t&&(s.ac(0,"button",35),s.ac(1,"os-icon-container",36),s.Tc(2),s.Zb(),s.Zb()),2&t){const t=s.mc().$implicit,e=s.mc(),c=s.Fc(25);s.uc("matMenuTriggerFor",c)("matMenuTriggerData",s.Ac(5,et,t))("disabled",e.isMultiSelect),s.Hb(1),s.uc("noWrap",!0),s.Hb(1),s.Vc(" ",t.filename," ")}}function it(t,e){if(1&t&&(s.ac(0,"span",37),s.Tc(1),s.Zb()),2&t){const t=s.mc().$implicit;s.Hb(1),s.Vc(" ",t.filename," ")}}function nt(t,e){if(1&t&&(s.ac(0,"span",29),s.ac(1,"span",30),s.ac(2,"mat-icon"),s.Tc(3,"chevron_right"),s.Zb(),s.Zb(),s.Rc(4,tt,3,2,"button",31),s.Rc(5,ct,3,7,"button",32),s.Rc(6,it,2,1,"span",33),s.Zb()),2&t){const t=e.$implicit,c=e.last,i=s.mc();s.Hb(4),s.uc("ngIf",!c),s.Hb(1),s.uc("ngIf",c&&i.showFileMenu(t)),s.Hb(1),s.uc("ngIf",c&&!i.showFileMenu(t))}}function at(t,e){1&t&&(s.ac(0,"span"),s.Tc(1,", "),s.Zb())}function ot(t,e){1&t&&(s.ac(0,"span"),s.Tc(1,"..."),s.Zb())}function rt(t,e){if(1&t&&(s.ac(0,"span"),s.ac(1,"span"),s.Tc(2),s.nc(3,"translate"),s.Zb(),s.Rc(4,at,2,0,"span",19),s.Rc(5,ot,2,0,"span",19),s.Zb()),2&t){const t=e.$implicit,c=e.last,i=s.mc(2);s.Hb(2),s.Uc(s.oc(3,3,t.getTitle())),s.Hb(2),s.uc("ngIf",!c),s.Hb(1),s.uc("ngIf",c&&i.directory.inherited_access_groups.length>3)}}function st(t,e){if(1&t){const t=s.bc();s.ac(0,"span",38),s.ac(1,"button",39),s.ic("click",(function(){s.Jc(t);const e=s.mc();return e.onEditFile(e.directory)})),s.ac(2,"os-icon-container",40),s.nc(3,"translate"),s.Rc(4,rt,6,5,"span",41),s.nc(5,"slice"),s.Zb(),s.Zb(),s.Zb()}if(2&t){const t=s.mc();s.Hb(2),s.vc("matTooltip",s.oc(3,2,"Allowed access groups for this directory")),s.Hb(2),s.uc("ngForOf",s.qc(5,4,t.directory.inherited_access_groups,0,3))}}function lt(t,e){if(1&t&&s.Vb(0,"a",45),2&t){const t=s.mc().row;s.uc("routerLink",t.url)}}function ut(t,e){if(1&t){const t=s.bc();s.ac(0,"a",46),s.ic("click",(function(){s.Jc(t);const e=s.mc().row;return s.mc().changeDirectory(e.id)})),s.Zb()}}function bt(t,e){if(1&t&&(s.ac(0,"div",42),s.Rc(1,lt,1,1,"a",43),s.Rc(2,ut,1,0,"a",44),s.ac(3,"mat-icon",7),s.Tc(4),s.Zb(),s.Zb()),2&t){const t=e.row,c=s.mc();s.Hb(1),s.uc("ngIf",!t.is_directory&&!c.isMultiSelect),s.Hb(1),s.uc("ngIf",t.is_directory&&!c.isMultiSelect),s.Hb(2),s.Uc(t.getIcon())}}function dt(t,e){if(1&t&&s.Vb(0,"a",45),2&t){const t=s.mc().row;s.uc("routerLink",t.url)}}function mt(t,e){if(1&t){const t=s.bc();s.ac(0,"a",46),s.ic("click",(function(){s.Jc(t);const e=s.mc().row;return s.mc().changeDirectory(e.id)})),s.Zb()}}function ft(t,e){if(1&t&&(s.ac(0,"div",50),s.ac(1,"span"),s.Tc(2),s.Zb(),s.Zb()),2&t){const t=s.mc().row,e=s.mc();s.Hb(2),s.Wc(" ",e.getDateFromTimestamp(t.timestamp)," \xb7 ",t.filesize," ")}}function pt(t,e){if(1&t&&(s.ac(0,"div",42),s.Rc(1,dt,1,1,"a",43),s.Rc(2,mt,1,0,"a",44),s.ac(3,"div",47),s.ac(4,"div",48),s.Tc(5),s.Zb(),s.Rc(6,ft,3,2,"div",49),s.Zb(),s.Zb()),2&t){const t=e.row,c=s.mc();s.Hb(1),s.uc("ngIf",!t.is_directory&&!c.isMultiSelect),s.Hb(1),s.uc("ngIf",t.is_directory&&!c.isMultiSelect),s.Hb(3),s.Vc(" ",t.filename," "),s.Hb(1),s.uc("ngIf",!t.is_directory)}}function ht(t,e){1&t&&(s.ac(0,"span"),s.Tc(1,", "),s.Zb())}function gt(t,e){1&t&&(s.ac(0,"span"),s.Tc(1,"..."),s.Zb())}function vt(t,e){if(1&t&&(s.ac(0,"span"),s.ac(1,"span"),s.Tc(2),s.nc(3,"translate"),s.Zb(),s.Rc(4,ht,2,0,"span",19),s.Rc(5,gt,2,0,"span",19),s.Zb()),2&t){const t=e.$implicit,c=e.last,i=s.mc(2).row;s.Hb(2),s.Uc(s.oc(3,3,t.getTitle())),s.Hb(2),s.uc("ngIf",!c),s.Hb(1),s.uc("ngIf",c&&i.access_groups.length>3)}}function Zt(t,e){if(1&t&&(s.ac(0,"os-icon-container",53),s.Rc(1,vt,6,5,"span",41),s.nc(2,"slice"),s.Zb()),2&t){const t=s.mc().row;s.Hb(1),s.uc("ngForOf",s.qc(2,1,t.access_groups,0,3))}}function yt(t,e){if(1&t){const t=s.bc();s.ac(0,"div",51),s.ic("click",(function(){s.Jc(t);const c=e.row;return s.mc().onEditFile(c)})),s.Rc(1,Zt,3,5,"os-icon-container",52),s.Zb()}if(2&t){const t=e.row;s.Hb(1),s.uc("ngIf",t.access_groups.length)}}function St(t,e){1&t&&(s.ac(0,"mat-icon",7),s.Tc(1,"text_fields"),s.Zb())}function Tt(t,e){1&t&&(s.ac(0,"mat-icon",7),s.Tc(1,"insert_photo"),s.Zb())}function wt(t,e){if(1&t&&(s.ac(0,"div",56),s.Rc(1,St,2,0,"mat-icon",57),s.Rc(2,Tt,2,0,"mat-icon",57),s.Zb()),2&t){const t=s.mc().row,e=s.mc(),c=s.Fc(25);s.uc("matMenuTriggerFor",c)("matMenuTriggerData",s.Ac(5,et,t))("matTooltip",e.formatIndicatorTooltip(t)),s.Hb(1),s.uc("ngIf",t.isFont()),s.Hb(1),s.uc("ngIf",t.isImage())}}function Ht(t,e){if(1&t&&(s.ac(0,"div",54),s.Rc(1,wt,3,7,"div",55),s.Zb()),2&t){const t=e.row,c=s.mc();s.Hb(1),s.uc("ngIf",c.getFileSettings(t).length>0)}}function Mt(t,e){if(1&t&&(s.ac(0,"button",59),s.ac(1,"mat-icon"),s.Tc(2,"more_vert"),s.Zb(),s.Zb()),2&t){const t=s.mc().row,e=s.mc(),c=s.Fc(25);s.uc("matMenuTriggerFor",c)("matMenuTriggerData",s.Ac(3,et,t))("disabled",e.isMultiSelect)}}function kt(t,e){if(1&t&&(s.ac(0,"div",54),s.Rc(1,Mt,3,5,"button",58),s.Zb()),2&t){const t=e.row,c=s.mc();s.Hb(1),s.uc("ngIf",c.showFileMenu(t))}}function Ft(t,e){1&t&&(s.ac(0,"div",60),s.ac(1,"span"),s.Tc(2),s.nc(3,"translate"),s.Zb(),s.Zb()),2&t&&(s.Hb(2),s.Uc(s.oc(3,1,"No data")))}function It(t,e){if(1&t){const t=s.bc();s.ac(0,"button",61),s.ic("click",(function(c){s.Jc(t);const i=e.mediafile,n=e.action;return s.mc().onManageButton(c,i,n)})),s.ac(1,"mat-icon",62),s.Tc(2),s.Zb(),s.ac(3,"span"),s.Tc(4),s.Zb(),s.Zb()}if(2&t){const t=e.mediafile,c=e.action,i=s.mc();s.Hb(2),s.Vc(" ",i.isUsedAs(t,c)?"check_box":"check_box_outline_blank"," "),s.Hb(2),s.Uc(i.getNameOfAction(c))}}function Rt(t,e){1&t&&s.Wb(0)}const Dt=function(t,e){return{mediafile:t,action:e}};function Ut(t,e){if(1&t&&(s.ac(0,"div"),s.Rc(1,Rt,1,0,"ng-container",65),s.Zb()),2&t){const t=e.$implicit,c=s.mc(3).mediafile;s.mc();const i=s.Fc(23);s.Hb(1),s.uc("ngTemplateOutlet",i)("ngTemplateOutletContext",s.Bc(2,Dt,c,t))}}function _t(t,e){if(1&t&&(s.ac(0,"div"),s.Rc(1,Ut,2,5,"div",41),s.Zb()),2&t){const t=s.mc(3);s.Hb(1),s.uc("ngForOf",t.logoActions)}}function xt(t,e){1&t&&s.Wb(0)}function Ct(t,e){if(1&t&&(s.ac(0,"div"),s.Rc(1,xt,1,0,"ng-container",65),s.Zb()),2&t){const t=e.$implicit,c=s.mc(3).mediafile;s.mc();const i=s.Fc(23);s.Hb(1),s.uc("ngTemplateOutlet",i)("ngTemplateOutletContext",s.Bc(2,Dt,c,t))}}function Et(t,e){if(1&t&&(s.ac(0,"div"),s.Rc(1,Ct,2,5,"div",41),s.Zb()),2&t){const t=s.mc(3);s.Hb(1),s.uc("ngForOf",t.fontActions)}}function Ot(t,e){1&t&&s.Vb(0,"mat-divider")}function At(t,e){if(1&t&&(s.ac(0,"div"),s.Rc(1,_t,2,1,"div",19),s.Rc(2,Et,2,1,"div",19),s.Rc(3,Ot,1,0,"mat-divider",19),s.Zb()),2&t){const t=s.mc().mediafile;s.Hb(1),s.uc("ngIf",t.isImage()),s.Hb(1),s.uc("ngIf",t.isFont()),s.Hb(1),s.uc("ngIf",t.isFont()||t.isImage())}}function jt(t,e){if(1&t&&s.Vb(0,"os-projector-button",66),2&t){const t=s.mc().mediafile;s.uc("object",t)("menuItem",!0)}}function Pt(t,e){if(1&t){const t=s.bc();s.ac(0,"div"),s.ac(1,"button",61),s.ic("click",(function(){s.Jc(t);const e=s.mc().mediafile;return s.mc().onEditFile(e)})),s.ac(2,"mat-icon"),s.Tc(3,"edit"),s.Zb(),s.ac(4,"span"),s.Tc(5),s.nc(6,"translate"),s.Zb(),s.Zb(),s.ac(7,"button",61),s.ic("click",(function(){s.Jc(t);const e=s.mc().mediafile,c=s.mc(),i=s.Fc(36);return c.move(i,[e])})),s.ac(8,"mat-icon"),s.Tc(9,"near_me"),s.Zb(),s.ac(10,"span"),s.Tc(11),s.nc(12,"translate"),s.Zb(),s.Zb(),s.ac(13,"button",67),s.ic("click",(function(){s.Jc(t);const e=s.mc().mediafile;return s.mc().onDelete(e)})),s.ac(14,"mat-icon"),s.Tc(15,"delete"),s.Zb(),s.ac(16,"span"),s.Tc(17),s.nc(18,"translate"),s.Zb(),s.Zb(),s.Zb()}2&t&&(s.Hb(5),s.Uc(s.oc(6,3,"Edit")),s.Hb(6),s.Uc(s.oc(12,5,"Move")),s.Hb(6),s.Uc(s.oc(18,7,"Delete")))}function Bt(t,e){if(1&t&&(s.Rc(0,At,4,3,"div",63),s.Rc(1,jt,1,2,"os-projector-button",64),s.Rc(2,Pt,19,9,"div",19)),2&t){const t=e.mediafile,c=s.mc();s.uc("osPerms","core.can_manage_logos_and_fonts"),s.Hb(1),s.uc("ngIf",t.isProjectable()),s.Hb(1),s.uc("ngIf",c.canEdit)}}function Vt(t,e){if(1&t){const t=s.bc();s.ac(0,"button",61),s.ic("click",(function(){return s.Jc(t),s.mc(2).toggleMultiSelect()})),s.ac(1,"mat-icon"),s.Tc(2,"library_add"),s.Zb(),s.ac(3,"span"),s.Tc(4),s.nc(5,"translate"),s.Zb(),s.Zb()}2&t&&(s.Hb(4),s.Uc(s.oc(5,1,"Multiselect")))}function Lt(t,e){1&t&&(s.ac(0,"div"),s.Rc(1,Vt,6,3,"button",68),s.Zb()),2&t&&(s.Hb(1),s.uc("osPerms","mediafiles.can_manage"))}function Nt(t,e){if(1&t){const t=s.bc();s.ac(0,"button",69),s.ic("click",(function(){return s.Jc(t),s.mc(2).deleteSelected()})),s.ac(1,"mat-icon",71),s.Tc(2,"delete"),s.Zb(),s.ac(3,"span"),s.Tc(4),s.nc(5,"translate"),s.Zb(),s.Zb()}if(2&t){const t=s.mc(2);s.uc("disabled",!t.selectedRows.length),s.Hb(4),s.Uc(s.oc(5,2,"Delete"))}}function Jt(t,e){if(1&t){const t=s.bc();s.ac(0,"div"),s.ac(1,"button",69),s.ic("click",(function(){s.Jc(t);const e=s.mc(),c=s.Fc(36);return e.move(c,e.selectedRows)})),s.ac(2,"mat-icon"),s.Tc(3,"near_me"),s.Zb(),s.ac(4,"span"),s.Tc(5),s.nc(6,"translate"),s.Zb(),s.Zb(),s.Vb(7,"mat-divider"),s.ac(8,"button",61),s.ic("click",(function(){return s.Jc(t),s.mc().selectAll()})),s.ac(9,"mat-icon"),s.Tc(10,"done_all"),s.Zb(),s.ac(11,"span"),s.Tc(12),s.nc(13,"translate"),s.Zb(),s.Zb(),s.ac(14,"button",69),s.ic("click",(function(){return s.Jc(t),s.mc().deselectAll()})),s.ac(15,"mat-icon"),s.Tc(16,"clear"),s.Zb(),s.ac(17,"span"),s.Tc(18),s.nc(19,"translate"),s.Zb(),s.Zb(),s.Vb(20,"mat-divider"),s.Rc(21,Nt,6,4,"button",70),s.Zb()}if(2&t){const t=s.mc();s.Hb(1),s.uc("disabled",!t.selectedRows.length),s.Hb(4),s.Uc(s.oc(6,6,"Move")),s.Hb(7),s.Uc(s.oc(13,8,"Select all")),s.Hb(2),s.uc("disabled",!t.selectedRows.length),s.Hb(4),s.Uc(s.oc(19,10,"Deselect all")),s.Hb(3),s.uc("osPerms","mediafiles.can_manage")}}function Gt(t,e){1&t&&(s.ac(0,"mat-error"),s.Tc(1),s.nc(2,"translate"),s.Zb()),2&t&&(s.Hb(1),s.Uc(s.oc(2,1,"Required")))}function zt(t,e){if(1&t){const t=s.bc();s.ac(0,"h1",72),s.Tc(1),s.nc(2,"translate"),s.Zb(),s.ac(3,"div",73),s.ac(4,"form",74),s.ac(5,"mat-form-field"),s.Vb(6,"input",75),s.nc(7,"translate"),s.Rc(8,Gt,3,3,"mat-error",19),s.Zb(),s.ac(9,"mat-form-field"),s.Vb(10,"os-search-value-selector",76),s.nc(11,"translate"),s.Zb(),s.Zb(),s.Zb(),s.ac(12,"div",77),s.ac(13,"button",78),s.ic("click",(function(){s.Jc(t);const e=s.mc();return e.onSaveEditedFile(e.fileEditForm.value)})),s.ac(14,"span"),s.Tc(15),s.nc(16,"translate"),s.Zb(),s.Zb(),s.ac(17,"button",79),s.ac(18,"span"),s.Tc(19),s.nc(20,"translate"),s.Zb(),s.Zb(),s.Zb()}if(2&t){const t=s.mc();s.Hb(1),s.Uc(s.oc(2,11,"Edit details for")),s.Hb(3),s.uc("formGroup",t.fileEditForm),s.Hb(2),s.vc("placeholder",s.oc(7,13,"New file name")),s.Hb(2),s.uc("ngIf",t.fileEditForm.invalid),s.Hb(2),s.vc("placeholder",s.oc(11,15,"Access groups")),s.uc("multiple",!0)("inputListValues",t.groupsBehaviorSubject),s.Hb(3),s.uc("disabled",!t.fileEditForm.valid),s.Hb(2),s.Uc(s.oc(16,17,"Save")),s.Hb(2),s.uc("mat-dialog-close",null),s.Hb(2),s.Uc(s.oc(20,19,"Cancel"))}}function qt(t,e){if(1&t&&(s.ac(0,"h1",72),s.Tc(1),s.nc(2,"translate"),s.Zb(),s.ac(3,"div",73),s.ac(4,"form",74),s.ac(5,"p"),s.Tc(6),s.nc(7,"translate"),s.Zb(),s.ac(8,"mat-form-field"),s.Vb(9,"input",80),s.nc(10,"translate"),s.Zb(),s.ac(11,"mat-form-field"),s.Vb(12,"os-search-value-selector",76),s.nc(13,"translate"),s.Zb(),s.Zb(),s.Zb(),s.ac(14,"div",77),s.ac(15,"button",81),s.ac(16,"span"),s.Tc(17),s.nc(18,"translate"),s.Zb(),s.Zb(),s.ac(19,"button",79),s.ac(20,"span"),s.Tc(21),s.nc(22,"translate"),s.Zb(),s.Zb(),s.Zb()),2&t){const t=s.mc();s.Hb(1),s.Uc(s.oc(2,12,"New directory")),s.Hb(3),s.uc("formGroup",t.newDirectoryForm),s.Hb(2),s.Uc(s.oc(7,14,"Please enter a name for the new directory:")),s.Hb(3),s.vc("placeholder",s.oc(10,16,"Title")),s.Hb(3),s.vc("placeholder",s.oc(13,18,"Access groups")),s.uc("multiple",!0)("inputListValues",t.groupsBehaviorSubject),s.Hb(3),s.uc("disabled",!t.newDirectoryForm.valid)("mat-dialog-close",!0),s.Hb(2),s.Uc(s.oc(18,20,"Save")),s.Hb(2),s.uc("mat-dialog-close",null),s.Hb(2),s.Uc(s.oc(22,22,"Cancel"))}}function Wt(t,e){if(1&t&&(s.ac(0,"h1",72),s.ac(1,"span"),s.Tc(2),s.nc(3,"translate"),s.Zb(),s.Zb(),s.ac(4,"div",82),s.ac(5,"p"),s.Tc(6),s.nc(7,"translate"),s.Zb(),s.ac(8,"mat-form-field"),s.Vb(9,"os-search-value-selector",83),s.nc(10,"translate"),s.Zb(),s.Zb(),s.ac(11,"div",77),s.ac(12,"button",84),s.ac(13,"span"),s.Tc(14),s.nc(15,"translate"),s.Zb(),s.Zb(),s.ac(16,"button",79),s.ac(17,"span"),s.Tc(18),s.nc(19,"translate"),s.Zb(),s.Zb(),s.Zb()),2&t){const t=s.mc();s.Hb(2),s.Uc(s.oc(3,11,"Move into directory")),s.Hb(2),s.uc("formGroup",t.moveForm),s.Hb(2),s.Uc(s.oc(7,13,"Please select the directory:")),s.Hb(3),s.vc("placeholder",s.oc(10,15,"Parent directory")),s.uc("includeNone",!0)("noneTitle","Base folder")("inputListValues",t.filteredDirectoryBehaviorSubject),s.Hb(3),s.uc("mat-dialog-close",!0),s.Hb(2),s.Uc(s.oc(15,17,"Move")),s.Hb(2),s.uc("mat-dialog-close",null),s.Hb(2),s.Uc(s.oc(19,19,"Cancel"))}}const $t=[{path:"",redirectTo:"files",pathMatch:"full"},{path:"files",children:[{path:"**",component:(()=>{class t extends x.a{constructor(t,e,c,i,n,a,o,r,s,l,u,b,d,m,f,p,h){super(t,e,c,i),this.translate=e,this.route=n,this.router=a,this.repo=o,this.mediaManage=r,this.promptService=s,this.vp=l,this.sortService=u,this.operator=b,this.dialog=d,this.fb=m,this.formBuilder=f,this.groupRepo=p,this.cd=h,this.filteredDirectoryBehaviorSubject=new T.a([]),this.tableColumnDefinition=[{prop:"selection",width:"40px"},{prop:"icon",label:"",width:"40px"},{prop:"title",width:"auto",minWidth:60},{prop:"info",width:"20%",minWidth:60},{prop:"indicator",label:"",width:"40px"},{prop:"menu",label:"",width:"40px"}],this.columnSet=Object(S.p)().table(...this.tableColumnDefinition).build(),this.directoryObservable=new w.a,this.canMultiSelect=!0,this.newDirectoryForm=this.formBuilder.group({title:["",y.G.required],access_groups_id:[]}),this.moveForm=this.formBuilder.group({directory_id:[]}),this.directoryBehaviorSubject=this.repo.getDirectoryBehaviorSubject(),this.groupsBehaviorSubject=this.groupRepo.getViewModelListBehaviorSubject()}get canEdit(){return this.operator.hasPerms(a.b.mediafilesCanManage)}get canAccessFileMenu(){return this.operator.hasPerms(a.b.coreCanManageProjector)||this.operator.hasPerms(a.b.agendaCanSeeListOfSpeakers)||this.operator.hasPerms(a.b.coreCanManageLogosAndFonts)||this.canEdit}get hiddenColumns(){const t=[];return this.canEdit||t.push("info"),this.isMultiSelect||t.push("selection"),this.canAccessFileMenu||t.push("menu"),t}ngOnInit(){super.setTitle("Files"),this.repo.getDirectoryIdByPath(this.route.snapshot.url.map(t=>t.path)).then(t=>{this.changeDirectory(t)}),this.mediaManage.getLogoActions().subscribe(t=>{this.logoActions=t}),this.mediaManage.getFontActions().subscribe(t=>{this.fontActions=t}),this.createDataSource()}ngOnDestroy(){super.ngOnDestroy(),this.clearSubscriptions(),this.cd.detach()}showFileMenu(t){return t.isProjectable()&&this.operator.hasPerms(a.b.coreCanManageProjector)||t.isFont()&&this.operator.hasPerms(a.b.coreCanManageLogosAndFonts)||t.isImage()&&this.operator.hasPerms(a.b.coreCanManageLogosAndFonts)||this.canEdit}getDateFromTimestamp(t){return new Date(t).toLocaleString(this.translate.currentLang)}createDataSource(){this.dataSource=Object(S.q)().onTrigger(()=>this.directoryObservable).create(),this.dataSource.selection.changed.subscribe(t=>{this.selectedRows=t.source.selected})}changeDirectory(t){this.clearSubscriptions(),this.directoryObservable=this.repo.getListObservableDirectory(t),this.folderSubscription=this.directoryObservable.subscribe(t=>{t&&(this.dataSource.refresh(),this.cd.markForCheck())}),t?this.directorySubscription=this.repo.getViewModelObservable(t).subscribe(t=>{this.directory=t,t?(this.directoryChain=t.getDirectoryChain(),this.router.navigate(["/mediafiles/files/"+t.path],{replaceUrl:!0})):(this.directoryChain=[],this.router.navigate(["/mediafiles/files/"],{replaceUrl:!0}))}):(this.directory=null,this.directoryChain=[],this.router.navigate(["/mediafiles/files/"],{replaceUrl:!0}))}onMainEvent(){this.router.navigate(["/mediafiles/upload/"+(this.directory?this.directory.path:"")])}onEditFile(t){this.isMultiSelect||(this.fileToEdit=t,this.fileEditForm=this.fb.group({title:[t.filename,y.G.required],access_groups_id:[t.access_groups_id]}),this.dialogRef=this.dialog.open(this.fileEditDialog,_.a),this.dialogRef.keydownEvents().subscribe(t=>{"Enter"===t.key&&t.shiftKey&&this.fileEditForm.valid&&this.onSaveEditedFile(this.fileEditForm.value)}))}onSaveEditedFile(t){this.repo.update(t,this.fileToEdit).then(()=>{this.dialogRef.close()},this.raiseError)}onDelete(t){return Object(Z.a)(this,void 0,void 0,(function*(){const e=this.translate.instant("Are you sure you want to delete this file?"),c=t.getTitle();(yield this.promptService.open(e,c))&&this.repo.delete(t)}))}deleteSelected(){return Object(Z.a)(this,void 0,void 0,(function*(){const t=this.translate.instant("Are you sure you want to delete all selected files and folders?");(yield this.promptService.open(t))&&(yield this.repo.bulkDelete(this.selectedRows),this.deselectAll())}))}getNameOfAction(t){return this.translate.instant(this.mediaManage.getMediaConfig(t).display_name)}formatIndicatorTooltip(t){return this.getFileSettings(t).map(t=>this.getNameOfAction(t)).join("\n")}isUsedAs(t,e){const c=this.mediaManage.getMediaConfig(e);return!!c&&c.path===t.url}getFileSettings(t){let e=[];return t&&(t.isFont()?e=this.fontActions.filter(e=>this.isUsedAs(t,e)):t.isImage()&&(e=this.logoActions.filter(e=>this.isUsedAs(t,e)))),e}onManageButton(t,e,c){t.stopPropagation(),this.mediaManage.setAs(e,c).then(()=>{this.cd.markForCheck()})}createNewFolder(t){this.newDirectoryForm.reset(),this.dialog.open(t,_.a).afterClosed().subscribe(t=>{if(t){const t=new U.a(Object.assign(Object.assign({},this.newDirectoryForm.value),{parent_id:this.directory?this.directory.id:null,is_directory:!0}));this.repo.create(t).catch(this.raiseError)}})}move(t,e){this.moveForm.reset(),e.some(t=>t.is_directory)?this.filteredDirectoryBehaviorSubject.next(this.directoryBehaviorSubject.value.filter(t=>!e.some(e=>t.path.startsWith(e.path)))):this.filteredDirectoryBehaviorSubject.next(this.directoryBehaviorSubject.value),this.dialog.open(t,_.a).afterClosed().subscribe(t=>{t&&this.repo.move(e,this.moveForm.value.directory_id).then(()=>{this.dataSource.selection.clear(),this.cd.markForCheck()},this.raiseError)})}onSelectRow(t){if(this.isMultiSelect){const e=t.row;this.dataSource.selection.isSelected(e)?this.dataSource.selection.deselect(e):this.dataSource.selection.select(e)}}clearSubscriptions(){this.folderSubscription&&(this.folderSubscription.unsubscribe(),this.folderSubscription=null),this.directorySubscription&&(this.directorySubscription.unsubscribe(),this.directorySubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(s.Ub(l.d),s.Ub(u.k),s.Ub(b.a),s.Ub(H.a),s.Ub(n.a),s.Ub(n.f),s.Ub(o.a),s.Ub(I),s.Ub(R.a),s.Ub(D.a),s.Ub(O),s.Ub(a.a),s.Ub(A.b),s.Ub(y.f),s.Ub(y.f),s.Ub(M.a),s.Ub(s.h))},t.\u0275cmp=s.Ob({type:t,selectors:[["os-mediafile-list"]],viewQuery:function(t,e){var c;1&t&&(s.Pc($,!0),s.Pc(K,!0)),2&t&&(s.Ec(c=s.jc())&&(e.fileEditForm=c.first),s.Ec(c=s.jc())&&(e.fileEditDialog=c.first))},features:[s.Eb],decls:37,vars:20,consts:[[3,"hasMainButton","multiSelectMode","mainEvent"],[1,"title-slot"],["class","menu-slot",4,"osPerms"],["class","central-info-slot",4,"ngIf"],[1,"custom-table-header"],[1,"folder-nav-bar","h-scroller"],["mat-button","",1,"folder",3,"disabled","click"],[1,"file-icon"],["class","folder-section",4,"ngFor","ngForOf"],["class","visibility",4,"ngIf"],["showHeader","false","vScrollAuto","","matCheckboxSelection","selection",1,"file-manager-table",3,"dataSource","columns","hideColumns","rowClick"],["class","fill clickable",4,"pblNgridCellDef"],["class","fill clickable",3,"click",4,"pblNgridCellDef"],["class","fill",4,"pblNgridCellDef"],["class","pbl-ngrid-no-data",4,"pblNgridNoDataRef"],["manageButton",""],["singleMediafileMenu","matMenu"],["matMenuContent",""],["mediafilesMenu","matMenu"],[4,"ngIf"],["fileEditDialog",""],["newFolderDialog",""],["moveDialog",""],[1,"menu-slot"],["type","button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[1,"central-info-slot"],["mat-icon-button","",3,"click"],[1,"folder-section"],[1,"arrow"],["class","folder","mat-button","",3,"disabled","click",4,"ngIf"],["class","folder","mat-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled",4,"ngIf"],["class","folder fake-folder folder-text",4,"ngIf"],[1,"folder-text"],["mat-button","",1,"folder",3,"matMenuTriggerFor","matMenuTriggerData","disabled"],["icon","arrow_drop_down","swap","true","size","large",3,"noWrap"],[1,"folder","fake-folder","folder-text"],[1,"visibility"],["mat-button","",1,"visible-for",3,"click"],["icon","group",3,"matTooltip"],[4,"ngFor","ngForOf"],[1,"fill","clickable"],["class","detail-link","target","_blank",3,"routerLink",4,"ngIf"],["class","detail-link",3,"click",4,"ngIf"],["target","_blank",1,"detail-link",3,"routerLink"],[1,"detail-link",3,"click"],[1,"innerTable"],[1,"file-title","ellipsis-overflow"],["class","info-text",4,"ngIf"],[1,"info-text"],[1,"fill","clickable",3,"click"],["icon","group",4,"ngIf"],["icon","group"],[1,"fill"],[3,"matMenuTriggerFor","matMenuTriggerData","matTooltip",4,"ngIf"],[3,"matMenuTriggerFor","matMenuTriggerData","matTooltip"],["class","file-icon",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled"],[1,"pbl-ngrid-no-data"],["mat-menu-item","",3,"click"],["color","accent"],[4,"osPerms"],[3,"object","menuItem",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"object","menuItem"],["mat-menu-item","",1,"red-warning-text",3,"click"],["mat-menu-item","",3,"click",4,"osPerms"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"disabled","click",4,"osPerms"],["color","warn"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[1,"edit-file-form",3,"formGroup"],["type","text","matInput","","osAutofocus","","required","","formControlName","title",3,"placeholder"],["formControlName","access_groups_id",3,"multiple","placeholder","inputListValues"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"disabled","click"],["type","button","mat-button","",3,"mat-dialog-close"],["matInput","","osAutofocus","","formControlName","title","required","",3,"placeholder"],["type","submit","mat-button","","color","accent",3,"disabled","mat-dialog-close"],["mat-dialog-content","",1,"os-form-card-mobile",3,"formGroup"],["formControlName","directory_id",3,"includeNone","noneTitle","placeholder","inputListValues"],["type","submit","mat-button","","color","accent",3,"mat-dialog-close"]],template:function(t,e){1&t&&(s.ac(0,"os-head-bar",0),s.ic("mainEvent",(function(){return e.onMainEvent()})),s.ac(1,"div",1),s.ac(2,"h2"),s.Tc(3),s.nc(4,"translate"),s.Zb(),s.Zb(),s.Rc(5,Y,5,2,"div",2),s.Rc(6,Q,9,4,"div",3),s.Zb(),s.ac(7,"div"),s.ac(8,"div",4),s.ac(9,"span",5),s.ac(10,"button",6),s.ic("click",(function(){return e.changeDirectory(null)})),s.ac(11,"mat-icon",7),s.Tc(12,"home"),s.Zb(),s.Zb(),s.Rc(13,nt,7,3,"span",8),s.Zb(),s.Rc(14,st,6,8,"span",9),s.Zb(),s.Zb(),s.ac(15,"pbl-ngrid",10),s.ic("rowClick",(function(t){return e.onSelectRow(t)})),s.Rc(16,bt,5,3,"div",11),s.Rc(17,pt,7,4,"div",11),s.Rc(18,yt,2,1,"div",12),s.Rc(19,Ht,2,1,"div",13),s.Rc(20,kt,2,1,"div",13),s.Rc(21,Ft,4,3,"div",14),s.Zb(),s.Rc(22,It,5,2,"ng-template",null,15,s.Sc),s.ac(24,"mat-menu",null,16),s.Rc(26,Bt,3,3,"ng-template",17),s.Zb(),s.ac(27,"mat-menu",null,18),s.Rc(29,Lt,2,1,"div",19),s.Rc(30,Jt,22,12,"div",19),s.Zb(),s.Rc(31,zt,21,21,"ng-template",null,20,s.Sc),s.Rc(33,qt,23,24,"ng-template",null,21,s.Sc),s.Rc(35,Wt,20,21,"ng-template",null,22,s.Sc)),2&t&&(s.uc("hasMainButton",e.canEdit)("multiSelectMode",e.isMultiSelect),s.Hb(3),s.Uc(s.oc(4,18,"Files")),s.Hb(2),s.uc("osPerms","mediafiles.can_manage"),s.Hb(1),s.uc("ngIf",e.isMultiSelect),s.Hb(4),s.uc("disabled",e.isMultiSelect),s.Hb(3),s.uc("ngForOf",e.directoryChain),s.Hb(1),s.uc("ngIf",e.canEdit&&e.directory&&e.directory.has_inherited_access_groups),s.Hb(1),s.uc("dataSource",e.dataSource)("columns",e.columnSet)("hideColumns",e.hiddenColumns),s.Hb(1),s.uc("pblNgridCellDef","icon"),s.Hb(1),s.uc("pblNgridCellDef","title"),s.Hb(1),s.uc("pblNgridCellDef","info"),s.Hb(1),s.uc("pblNgridCellDef","indicator"),s.Hb(1),s.uc("pblNgridCellDef","menu"),s.Hb(9),s.uc("ngIf",!e.isMultiSelect),s.Hb(1),s.uc("ngIf",e.isMultiSelect))},directives:[d.a,j.a,i.t,m.b,p.a,i.s,S.e,S.A,P.b,B.b,S.c,S.l,f.f,f.b,f.e,V.a,L.c,n.i,f.c,i.A,N.a,J.a,A.i,A.f,y.I,y.t,y.k,G.c,z.b,y.c,q.a,y.D,y.s,y.i,W.a,A.c,A.d,G.b],pipes:[u.j,i.E],styles:[".title-line{font-weight:500;font-size:16px}.title-line .icon-prefix .mat-icon{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line .favorite-star{padding-right:3px}.mat-table{width:100%}.mat-table .mat-header-row .mat-column-anchor{display:none}.mat-table .mat-row{position:relative}.mat-table .mat-row .mat-column-anchor{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table .mat-row .mat-column-anchor a{display:block;height:100%;width:100%}.mat-table .mat-cell{position:relative}.mat-table .mat-cell .fill{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table .mat-cell .fill *{margin-top:auto;margin-bottom:auto}.mat-table .mat-cell>*{z-index:2}.mat-table .mat-table-sticky{z-index:3!important}.folder-nav-bar{width:100%}.folder-nav-bar,.folder-section{display:-ms-flexbox;display:flex}.folder-section{white-space:nowrap}.folder-section .mat-button{padding:0}.arrow{height:64px}.arrow .mat-icon{line-height:64px;height:64px}.folder{height:64px}.folder>.content-node{white-space:nowrap}.fake-folder{padding:0 16px}.folder-text{font-size:16px;font-weight:500;margin:auto 5px;overflow:hidden}.visibility{display:-ms-flexbox;display:flex}.visibility .visible-for{width:-webkit-min-content;width:-moz-min-content;width:min-content}.file-manager-table{display:block;height:calc(100vh - 130px)}.file-manager-table .file-title{font-weight:500;font-size:16px}.file-manager-table .info-text{font-size:90%}.file-manager-table .pbl-ngrid-row,.file-manager-table .pbl-ngrid-row .pbl-ngrid-cell{height:60px!important}.file-manager-table .pbl-ngrid-row:last-of-type{margin-bottom:60px!important}"],encapsulation:2,changeDetection:0}),t})()}],pathMatch:"prefix"},{path:"upload",data:{basePerm:a.b.mediafilesCanManage},children:[{path:"**",component:v}],pathMatch:"prefix"}];let Kt=(()=>{class t{}return t.\u0275mod=s.Sb({type:t}),t.\u0275inj=s.Rb({factory:function(e){return new(e||t)},imports:[[n.j.forChild($t)],n.j]}),t})();var Xt=c("PCNd");let Yt=(()=>{class t{}return t.\u0275mod=s.Sb({type:t}),t.\u0275inj=s.Rb({factory:function(e){return new(e||t)},imports:[[i.c,Kt,Xt.a]]}),t})()},F48D:function(t,e,c){"use strict";c.d(e,"a",(function(){return r}));var i=c("mrSG"),n=c("LBBb"),a=c("fXoL"),o=c("0IaG");let r=(()=>{class t{constructor(t){this.dialog=t}open(t,e=""){return Object(i.a)(this,void 0,void 0,(function*(){return this.dialog.open(n.a,{width:"250px",data:{title:t,content:e}}).afterClosed().toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(a.ec(o.b))},t.\u0275prov=a.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},LBBb:function(t,e,c){"use strict";c.d(e,"a",(function(){return l}));var i=c("0IaG"),n=c("fXoL"),a=c("ofXK"),o=c("bTqV"),r=c("sYmb");function s(t,e){if(1&t&&(n.ac(0,"div"),n.ac(1,"h2",1),n.Tc(2),n.Zb(),n.Vb(3,"mat-dialog-content",2),n.ac(4,"mat-dialog-actions"),n.ac(5,"button",3),n.Tc(6),n.nc(7,"translate"),n.Zb(),n.ac(8,"button",4),n.Tc(9),n.nc(10,"translate"),n.Zb(),n.Zb(),n.Zb()),2&t){const t=n.mc();n.Hb(2),n.Uc(t.data.title),n.Hb(1),n.uc("innerHTML",t.data.content,n.Kc),n.Hb(2),n.uc("mat-dialog-close",!0),n.Hb(1),n.Uc(n.oc(7,6,"Yes")),n.Hb(2),n.uc("mat-dialog-close",!1),n.Hb(1),n.Uc(n.oc(10,8,"Cancel"))}}let l=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}}return t.\u0275fac=function(e){return new(e||t)(n.Ub(i.h),n.Ub(i.a))},t.\u0275cmp=n.Ob({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&n.Rc(0,s,11,10,"div",0),2&t&&n.uc("ngIf",e.data)},directives:[a.t,i.i,i.f,i.c,o.b,i.d],pipes:[r.j],encapsulation:2}),t})()},wL0i:function(t,e,c){"use strict";c.d(e,"a",(function(){return n}));var i=c("mV3u");class n extends i.a{constructor(t,e,c,i){super(t,e,c),this.storage=i,this.canMultiSelect=!1,this._multiSelectMode=!1,this.singleButtonWidth="40px",this.badgeButtonWidth="45px",this.selectedRows=[]}onDataSourceChange(t){this.dataSource=t}toggleMultiSelect(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}selectAll(){this.dataSource.selection.select(...this.dataSource.filteredData)}deselectAll(){this.dataSource&&this.dataSource.selection.clear()}get isMultiSelect(){return this._multiSelectMode}}}}]);