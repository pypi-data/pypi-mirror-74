function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){o=!0,a=t},f:function(){try{c||null==n.return||n.return()}finally{if(o)throw a}}}}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,a=void 0;try{for(var c,o=t[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"6fpL":function(t,e,n){"use strict";n.r(e),n.d(e,"OsCommonModule",(function(){return dt}));var r,i,a=n("ofXK"),c=n("tyNb"),o=n("OwvW"),s=n("fXoL"),u=n("mksl"),l=n("Wp6s"),b=n("sYmb"),f=((r=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.route.queryParams.subscribe((function(t){t&&t.error&&console.error("".concat(t.error,'! Required: "').concat(t.msg,'"'))}))}}]),t}()).\u0275fac=function(t){return new(t||r)(s.Ub(c.a))},r.\u0275cmp=s.Ob({type:r,selectors:[["os-error"]],decls:9,vars:6,consts:[[1,"title-slot"],[1,"os-card"]],template:function(t,e){1&t&&(s.ac(0,"os-head-bar"),s.ac(1,"div",0),s.ac(2,"h2"),s.Tc(3),s.nc(4,"translate"),s.Zb(),s.Zb(),s.Zb(),s.ac(5,"mat-card",1),s.ac(6,"h1"),s.Tc(7),s.nc(8,"translate"),s.Zb(),s.Zb()),2&t&&(s.Hb(3),s.Uc(s.oc(4,2,"Error")),s.Hb(4),s.Uc(s.oc(8,4,"You do not have the required permission to see that page!")))},directives:[u.a,l.a],pipes:[b.j],styles:[""]}),r),p=n("xTJg"),d=n("qWJO"),v=n("BOLD"),h=n("YZ1K"),g=n("mV3u"),m=n("jhN1"),y=n("dNgK"),k=n("try9"),_=n("bTqV"),S=n("3Xi6"),C=n("3UWI"),O=n("2Vo4"),T=n("ZDbo"),E=n("i7i4"),U=((i=function(){function t(e,n){_classCallCheck(this,t),this.countUserService=e,this.userRepo=n,this.runningCounts={}}return _createClass(t,[{key:"countUsers",value:function(){var t,e,n,r=this;return t=_slicedToArray(this.countUserService.countUsers(),2),e=t[0],n=t[1],this.runningCounts[e]=new O.a({activeUserHandles:0,activeUsers:{},groups:{}}),n.subscribe((function(t){var n=t.userId?t.userId:0,i=r.runningCounts[e].getValue(),a=r.userRepo.getViewModel(n);i.activeUserHandles++,i.activeUsers[n]||(i.activeUsers[n]=0),i.activeUsers[n]++,(a?a.groups:[]).forEach((function(t){i.groups[t.id]||(i.groups[t.id]={name:t.name,users:{},userHandleCount:0}),i.groups[t.id].userHandleCount++,i.groups[t.id].users[n]=i.activeUsers[n]})),r.runningCounts[e].next(i)})),[e,this.runningCounts[e].asObservable()]}},{key:"stopCounting",value:function(t){this.runningCounts[t]&&(this.runningCounts[t].complete(),delete this.runningCounts[t])}}]),t}()).\u0275fac=function(t){return new(t||i)(s.ec(E.a),s.ec(T.a))},i.\u0275prov=s.Qb({token:i,factory:i.\u0275fac,providedIn:"root"}),i);function w(t,e){if(1&t){var n=s.bc();s.ac(0,"button",2),s.ic("click",(function(){return s.Jc(n),s.mc().countUsers()})),s.Tc(1),s.nc(2,"translate"),s.Zb()}2&t&&(s.Hb(1),s.Vc(" ",s.oc(2,1,"Count active users"),"\n"))}function Z(t,e){if(1&t){var n=s.bc();s.ac(0,"button",2),s.ic("click",(function(){return s.Jc(n),s.mc().stopCounting()})),s.Tc(1),s.nc(2,"translate"),s.Zb()}2&t&&(s.Hb(1),s.Vc(" ",s.oc(2,1,"Stop counting"),"\n"))}function H(t,e){if(1&t&&(s.ac(0,"li"),s.ac(1,"strong"),s.Tc(2),s.Zb(),s.Tc(3),s.nc(4,"translate"),s.nc(5,"translate"),s.Zb()),2&t){var n=e.$implicit,r=s.mc(2);s.Hb(2),s.Vc("",r.stats.groups[n].name,":"),s.Hb(1),s.Yc(" ",r.userInGroupIds(n).length," ",s.oc(4,5,"active users")," (",r.stats.groups[n].userHandleCount," ",s.oc(5,7,"connections"),") ")}}function R(t,e){if(1&t&&(s.ac(0,"div"),s.ac(1,"p"),s.Tc(2),s.nc(3,"translate"),s.nc(4,"translate"),s.Zb(),s.Tc(5),s.nc(6,"translate"),s.ac(7,"ul"),s.Rc(8,H,6,9,"li",3),s.Zb(),s.Zb()),2&t){var n=s.mc();s.Hb(2),s.Yc(" ",n.userIds().length," ",s.oc(3,6,"active users")," (",n.stats.activeUserHandles," ",s.oc(4,8,"connections"),") "),s.Hb(3),s.Vc(" ",s.oc(6,10,"Groups"),": "),s.Hb(3),s.uc("ngForOf",n.groupIds())}}var I,P=((I=function(){function t(e){_classCallCheck(this,t),this.countUsersStatisticService=e,this.token=null,this.stats=null}return _createClass(t,[{key:"countUsers",value:function(){var t,e=this;this.token||(t=_slicedToArray(this.countUsersStatisticService.countUsers(),2),this.token=t[0],t[1].pipe(Object(C.a)(100)).subscribe((function(t){e.stats=t})))}},{key:"stopCounting",value:function(){this.token&&(this.countUsersStatisticService.stopCounting(this.token),this.token=null,this.stats=null)}},{key:"userIds",value:function(){return Object.keys(this.stats.activeUsers).map((function(t){return+t}))}},{key:"groupIds",value:function(){return Object.keys(this.stats.groups).map((function(t){return+t}))}},{key:"userInGroupIds",value:function(t){return Object.keys(this.stats.groups[t].users).map((function(t){return+t}))}},{key:"ngOnDestroy",value:function(){this.stopCounting()}}]),t}()).\u0275fac=function(t){return new(t||I)(s.Ub(U))},I.\u0275cmp=s.Ob({type:I,selectors:[["os-count-users"]],decls:3,vars:3,consts:[["type","button","mat-stroked-button","",3,"click",4,"ngIf"],[4,"ngIf"],["type","button","mat-stroked-button","",3,"click"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(s.Rc(0,w,3,3,"button",0),s.Rc(1,Z,3,3,"button",0),s.Rc(2,R,9,12,"div",1)),2&t&&(s.uc("ngIf",!e.token),s.Hb(1),s.uc("ngIf",e.token),s.Hb(1),s.uc("ngIf",e.stats))},directives:[a.t,_.b,a.s],pipes:[b.j],encapsulation:2}),I),j=n("3Y/2"),q=n("2aHC"),D=n("0Obk"),M=n("dRZP");function B(t,e){if(1&t){var n=s.bc();s.ac(0,"button",2),s.ic("click",(function(){return s.Jc(n),s.mc().changeViewOfStatistics()})),s.Tc(1),s.nc(2,"translate"),s.Zb()}2&t&&(s.Hb(1),s.Vc(" ",s.oc(2,1,"Count completed requests to speak"),"\n"))}function A(t,e){if(1&t){var n=s.bc();s.ac(0,"button",2),s.ic("click",(function(){return s.Jc(n),s.mc().changeViewOfStatistics()})),s.Tc(1),s.nc(2,"translate"),s.Zb()}2&t&&(s.Hb(1),s.Vc(" ",s.oc(2,1,"Stop counting"),"\n"))}function x(t,e){if(1&t&&(s.ac(0,"div"),s.Tc(1),s.nc(2,"translate"),s.Zb()),2&t){var n=e.col;s.Hb(1),s.Vc(" ",s.oc(2,1,n.label)," ")}}function L(t,e){if(1&t&&(s.ac(0,"div"),s.Tc(1),s.nc(2,"translate"),s.Zb()),2&t){var n=e.row;s.Hb(1),s.Vc(" ",s.oc(2,1,n.structureLevel)," ")}}function N(t,e){if(1&t&&(s.ac(0,"div"),s.Tc(1),s.Zb()),2&t){var n=e.row,r=s.mc(2);s.Hb(1),s.Vc(" ",r.parseDuration(n.speakingTime)," ")}}function V(t,e){if(1&t&&(s.ac(0,"div"),s.Tc(1),s.Zb()),2&t){var n=e.row;s.Hb(1),s.Vc(" ",n.finishedSpeakers.length," ")}}function F(t,e){if(1&t&&(s.Yb(0),s.ac(1,"table",3),s.ac(2,"tr"),s.ac(3,"td"),s.Tc(4),s.nc(5,"translate"),s.Zb(),s.ac(6,"td"),s.Tc(7),s.Zb(),s.Zb(),s.ac(8,"tr"),s.ac(9,"td"),s.Tc(10),s.nc(11,"translate"),s.Zb(),s.ac(12,"td"),s.Tc(13),s.Zb(),s.Zb(),s.ac(14,"tr"),s.ac(15,"td"),s.Tc(16),s.nc(17,"translate"),s.Zb(),s.ac(18,"td"),s.Tc(19),s.Zb(),s.Zb(),s.Zb(),s.ac(20,"os-list-view-table",4),s.Rc(21,x,3,3,"div",5),s.Rc(22,L,3,3,"div",6),s.Rc(23,N,2,1,"div",6),s.Rc(24,V,2,1,"div",6),s.Zb(),s.Xb()),2&t){var n=s.mc();s.Hb(4),s.Uc(s.oc(5,17,"Number of all requests to speak")),s.Hb(3),s.Uc(n.numberOfWordRequests),s.Hb(3),s.Uc(s.oc(11,19,"Unique speakers")),s.Hb(3),s.Uc(n.numberOfUniqueSpeakers),s.Hb(3),s.Uc(s.oc(17,21,"Duration of all requests to speak")),s.Hb(3),s.Uc(n.totalDuration),s.Hb(1),s.uc("listObservable",n.statisticsByStructureLevelObservable)("columns",n.columnDefinition)("filterProps",n.filterProps)("vScrollFixed",45)("allowProjector",!1)("fullScreen",!1)("showListOfSpeakers",!1),s.Hb(1),s.uc("pblNgridHeaderCellDef","*"),s.Hb(1),s.uc("pblNgridCellDef","structureLevel"),s.Hb(1),s.uc("pblNgridCellDef","durationOfWordRequests"),s.Hb(1),s.uc("pblNgridCellDef","numberOfWordRequests")}}var W,J=((W=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,a,c){var o;return _classCallCheck(this,n),(o=e.call(this,t,r,i)).translate=r,o.losRepo=a,o.durationService=c,o.columnDefinition=[{prop:"structureLevel",width:"auto",label:"Structure level"},{prop:"durationOfWordRequests",width:"auto",label:o.translate.instant("Duration of requests to speak")},{prop:"numberOfWordRequests",width:"auto",label:o.translate.instant("Number of requests to speak")}],o.filterProps=["structureLevel"],o.speakingTimeAsNumber=0,o.uniqueSpeakers=[],o._numberOfWordRequests=0,o.statisticIsOpen=!1,o.relationSpeakingTimeStructureLevelSubject=new O.a([]),o}return _createClass(n,[{key:"changeViewOfStatistics",value:function(){this.statisticIsOpen=!this.statisticIsOpen,this.statisticIsOpen?this.startSubscription():this.cleanSubjects()}},{key:"pushNextState",value:function(){var t=this.losRepo.getSpeakingTimeStructureLevelRelation();t.sort((function(t,e){return e.finishedSpeakers.length-t.finishedSpeakers.length}));var e,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.speakingTimeAsNumber+=r.speakingTime,this._numberOfWordRequests+=r.finishedSpeakers.length}}catch(i){n.e(i)}finally{n.f()}this.relationSpeakingTimeStructureLevelSubject.next(t),this.uniqueSpeakers=this.losRepo.getAllFirstContributions()}},{key:"parseDuration",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?this.durationService.durationToStringWithHours(t):this.durationService.durationToString(t,"m")}},{key:"startSubscription",value:function(){var t=this;this.subscriptions.push(this.losRepo.getViewModelListObservable().subscribe((function(){t.reset(),t.pushNextState()})))}},{key:"reset",value:function(){this._numberOfWordRequests=0,this.speakingTimeAsNumber=0}},{key:"totalDuration",get:function(){return this.parseDuration(this.speakingTimeAsNumber,!0)}},{key:"numberOfUniqueSpeakers",get:function(){return this.uniqueSpeakers.length}},{key:"numberOfWordRequests",get:function(){return this._numberOfWordRequests}},{key:"statisticsByStructureLevelObservable",get:function(){return this.relationSpeakingTimeStructureLevelSubject.asObservable()}},{key:"openedStatistics",get:function(){return this.statisticIsOpen}}]),n}(g.a)).\u0275fac=function(t){return new(t||W)(s.Ub(m.d),s.Ub(b.k),s.Ub(y.a),s.Ub(j.a),s.Ub(q.a))},W.\u0275cmp=s.Ob({type:W,selectors:[["os-user-statistics"]],features:[s.Eb],decls:3,vars:3,consts:[["mat-stroked-button","",3,"click",4,"ngIf"],[4,"ngIf"],["mat-stroked-button","",3,"click"],[1,"user-statistics-table"],[1,"user-statistics-table--virtual-scroll",3,"listObservable","columns","filterProps","vScrollFixed","allowProjector","fullScreen","showListOfSpeakers"],[4,"pblNgridHeaderCellDef"],[4,"pblNgridCellDef"]],template:function(t,e){1&t&&(s.Rc(0,B,3,3,"button",0),s.Rc(1,A,3,3,"button",0),s.Rc(2,F,25,23,"ng-container",1)),2&t&&(s.uc("ngIf",!e.openedStatistics),s.Hb(1),s.uc("ngIf",e.openedStatistics),s.Hb(1),s.uc("ngIf",e.openedStatistics))},directives:[a.t,_.b,D.a,M.h,M.c],pipes:[b.j],styles:[".user-statistics-table{width:100%;margin:16px auto}.user-statistics-table,.user-statistics-table td,.user-statistics-table th{border-collapse:collapse;border-bottom-width:1px;border-bottom-style:solid}.user-statistics-table td,.user-statistics-table th{padding:8px 8px 8px 24px;text-align:left}.user-statistics-table--virtual-scroll{display:block;height:500px}.user-statistics-table--virtual-scroll .list-view-frame{height:100%}"],encapsulation:2,changeDetection:0}),W);function G(t,e){if(1&t){var n=s.bc();s.ac(0,"mat-card",3),s.ac(1,"div"),s.ac(2,"button",4),s.ic("click",(function(){return s.Jc(n),s.mc().printDS()})),s.ac(3,"span"),s.Tc(4,"Print DS"),s.Zb(),s.Zb(),s.Zb(),s.ac(5,"div"),s.ac(6,"button",4),s.ic("click",(function(){return s.Jc(n),s.mc().getThisComponent()})),s.ac(7,"span"),s.Tc(8,"Get this component"),s.Zb(),s.Zb(),s.Zb(),s.Zb()}}function Y(t,e){1&t&&(s.ac(0,"mat-card",7),s.ac(1,"h2"),s.Tc(2),s.nc(3,"translate"),s.Zb(),s.ac(4,"div"),s.ac(5,"h3"),s.Tc(6),s.nc(7,"translate"),s.Zb(),s.Vb(8,"os-count-users"),s.Zb(),s.ac(9,"div"),s.ac(10,"h3"),s.Tc(11),s.nc(12,"translate"),s.Zb(),s.Vb(13,"os-user-statistics"),s.Zb(),s.Zb()),2&t&&(s.Hb(2),s.Uc(s.oc(3,3,"Statistics")),s.Hb(4),s.Uc(s.oc(7,5,"Active users")),s.Hb(5),s.Uc(s.oc(12,7,"Requests to speak")))}var X,K,z=((X=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,a,c,o,s,u){var l;return _classCallCheck(this,n),(l=e.call(this,t,r,i)).translate=r,l.openSlidesService=a,l.update=c,l.configRepo=o,l.operator=s,l.DS=u,l.isEditing=!1,l.legalNotice="",l.showDevTools=!1,l}return _createClass(n,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(n.prototype),"setTitle",this).call(this,this.translate.instant("Legal notice"))}},{key:"resetCache",value:function(){this.openSlidesService.reset()}},{key:"checkForUpdate",value:function(){this.update.checkForUpdate()}},{key:"saveChanges",value:function(){var t=this;this.configRepo.bulkUpdate([{key:"general_event_legal_notice",value:this.legalNotice}]).then((function(){return t.isEditing=!t.isEditing}),this.raiseError)}},{key:"canManage",value:function(){return this.operator.hasPerms(o.b.coreCanManageConfig)}},{key:"printDS",value:function(){this.DS.print()}},{key:"getThisComponent",value:function(){console.log(this)}}]),n}(g.a)).\u0275fac=function(t){return new(t||X)(s.Ub(m.d),s.Ub(b.k),s.Ub(y.a),s.Ub(d.a),s.Ub(h.a),s.Ub(v.a),s.Ub(o.a),s.Ub(p.a))},X.\u0275cmp=s.Ob({type:X,selectors:[["os-legal-notice"]],features:[s.Eb],decls:25,vars:24,consts:[[3,"nav","goBack","editMode","hasMainButton","mainButtonIcon","mainActionTooltip","cancelEditEvent","mainEvent","saveEvent"],[1,"title-slot"],[3,"canBeEdited","isEditing","update"],[1,"os-card"],["type","button","mat-button","",3,"click"],["class","os-card",4,"ngIf"],["class","os-card spacer-bottom-60",4,"osPerms"],[1,"os-card","spacer-bottom-60"]],template:function(t,e){1&t&&(s.ac(0,"os-head-bar",0),s.ic("cancelEditEvent",(function(){return e.isEditing=!e.isEditing}))("mainEvent",(function(){return e.isEditing=!e.isEditing}))("saveEvent",(function(){return e.saveChanges()})),s.nc(1,"translate"),s.ac(2,"div",1),s.ac(3,"h2"),s.Tc(4),s.nc(5,"translate"),s.Zb(),s.Zb(),s.Zb(),s.ac(6,"os-legal-notice-content",2),s.ic("update",(function(t){return e.legalNotice=t})),s.Zb(),s.ac(7,"mat-card",3),s.ac(8,"div"),s.ac(9,"button",4),s.ic("click",(function(){return e.resetCache()})),s.ac(10,"span"),s.Tc(11),s.nc(12,"translate"),s.Zb(),s.Zb(),s.Zb(),s.ac(13,"div"),s.ac(14,"button",4),s.ic("click",(function(){return e.checkForUpdate()})),s.ac(15,"span"),s.Tc(16),s.nc(17,"translate"),s.Zb(),s.Zb(),s.Zb(),s.ac(18,"div"),s.ac(19,"button",4),s.ic("click",(function(){return e.showDevTools=!e.showDevTools})),s.ac(20,"span"),s.Tc(21),s.nc(22,"translate"),s.Zb(),s.Zb(),s.Zb(),s.Rc(23,G,9,0,"mat-card",5),s.Zb(),s.Rc(24,Y,14,9,"mat-card",6)),2&t&&(s.uc("nav",!1)("goBack",!0)("editMode",e.isEditing)("hasMainButton",e.canManage())("mainButtonIcon","edit")("mainActionTooltip",s.oc(1,14,"Edit")),s.Hb(4),s.Uc(s.oc(5,16,"Legal notice")),s.Hb(2),s.uc("canBeEdited",!0)("isEditing",e.isEditing),s.Hb(5),s.Uc(s.oc(12,18,"Reset cache")),s.Hb(5),s.Uc(s.oc(17,20,"Check for updates")),s.Hb(5),s.Uc(s.oc(22,22,"Show devtools")),s.Hb(2),s.uc("ngIf",e.showDevTools),s.Hb(1),s.uc("osPerms","users.can_manage"))},directives:[u.a,k.a,l.a,_.b,a.t,S.a,P,J],pipes:[b.j],encapsulation:2}),X),$=n("ij0B"),Q=((K=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,a,c){var o;return _classCallCheck(this,n),(o=e.call(this,t,r,i)).translate=r,o.configRepo=a,o.operator=c,o.isEditing=!1,o.privacyProlicy="",o}return _createClass(n,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(n.prototype),"setTitle",this).call(this,this.translate.instant("Privacy policy"))}},{key:"saveChanges",value:function(){var t=this;this.configRepo.bulkUpdate([{key:"general_event_privacy_policy",value:this.privacyProlicy}]).then((function(){return t.isEditing=!t.isEditing}),this.raiseError)}},{key:"canManage",value:function(){return this.operator.hasPerms(o.b.coreCanManageConfig)}}]),n}(g.a)).\u0275fac=function(t){return new(t||K)(s.Ub(m.d),s.Ub(b.k),s.Ub(y.a),s.Ub(v.a),s.Ub(o.a))},K.\u0275cmp=s.Ob({type:K,selectors:[["os-privacy-policy"]],features:[s.Eb],decls:7,vars:13,consts:[[3,"nav","goBack","editMode","hasMainButton","mainButtonIcon","mainActionTooltip","cancelEditEvent","mainEvent","saveEvent"],[1,"title-slot"],[3,"canBeEdited","isEditing","update"]],template:function(t,e){1&t&&(s.ac(0,"os-head-bar",0),s.ic("cancelEditEvent",(function(){return e.isEditing=!e.isEditing}))("mainEvent",(function(){return e.isEditing=!e.isEditing}))("saveEvent",(function(){return e.saveChanges()})),s.nc(1,"translate"),s.ac(2,"div",1),s.ac(3,"h2"),s.Tc(4),s.nc(5,"translate"),s.Zb(),s.Zb(),s.Zb(),s.ac(6,"os-privacy-policy-content",2),s.ic("update",(function(t){return e.privacyProlicy=t})),s.Zb()),2&t&&(s.uc("nav",!1)("goBack",!0)("editMode",e.isEditing)("hasMainButton",e.canManage())("mainButtonIcon","edit")("mainActionTooltip",s.oc(1,9,"Edit")),s.Hb(4),s.Uc(s.oc(5,11,"Privacy Policy")),s.Hb(2),s.uc("canBeEdited",!0)("isEditing",e.isEditing))},directives:[u.a,$.a],pipes:[b.j],styles:[""]}),K),tt=n("3Pt+"),et=n("+KbT"),nt=n("kmnG"),rt=n("qFsG"),it=n("fB2i"),at=n("7jBc");function ct(t,e){if(1&t&&(s.Yb(0),s.ac(1,"div",4),s.ac(2,"h1"),s.Tc(3),s.nc(4,"translate"),s.Zb(),s.Vb(5,"div",5),s.nc(6,"trust"),s.Zb(),s.Xb()),2&t){var n=s.mc();s.Hb(3),s.Uc(s.oc(4,2,n.startContent.general_event_welcome_title)),s.Hb(2),s.uc("innerHTML",s.pc(6,4,n.startContent.general_event_welcome_text,"html"),s.Kc)}}function ot(t,e){if(1&t&&(s.Yb(0),s.ac(1,"form",6),s.ac(2,"mat-form-field"),s.Vb(3,"input",7),s.nc(4,"translate"),s.ac(5,"mat-error"),s.Tc(6),s.nc(7,"translate"),s.Zb(),s.Zb(),s.Vb(8,"editor",8),s.Zb(),s.Xb()),2&t){var n=s.mc();s.Hb(1),s.uc("formGroup",n.startForm),s.Hb(2),s.vc("placeholder",s.oc(4,4,"Front page title")),s.Hb(3),s.Uc(s.oc(7,6,"The title is required")),s.Hb(2),s.uc("init",n.tinyMceSettings)}}var st,ut,lt,bt=[{path:"",component:(st=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,a,c,o,s){var u;return _classCallCheck(this,n),(u=e.call(this,t,r,i)).configService=a,u.configRepo=c,u.fb=o,u.operator=s,u.isEditing=!1,u.startContent={general_event_welcome_title:"",general_event_welcome_text:""},u.startForm=u.fb.group({general_event_welcome_title:["",tt.G.required],general_event_welcome_text:""}),u}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;_get(_getPrototypeOf(n.prototype),"setTitle",this).call(this,"Home"),this.configService.get("general_event_welcome_title").subscribe((function(e){return t.startContent.general_event_welcome_title=e})),this.configService.get("general_event_welcome_text").subscribe((function(e){t.startContent.general_event_welcome_text=t.translate.instant(e)}))}},{key:"editStartPage",value:function(){var t=this;Object.keys(this.startForm.controls).forEach((function(e){t.startForm.patchValue(_defineProperty({},e,t.startContent[e]))})),this.isEditing=!0}},{key:"saveChanges",value:function(){var t=this;this.configRepo.bulkUpdate(Object.keys(this.startForm.controls).map((function(e){return{key:e,value:t.startForm.value[e]}}))).then((function(){return t.isEditing=!t.isEditing}),this.raiseError)}},{key:"canManage",value:function(){return this.operator.hasPerms(o.b.coreCanManageConfig)}}]),n}(g.a),st.\u0275fac=function(t){return new(t||st)(s.Ub(m.d),s.Ub(b.k),s.Ub(y.a),s.Ub(et.a),s.Ub(v.a),s.Ub(tt.f),s.Ub(o.a))},st.\u0275cmp=s.Ob({type:st,selectors:[["os-start"]],features:[s.Eb],decls:8,vars:10,consts:[[3,"hasMainButton","editMode","mainButtonIcon","isSaveButtonEnabled","mainEvent","saveEvent","cancelEditEvent"],[1,"title-slot"],[1,"spacer-bottom-60",3,"ngClass"],[4,"ngIf"],[1,"app-content"],[3,"innerHTML"],[3,"formGroup"],["matInput","","formControlName","general_event_welcome_title","required","",3,"placeholder"],["formControlName","general_event_welcome_text",3,"init"]],template:function(t,e){1&t&&(s.ac(0,"os-head-bar",0),s.ic("mainEvent",(function(){return e.editStartPage()}))("saveEvent",(function(){return e.saveChanges()}))("cancelEditEvent",(function(){return e.isEditing=!e.isEditing})),s.ac(1,"div",1),s.ac(2,"h2"),s.Tc(3),s.nc(4,"translate"),s.Zb(),s.Zb(),s.Zb(),s.ac(5,"mat-card",2),s.Rc(6,ct,7,7,"ng-container",3),s.Rc(7,ot,9,8,"ng-container",3),s.Zb()),2&t&&(s.uc("hasMainButton",e.canManage())("editMode",e.isEditing)("mainButtonIcon","edit")("isSaveButtonEnabled",e.startForm.valid),s.Hb(3),s.Uc(s.oc(4,8,"Home")),s.Hb(2),s.uc("ngClass",e.isEditing?"os-form-card":"os-card"),s.Hb(1),s.uc("ngIf",!e.isEditing),s.Hb(1),s.uc("ngIf",e.isEditing))},directives:[u.a,l.a,a.q,a.t,tt.I,tt.t,tt.k,nt.c,rt.b,tt.c,tt.s,tt.i,tt.D,nt.b,it.a],pipes:[b.j,at.a],styles:[".app-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}"]}),st),pathMatch:"full",data:{basePerm:o.b.coreCanSeeFrontpage}},{path:"legalnotice",component:z},{path:"privacypolicy",component:Q},{path:"error",component:f}],ft=((ut=function t(){_classCallCheck(this,t)}).\u0275mod=s.Sb({type:ut}),ut.\u0275inj=s.Rb({factory:function(t){return new(t||ut)},imports:[[c.j.forChild(bt)],c.j]}),ut),pt=n("PCNd"),dt=((lt=function t(){_classCallCheck(this,t)}).\u0275mod=s.Sb({type:lt}),lt.\u0275inj=s.Rb({factory:function(t){return new(t||lt)},imports:[[a.c,ft,pt.a]]}),lt)}}]);