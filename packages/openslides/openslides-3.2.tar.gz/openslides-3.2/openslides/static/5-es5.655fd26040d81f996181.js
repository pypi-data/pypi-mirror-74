function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,a=!1,r=void 0;try{for(var i,c=e[Symbol.iterator]();!(o=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(l){a=!0,r=l}finally{try{o||null==c.return||c.return()}finally{if(a)throw r}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"0bMg":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"validation",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.map((function(t){return e.get(t)})).every((function(e){return e&&""===e.value||!e}))?{noOneSet:!0}:null}}}]),e}()},"5NaA":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var o=n("3Pt+"),a=n("R+Vs"),r=n("+KbT"),i=n("owL4"),c=n("HRp2"),l=n("qnZ9"),s=n("Izkr"),u=n("aOHa"),p=n("mV3u"),f=n("8fOK"),h=n("fXoL"),b=n("jhN1"),d=n("sYmb"),m=n("dNgK"),y=n("0IaG"),g=n("kmnG"),v=n("qFsG"),_=n("ofXK"),k=n("d3UM"),C=n("FKr1"),V=n("oqD5"),O=n("bSwM");function P(e,t){if(1&e&&(h.ac(0,"mat-option",13),h.Tc(1),h.nc(2,"translate"),h.Zb()),2&e){var n=t.$implicit;h.uc("value",n.key),h.Hb(1),h.Vc(" ",h.oc(2,2,n.value)," ")}}function w(e,t){if(1&e){var n=h.bc();h.ac(0,"mat-hint",14),h.ic("click",(function(){return h.Jc(n),h.mc(3).openVotingWarning()})),h.Tc(1),h.nc(2,"translate"),h.Zb()}2&e&&(h.Hb(1),h.Vc(" ",h.oc(2,1,"Not suitable for formal secret voting!"),""))}function T(e,t){if(1&e&&(h.ac(0,"mat-form-field",9),h.ac(1,"mat-select",10),h.nc(2,"translate"),h.Rc(3,P,3,4,"mat-option",11),h.nc(4,"keyvalue"),h.Zb(),h.ac(5,"mat-error"),h.Tc(6),h.nc(7,"translate"),h.Zb(),h.Rc(8,w,3,3,"mat-hint",12),h.Zb()),2&e){var n=h.mc(2);h.Hb(1),h.uc("placeholder",h.oc(2,4,n.PollPropertyVerbose.type)),h.Hb(2),h.uc("ngForOf",h.oc(4,6,n.pollTypes)),h.Hb(3),h.Uc(h.oc(7,8,"This field is required.")),h.Hb(2),h.uc("ngIf",n.showNonNominalWarning)}}function x(e,t){if(1&e&&(h.ac(0,"mat-form-field"),h.Vb(1,"os-search-value-selector",15),h.nc(2,"translate"),h.Zb()),2&e){var n=h.mc(2);h.Hb(1),h.uc("multiple",!0)("showChips",!1)("includeNone",!1)("placeholder",h.oc(2,5,n.PollPropertyVerbose.groups))("inputListValues",n.groupObservable)}}function F(e,t){if(1&e&&(h.ac(0,"mat-option",13),h.Tc(1),h.nc(2,"translate"),h.Zb()),2&e){var n=t.$implicit;h.uc("value",n.key),h.Hb(1),h.Vc(" ",h.oc(2,2,n.value)," ")}}function N(e,t){if(1&e&&(h.ac(0,"mat-form-field"),h.ac(1,"mat-select",16),h.nc(2,"translate"),h.Rc(3,F,3,4,"mat-option",11),h.nc(4,"keyvalue"),h.Zb(),h.ac(5,"mat-error"),h.Tc(6),h.nc(7,"translate"),h.Zb(),h.Zb()),2&e){var n=h.mc(2);h.Hb(1),h.uc("placeholder",h.oc(2,3,n.PollPropertyVerbose.pollmethod)),h.Hb(2),h.uc("ngForOf",h.pc(4,5,n.pollMethods,n.keepEntryOrder)),h.Hb(3),h.Uc(h.oc(7,8,"This field is required."))}}function I(e,t){if(1&e&&(h.Yb(0),h.Rc(1,T,9,10,"mat-form-field",8),h.Rc(2,x,3,7,"mat-form-field",5),h.Rc(3,N,8,10,"mat-form-field",5),h.Xb()),2&e){var n=h.mc();h.Hb(1),h.uc("ngIf",n.isEVotingEnabled),h.Hb(1),h.uc("ngIf",n.contentForm.get("type").value&&"analog"!==n.contentForm.get("type").value),h.Hb(1),h.uc("ngIf",n.pollMethods)}}function A(e,t){if(1&e&&(h.Yb(0),h.ac(1,"mat-option",13),h.Tc(2),h.nc(3,"translate"),h.Zb(),h.Xb()),2&e){var n=t.$implicit;h.Hb(1),h.uc("value",n.key),h.Hb(1),h.Uc(h.oc(3,2,n.value))}}function H(e,t){if(1&e&&(h.Yb(0),h.ac(1,"mat-form-field"),h.Vb(2,"input",17),h.nc(3,"translate"),h.Zb(),h.ac(4,"mat-checkbox",18),h.Tc(5),h.nc(6,"translate"),h.Zb(),h.ac(7,"mat-checkbox",19),h.Tc(8),h.nc(9,"translate"),h.Zb(),h.Xb()),2&e){var n=h.mc();h.Hb(2),h.vc("placeholder",h.oc(3,3,n.PollPropertyVerbose.votes_amount)),h.Hb(3),h.Uc(h.oc(6,5,n.PollPropertyVerbose.global_no)),h.Hb(3),h.Uc(h.oc(9,7,n.PollPropertyVerbose.global_abstain))}}var S=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,a,r,i,c,s){var u;return _classCallCheck(this,n),(u=t.call(this,e,o,a)).translate=o,u.fb=r,u.groupRepo=i,u.configService=c,u.dialog=s,u.PollType=l.f,u.PollPropertyVerbose=f.d,u.pollTypes=f.e,u.majorityMethods=f.a,u.groupObservable=null,u.pollValues=[],u.publishImmediately=!0,u.showNonNominalWarning=!1,u.initContentForm(),u}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.groupObservable=this.groupRepo.getViewModelListObservableWithoutDefaultGroup(),this.data&&(this.data.state&&this.disablePollType(),this.data instanceof u.c&&(this.data.assignment&&!this.data.votes_amount&&(this.data.votes_amount=this.data.assignment.open_posts),this.data.pollmethod||(this.data.pollmethod=this.configService.instant("assignment_poll_method"))),Object.keys(this.contentForm.controls).forEach((function(t){e.data[t]&&e.contentForm.get(t).patchValue(e.data[t])}))),this.updatePollValues(this.contentForm.value),this.updatePercentBases(this.contentForm.get("pollmethod").value),this.subscriptions.push(this.contentForm.valueChanges.subscribe((function(t){t&&e.updatePollValues(t)})),this.contentForm.get("pollmethod").valueChanges.subscribe((function(t){t&&(e.updatePercentBases(t),e.setVotesAmountCtrl())})),this.contentForm.get("type").valueChanges.subscribe((function(){e.setVotesAmountCtrl()})))}},{key:"disablePollType",value:function(){this.contentForm.get("type").disable()}},{key:"updatePercentBases",value:function(e){if(e){var t=[];e===c.b.YN?t=[l.c.YNA,c.c.Votes]:e===c.b.YNA?t=[c.c.Votes]:e===c.b.Votes&&(t=[l.c.YN,l.c.YNA]);for(var n={},o=0,a=Object.entries(this.percentBases);o<a.length;o++){var r=_slicedToArray(a[o],2),i=r[0],s=r[1];t.includes(i)||(n[i]=s)}var u=this.contentForm.get("onehundred_percent_base");u.setValue(this.getNormedPercentBase(u.value,e)),this.validPercentBases=n}}},{key:"getNormedPercentBase",value:function(e,t){return t!==c.b.YN||e!==c.c.YNA&&e!==c.c.Votes?t===c.b.YNA&&e===c.c.Votes?c.c.YNA:t!==c.b.Votes||e!==c.c.YN&&e!==c.c.YNA?e:c.c.Votes:c.c.YN}},{key:"setVotesAmountCtrl",value:function(){this.showNonNominalWarning=this.contentForm.get("type").value===l.f.Pseudoanonymous}},{key:"getValues",value:function(){return Object.assign(Object.assign({},this.data),this.contentForm.value)}},{key:"updatePollValues",value:function(e){var t;this.data&&(this.pollValues=[[this.pollService.getVerboseNameForKey("type"),this.pollService.getVerboseNameForValue("type",e.type)]],this.data.pollClassType===f.c.Assignment&&this.pollValues.push([this.pollService.getVerboseNameForKey("pollmethod"),this.pollService.getVerboseNameForValue("pollmethod",e.pollmethod)]),"analog"!==e.type&&this.pollValues.push([this.pollService.getVerboseNameForKey("groups"),e&&e.groups_id&&e.groups_id.length?(t=this.groupRepo).getNameForIds.apply(t,_toConsumableArray(e.groups_id)):"---"]),"votes"===e.pollmethod&&(this.pollValues.push([this.pollService.getVerboseNameForKey("votes_amount"),e.votes_amount]),this.pollValues.push([this.pollService.getVerboseNameForKey("global_no"),e.global_no]),this.pollValues.push([this.pollService.getVerboseNameForKey("global_abstain"),e.global_abstain])))}},{key:"initContentForm",value:function(){this.contentForm=this.fb.group({title:["",o.G.required],type:["",o.G.required],pollmethod:["",o.G.required],onehundred_percent_base:["",o.G.required],majority_method:["",o.G.required],votes_amount:[1,[o.G.required,o.G.min(1)]],groups_id:[],global_no:[!1],global_abstain:[!1]})}},{key:"openVotingWarning",value:function(){this.dialog.open(i.a,s.a)}},{key:"keepEntryOrder",value:function(){return 0}},{key:"isEVotingEnabled",get:function(){return!!this.pollService&&this.pollService.isElectronicVotingEnabled}}]),n}(p.a);return e.\u0275fac=function(t){return new(t||e)(h.Ub(b.d),h.Ub(d.k),h.Ub(m.a),h.Ub(o.f),h.Ub(a.a),h.Ub(r.a),h.Ub(y.b))},e.\u0275cmp=h.Ob({type:e,selectors:[["os-poll-form"]],inputs:{pollMethods:"pollMethods",percentBases:"percentBases",data:"data",pollService:"pollService"},features:[h.Eb],decls:14,vars:14,consts:[[1,"os-form-card-mobile"],[3,"formGroup"],[1,"poll-preview-title"],["matInput","","required","","formControlName","title",3,"placeholder"],[1,"poll-preview-meta-info-form",3,"formGroup"],[4,"ngIf"],["formControlName","onehundred_percent_base","required","",3,"placeholder"],[4,"ngFor","ngForOf"],["class","pollType",4,"ngIf"],[1,"pollType"],["formControlName","type","required","",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"value"],[3,"click"],["formControlName","groups_id",3,"multiple","showChips","includeNone","placeholder","inputListValues"],["formControlName","pollmethod","required","",3,"placeholder"],["type","number","matInput","","formControlName","votes_amount","min","1","required","",3,"placeholder"],["formControlName","global_no"],["formControlName","global_abstain"]],template:function(e,t){1&e&&(h.ac(0,"div",0),h.ac(1,"form",1),h.ac(2,"mat-form-field"),h.ac(3,"h2",2),h.Vb(4,"input",3),h.nc(5,"translate"),h.Zb(),h.Zb(),h.Zb(),h.ac(6,"form",4),h.Rc(7,I,4,3,"ng-container",5),h.ac(8,"mat-form-field"),h.ac(9,"mat-select",6),h.nc(10,"translate"),h.Rc(11,A,4,4,"ng-container",7),h.nc(12,"keyvalue"),h.Zb(),h.Zb(),h.Rc(13,H,10,9,"ng-container",5),h.Zb(),h.Zb()),2&e&&(h.Hb(1),h.uc("formGroup",t.contentForm),h.Hb(3),h.uc("placeholder",h.oc(5,7,"Title")),h.Hb(2),h.uc("formGroup",t.contentForm),h.Hb(1),h.uc("ngIf",!t.data||!t.data.state||t.data.isCreated),h.Hb(2),h.vc("placeholder",h.oc(10,9,t.PollPropertyVerbose.onehundred_percent_base)),h.Hb(2),h.uc("ngForOf",h.pc(12,11,t.validPercentBases,t.keepEntryOrder)),h.Hb(2),h.uc("ngIf","votes"===t.contentForm.get("pollmethod").value&&(!t.data||!t.data.state||t.data.isCreated)))},directives:[o.I,o.t,o.k,g.c,v.b,o.c,o.D,o.s,o.i,_.t,k.a,_.s,g.b,C.n,g.f,V.a,o.y,O.a],pipes:[d.j,_.l],styles:[".poll-preview-title[_ngcontent-%COMP%]{margin:0}.pollType[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%]{color:red;cursor:pointer}.poll-preview-meta-info[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;margin:10px 0}.poll-preview-meta-info[_ngcontent-%COMP%]   .short-description[_ngcontent-%COMP%]{-ms-flex:1;flex:1;padding:0 5px;display:inline-block}.poll-preview-meta-info[_ngcontent-%COMP%]   .short-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.poll-preview-meta-info[_ngcontent-%COMP%]   .short-description-label[_ngcontent-%COMP%]{font-size:75%}.poll-preview-meta-info-form[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}.poll-preview-meta-info-form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{-ms-flex:1;flex:1;margin:0 4px}"]}),e}()},acT5:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("fXoL"),a=n("3Pt+"),r=n("mV3u"),i=n("jhN1"),c=n("sYmb"),l=n("dNgK"),s=n("kmnG"),u=n("qFsG"),p=n("ofXK"),f=n("bSwM");function h(e,t){if(1&e){var n=o.bc();o.ac(0,"mat-checkbox",4),o.ic("change",(function(e){return o.Jc(n),o.mc().checkboxStateChanged(e.checked)})),o.Tc(1),o.Zb()}if(2&e){var a=o.mc();o.uc("name","checkbox")("ngModel",a.isChecked),o.Hb(1),o.Vc(" ",a.checkboxLabel," ")}}function b(e,t){1&e&&o.Vb(0,"div",5)}var d=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,a,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,o,a)).translate=o,i.fb=r,i.inputType="text",i.isChecked=!1,i.propagateChange=function(e){},i.initForm(),i}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.push(this.contentForm.valueChanges.subscribe((function(t){t&&e.sendValue(t)})))}},{key:"checkboxStateChanged",value:function(e){this.isChecked=e,e?this.contentForm.disable({emitEvent:!1}):this.contentForm.enable({emitEvent:!1}),this.sendValue()}},{key:"writeValue",value:function(e){(e||"number"==typeof e)&&(e===this.checkboxValue?this.checkboxStateChanged(!0):this.contentForm.patchValue(e))}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(e){}},{key:"setDisabledState",value:function(e){}},{key:"initForm",value:function(){this.contentForm=this.fb.control("")}},{key:"sendValue",value:function(e){this.propagateChange(this.isChecked?this.checkboxValue:e)}}]),n}(r.a);return e.\u0275fac=function(t){return new(t||e)(o.Ub(i.d),o.Ub(c.k),o.Ub(l.a),o.Ub(a.f))},e.\u0275cmp=o.Ob({type:e,selectors:[["os-check-input"]],inputs:{inputType:"inputType",placeholder:"placeholder",checkboxValue:"checkboxValue",checkboxLabel:"checkboxLabel"},features:[o.Gb([{provide:a.q,multi:!0,useExisting:Object(o.Z)((function(){return e}))}]),o.Eb],decls:5,vars:6,consts:[[1,"check-input--container"],["matInput","",1,"check-input--input",3,"type","formControl","placeholder","min"],["tabindex","-1",3,"name","ngModel","change",4,"ngIf"],["class","placeholder",4,"ngIf"],["tabindex","-1",3,"name","ngModel","change"],[1,"placeholder"]],template:function(e,t){1&e&&(o.ac(0,"div",0),o.ac(1,"mat-form-field"),o.Vb(2,"input",1),o.Zb(),o.Rc(3,h,2,3,"mat-checkbox",2),o.Rc(4,b,1,0,"div",3),o.Zb()),2&e&&(o.Hb(2),o.uc("type",t.inputType)("formControl",t.contentForm)("placeholder",t.placeholder)("min",0),o.Hb(1),o.uc("ngIf",t.checkboxLabel),o.Hb(1),o.uc("ngIf",!t.checkboxLabel))},directives:[s.c,u.b,a.c,a.s,a.h,p.t,f.a,a.v],styles:[".check-input--container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.check-input--container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{-ms-flex:1;flex:1;padding:0 5px}"]}),e}()},b1ae:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("qnZ9"),a=n("0bMg"),r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,a,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,o,a)).translate=o,i.dialogRef=r,i.addKeyListener(),i}return _createClass(n,[{key:"addKeyListener",value:function(){var e=this;this.dialogRef&&this.dialogRef.keydownEvents().subscribe((function(t){"Enter"===t.key&&t.shiftKey&&e.submitPoll(),"Escape"===t.key&&e.dialogRef.close()}))}},{key:"submitPoll",value:function(){var e=Object.assign(Object.assign({},this.pollForm.getValues()),{votes:this.getVoteData(),publish_immediately:this.publishImmediately});this.dialogRef.close(e)}},{key:"publishStateChanged",value:function(e){var t;this.dialogVoteForm.setValidators(e?(t=a.a).validation.apply(t,_toConsumableArray(Object.keys(this.dialogVoteForm.controls))):null)}},{key:"getVoteData",value:function(){if(!this.isVoteDataEmpty(this.dialogVoteForm.value))return this.replaceEmptyValues(this.dialogVoteForm.value)}},{key:"isVoteDataEmpty",value:function(e){var t=this;return Object.values(e).every((function(e){return!e||"object"==typeof e&&t.isVoteDataEmpty(e)}))}},{key:"replaceEmptyValues",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},a=0,r=Object.keys(e);a<r.length;a++){var i=r[a];n[i]="object"==typeof e[i]&&e[i]?this.replaceEmptyValues(e[i],t):t?e[i]===o.h?null:e[i]:e[i]?e[i]:o.h}return n}},{key:"undoReplaceEmptyValues",value:function(e){return this.replaceEmptyValues(e,!0)}}]),n}(n("mV3u").a)},iCsr:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("mV3u"),a=n("fXoL"),r=n("jhN1"),i=n("sYmb"),c=n("dNgK"),l=n("ofXK"),s=n("LPYB");function u(e,t){if(1&e&&a.Vb(0,"canvas",2),2&e){var n=a.mc();a.uc("datasets",n.isCircle?null:n.chartData)("data",n.isCircle?n.chartData:null)("colors",n.circleColors)("labels",n.labels)("options",n.chartOptions)("chartType",n.type)("legend",n.legend)}}var p=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,a){var r;return _classCallCheck(this,n),(r=t.call(this,e,o,a)).type="horizontalBar",r.legend=!1,r}return _createClass(n,[{key:"calcBarChartHeight",value:function(){if(!this.isCircle)return 120+60*this.labels.length+"px"}},{key:"progressInputData",value:function(e){this.isCircle?(this.chartData=e.flatMap((function(e){return e.data})),this.circleColors=[{backgroundColor:e.map((function(e){return e.backgroundColor})).filter((function(e){return!!e})),hoverBackgroundColor:e.map((function(e){return e.hoverBackgroundColor})).filter((function(e){return!!e}))}]):this.chartData=e,this.labels||(this.labels=e.map((function(e){return e.label})))}},{key:"data",set:function(e){this.progressInputData(e)}},{key:"chartOptions",get:function(){return this.isCircle?{responsive:!0,maintainAspectRatio:!1,tooltips:{enabled:!1},legend:{position:"left"}}:{responsive:!0,maintainAspectRatio:!1,tooltips:{enabled:!1},scales:{xAxes:[{gridLines:{drawOnChartArea:!1},ticks:{beginAtZero:!0,stepSize:1},stacked:!0}],yAxes:[{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{mirror:!0,labelOffset:-20},stacked:!0}]}}}},{key:"isCircle",get:function(){return"pie"===this.type||"doughnut"===this.type}}]),n}(o.a);return e.\u0275fac=function(t){return new(t||e)(a.Ub(r.d),a.Ub(i.k),a.Ub(c.a))},e.\u0275cmp=a.Ob({type:e,selectors:[["os-charts"]],inputs:{type:"type",labels:"labels",legend:"legend",data:"data"},features:[a.Eb],decls:2,vars:3,consts:[[1,"charts-wrapper"],["class","chart-js-canvas","baseChart","",3,"datasets","data","colors","labels","options","chartType","legend",4,"ngIf"],["baseChart","",1,"chart-js-canvas",3,"datasets","data","colors","labels","options","chartType","legend"]],template:function(e,t){1&e&&(a.ac(0,"div",0),a.Rc(1,u,1,7,"canvas",1),a.Zb()),2&e&&(a.Qc("height",t.calcBarChartHeight()),a.Hb(1),a.uc("ngIf",t.chartData&&t.chartData.length))},directives:[l.t,s.a],styles:[".charts-wrapper[_ngcontent-%COMP%]{position:relative;display:block;height:100%;margin:auto}"],changeDetection:0}),e}()},owL4:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("fXoL"),a=n("0IaG"),r=n("bTqV"),i=n("sYmb"),c=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Ob({type:e,selectors:[["os-voting-privacy-warning"]],decls:13,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["type","button","mat-button","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(o.ac(0,"h1",0),o.ac(1,"span"),o.Tc(2),o.nc(3,"translate"),o.Zb(),o.Zb(),o.ac(4,"div",1),o.ac(5,"span"),o.Tc(6),o.nc(7,"translate"),o.Zb(),o.Zb(),o.ac(8,"div",2),o.ac(9,"button",3),o.ac(10,"span"),o.Tc(11),o.nc(12,"translate"),o.Zb(),o.Zb(),o.Zb()),2&e&&(o.Hb(2),o.Uc(o.oc(3,4,"Secret voting can not be guaranteed")),o.Hb(4),o.Vc(" ",o.oc(7,6,"During non-nominal voting OpenSlides does NOT store the individual user ID of the voter. This in no way means that a non-nominal vote is completely anonymous and secure. The votes cannot track their individual votes after the data has been submitted. The validity of the data cannot always be guaranteed.")," "),o.Hb(3),o.uc("mat-dialog-close",null),o.Hb(2),o.Uc(o.oc(12,8,"I know the risk")))},directives:[a.i,a.f,a.c,r.b,a.d],pipes:[i.j],styles:[""]}),e}()}}]);