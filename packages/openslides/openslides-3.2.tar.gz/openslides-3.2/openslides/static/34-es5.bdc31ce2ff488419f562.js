function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _get(t,e,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=_superPropBase(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[34,36],{F48D:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r("mrSG"),o=r("LBBb"),a=r("fXoL"),c=r("0IaG"),i=function(){var t=function(){function t(e){_classCallCheck(this,t),this.dialog=e}return _createClass(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.dialog.open(o.a,{width:"250px",data:{title:t,content:e}}).afterClosed().toPromise());case 1:case"end":return r.stop()}}),r,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.ec(c.b))},t.\u0275prov=a.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},LBBb:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r("0IaG"),o=r("fXoL"),a=r("ofXK"),c=r("bTqV"),i=r("sYmb");function l(t,e){if(1&t&&(o.ac(0,"div"),o.ac(1,"h2",1),o.Tc(2),o.Zb(),o.Vb(3,"mat-dialog-content",2),o.ac(4,"mat-dialog-actions"),o.ac(5,"button",3),o.Tc(6),o.nc(7,"translate"),o.Zb(),o.ac(8,"button",4),o.Tc(9),o.nc(10,"translate"),o.Zb(),o.Zb(),o.Zb()),2&t){var r=o.mc();o.Hb(2),o.Uc(r.data.title),o.Hb(1),o.uc("innerHTML",r.data.content,o.Kc),o.Hb(2),o.uc("mat-dialog-close",!0),o.Hb(1),o.Uc(o.oc(7,6,"Yes")),o.Hb(2),o.uc("mat-dialog-close",!1),o.Hb(1),o.Uc(o.oc(10,8,"Cancel"))}}var s=function(){var t=function t(e,r){_classCallCheck(this,t),this.dialogRef=e,this.data=r};return t.\u0275fac=function(e){return new(e||t)(o.Ub(n.h),o.Ub(n.a))},t.\u0275cmp=o.Ob({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&o.Rc(0,l,11,10,"div",0),2&t&&o.uc("ngIf",e.data)},directives:[a.t,n.i,n.f,n.c,c.b,n.d],pipes:[i.j],encapsulation:2}),t}()},mNQd:function(t,e,r){"use strict";r.r(e),r.d(e,"TagModule",(function(){return E}));var n=r("ofXK"),o=r("PCNd"),a=r("tyNb"),c=r("mrSG"),i=r("3Pt+"),l=r("AqIO"),s=r("lv9T"),u=r("F48D"),f=r("73vO"),b=r("Izkr"),d=r("wL0i"),p=r("fXoL"),h=r("jhN1"),g=r("dNgK"),m=r("sYmb"),v=r("0IaG"),y=r("mksl"),_=r("0Obk"),w=r("dRZP"),k=r("bTqV"),C=r("NFeN"),S=r("kmnG"),T=r("qFsG"),R=["tagDialog"];function O(t,e){if(1&t&&(p.ac(0,"div",5),p.ac(1,"div"),p.Tc(2),p.Zb(),p.Zb()),2&t){var r=e.value;p.Hb(2),p.Vc(" ",r," ")}}function P(t,e){if(1&t){var r=p.bc();p.ac(0,"div",5),p.ac(1,"button",6),p.ic("click",(function(){p.Jc(r);var t=e.row;return p.mc().openTagDialog(t)})),p.ac(2,"mat-icon"),p.Tc(3,"edit"),p.Zb(),p.Zb(),p.Zb()}}function Z(t,e){if(1&t){var r=p.bc();p.ac(0,"div",5),p.ac(1,"button",7),p.ic("click",(function(){p.Jc(r);var t=e.row;return p.mc().onDeleteButton(t)})),p.ac(2,"mat-icon"),p.Tc(3,"delete"),p.Zb(),p.Zb(),p.Zb()}}function D(t,e){1&t&&(p.ac(0,"span"),p.Tc(1),p.nc(2,"translate"),p.Zb()),2&t&&(p.Hb(1),p.Uc(p.oc(2,1,"Edit tag")))}function H(t,e){1&t&&(p.ac(0,"span"),p.Tc(1),p.nc(2,"translate"),p.Zb()),2&t&&(p.Hb(1),p.Uc(p.oc(2,1,"New tag")))}function j(t,e){if(1&t){var r=p.bc();p.ac(0,"h1",8),p.Rc(1,D,3,3,"span",9),p.Rc(2,H,3,3,"span",9),p.Zb(),p.ac(3,"div",10),p.ac(4,"form",11),p.ic("keydown",(function(t){return p.Jc(r),p.mc().onKeyDown(t)})),p.ac(5,"mat-form-field"),p.Vb(6,"input",12),p.nc(7,"translate"),p.Zb(),p.Zb(),p.Zb(),p.ac(8,"div",13),p.ac(9,"button",14),p.ac(10,"span"),p.Tc(11),p.nc(12,"translate"),p.Zb(),p.Zb(),p.ac(13,"button",15),p.ac(14,"span"),p.Tc(15),p.nc(16,"translate"),p.Zb(),p.Zb(),p.Zb()}if(2&t){var n=p.mc();p.Hb(1),p.uc("ngIf",n.currentTag),p.Hb(1),p.uc("ngIf",!n.currentTag),p.Hb(2),p.uc("formGroup",n.tagForm),p.Hb(2),p.vc("placeholder",p.oc(7,8,"Name")),p.Hb(3),p.uc("mat-dialog-close",!0),p.Hb(2),p.Uc(p.oc(12,10,"Save")),p.Hb(2),p.uc("mat-dialog-close",!1),p.Hb(2),p.Uc(p.oc(16,12,"Cancel"))}}var I,A,M,U=function(){return["menu"]},B=function(){return["name"]},N=[{path:"",component:(I=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,o,a,c,l,s,u){var f;return _classCallCheck(this,r),(f=e.call(this,t,c,n,o)).repo=a,f.translate=c,f.promptService=l,f.dialog=s,f.formBuilder=u,f.tagForm=f.formBuilder.group({name:["",[i.G.required]]}),f.tableColumnDefinition=[{prop:"name",width:"auto"},{prop:"edit",width:f.singleButtonWidth},{prop:"delete",width:f.singleButtonWidth}],f}return _createClass(r,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(r.prototype),"setTitle",this).call(this,"Tags")}},{key:"openTagDialog",value:function(t){var e=this;this.currentTag=t,this.tagForm.reset(),this.tagForm.get("name").setValue(this.currentTag?this.currentTag.name:""),this.dialogRef=this.dialog.open(this.tagDialog,b.a),this.dialogRef.afterClosed().subscribe((function(t){t&&e.save()}))}},{key:"save",value:function(){this.tagForm.value&&this.tagForm.valid&&(this.currentTag?this.repo.update(new f.a(this.tagForm.value),this.currentTag).catch(this.raiseError):this.repo.create(this.tagForm.value).catch(this.raiseError),this.tagForm.reset())}},{key:"onDeleteButton",value:function(t){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.translate.instant("Are you sure you want to delete this tag?"),n=t.name,e.next=3,this.promptService.open(r,n);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.repo.delete(t).catch(this.raiseError);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"onKeyDown",value:function(t){"Enter"===t.key&&t.shiftKey&&(this.save(),this.dialogRef.close()),"Escape"===t.key&&this.dialogRef.close()}}]),r}(d.a),I.\u0275fac=function(t){return new(t||I)(p.Ub(h.d),p.Ub(g.a),p.Ub(l.a),p.Ub(s.a),p.Ub(m.k),p.Ub(u.a),p.Ub(v.b),p.Ub(i.f))},I.\u0275cmp=p.Ob({type:I,selectors:[["os-tag-list"]],viewQuery:function(t,e){var r;1&t&&p.Pc(R,!0),2&t&&p.Ec(r=p.jc())&&(e.tagDialog=r.first)},features:[p.Eb],decls:11,vars:18,consts:[[3,"hasMainButton","nav","multiSelectMode","mainEvent"],[1,"title-slot"],[3,"listObservableProvider","columns","allowProjector","showListOfSpeakers","hiddenInMobile","selectedRows","filterProps","selectedRowsChange","dataSourceChange"],["class","cell-slot fill",4,"pblNgridCellDef"],["tagDialog",""],[1,"cell-slot","fill"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-dialog-title",""],[4,"ngIf"],["mat-dialog-content","",1,"os-form-card-mobile"],[3,"formGroup","keydown"],["required","","type","text","matInput","","formControlName","name",3,"placeholder"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"mat-dialog-close"],["type","button","mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(p.ac(0,"os-head-bar",0),p.ic("mainEvent",(function(){return e.openTagDialog()})),p.ac(1,"div",1),p.ac(2,"h2"),p.Tc(3),p.nc(4,"translate"),p.Zb(),p.Zb(),p.Zb(),p.ac(5,"os-list-view-table",2),p.ic("selectedRowsChange",(function(t){return e.selectedRows=t}))("dataSourceChange",(function(t){return e.onDataSourceChange(t)})),p.Rc(6,O,3,1,"div",3),p.Rc(7,P,4,0,"div",3),p.Rc(8,Z,4,0,"div",3),p.Zb(),p.Rc(9,j,17,14,"ng-template",null,4,p.Sc)),2&t&&(p.uc("hasMainButton",!0)("nav",!0)("multiSelectMode",e.isMultiSelect),p.Hb(3),p.Uc(p.oc(4,14,"Tags")),p.Hb(2),p.uc("listObservableProvider",e.repo)("columns",e.tableColumnDefinition)("allowProjector",!1)("showListOfSpeakers",!1)("hiddenInMobile",p.zc(16,U))("selectedRows",e.selectedRows)("filterProps",p.zc(17,B)),p.Hb(1),p.uc("pblNgridCellDef","name"),p.Hb(1),p.uc("pblNgridCellDef","edit"),p.Hb(1),p.uc("pblNgridCellDef","delete"))},directives:[y.a,_.a,w.c,k.b,C.a,v.i,n.t,v.f,i.I,i.t,i.k,S.c,T.b,i.c,i.D,i.s,i.i,v.c,v.d],pipes:[m.j],styles:[""]}),I),pathMatch:"full"}],L=((M=function t(){_classCallCheck(this,t)}).\u0275mod=p.Sb({type:M}),M.\u0275inj=p.Rb({factory:function(t){return new(t||M)},imports:[[a.j.forChild(N)],a.j]}),M),E=((A=function t(){_classCallCheck(this,t)}).\u0275mod=p.Sb({type:A}),A.\u0275inj=p.Rb({factory:function(t){return new(t||A)},imports:[[n.c,L,o.a]]}),A)},wL0i:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,o,a){var c;return _classCallCheck(this,r),(c=e.call(this,t,n,o)).storage=a,c.canMultiSelect=!1,c._multiSelectMode=!1,c.singleButtonWidth="40px",c.badgeButtonWidth="45px",c.selectedRows=[],c}return _createClass(r,[{key:"onDataSourceChange",value:function(t){this.dataSource=t}},{key:"toggleMultiSelect",value:function(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}},{key:"selectAll",value:function(){var t;(t=this.dataSource.selection).select.apply(t,_toConsumableArray(this.dataSource.filteredData))}},{key:"deselectAll",value:function(){this.dataSource&&this.dataSource.selection.clear()}},{key:"isMultiSelect",get:function(){return this._multiSelectMode}}]),r}(r("mV3u").a)}}]);