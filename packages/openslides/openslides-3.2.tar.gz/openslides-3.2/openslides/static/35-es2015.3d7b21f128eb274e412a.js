(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"76GY":function(t,a,n){"use strict";n.d(a,"a",(function(){return v}));var e=n("ykax"),o=n("fXoL"),c=n("ofXK"),i=n("vYAO"),s=n("iCsr"),r=n("sYmb"),l=n("j7f2"),p=n("6ako"),u=n("QUb3");function b(t,a){if(1&t&&(o.ac(0,"os-icon-container",9),o.Tc(1),o.nc(2,"translate"),o.nc(3,"pollKeyVerbose"),o.Zb()),2&t){const t=o.mc().$implicit,a=o.mc(2);o.uc("icon",t.value[0].icon)("size",a.iconSize),o.Hb(1),o.Vc(" ",o.oc(2,3,o.oc(3,5,t.votingOption))," ")}}function h(t,a){if(1&t&&(o.ac(0,"span"),o.Tc(1),o.nc(2,"translate"),o.nc(3,"pollKeyVerbose"),o.Zb()),2&t){const t=o.mc().$implicit;o.Hb(1),o.Vc(" ",o.oc(2,1,o.oc(3,3,t.votingOption))," ")}}function d(t,a){if(1&t&&(o.ac(0,"span"),o.Tc(1),o.nc(2,"pollPercentBase"),o.Zb()),2&t){const t=o.mc().$implicit,a=o.mc(2);o.Hb(1),o.Vc(" ",o.pc(2,1,t.value[0].amount,a.poll)," ")}}function g(t,a){if(1&t&&(o.ac(0,"tr"),o.ac(1,"td"),o.Rc(2,b,4,7,"os-icon-container",6),o.Rc(3,h,4,5,"span",7),o.Zb(),o.ac(4,"td",8),o.Rc(5,d,3,4,"span",7),o.Zb(),o.ac(6,"td",8),o.Tc(7),o.nc(8,"parsePollNumber"),o.Zb(),o.Zb()),2&t){const t=a.$implicit;o.Jb(t.votingOption),o.Hb(2),o.uc("ngIf",t.value[0].icon),o.Hb(1),o.uc("ngIf",!t.value[0].icon),o.Hb(2),o.uc("ngIf",t.value[0].showPercent),o.Hb(2),o.Vc(" ",o.oc(8,6,t.value[0].amount)," ")}}function f(t,a){if(1&t&&(o.ac(0,"div",10),o.Vb(1,"os-charts",11),o.nc(2,"async"),o.Zb()),2&t){const t=o.mc(2);o.Hb(1),o.uc("data",o.oc(2,1,t.chartData))}}function m(t,a){if(1&t&&(o.ac(0,"div",1),o.ac(1,"table",2),o.ac(2,"tbody"),o.ac(3,"tr"),o.Vb(4,"th"),o.ac(5,"th",3),o.Tc(6),o.nc(7,"translate"),o.Zb(),o.Zb(),o.Rc(8,g,9,8,"tr",4),o.Zb(),o.Zb(),o.Rc(9,f,3,3,"div",5),o.Zb()),2&t){const t=o.mc();o.Hb(6),o.Uc(o.oc(7,3,"Votes")),o.Hb(2),o.uc("ngForOf",t.getTableData()),o.Hb(1),o.uc("ngIf",t.showChart)}}let v=(()=>{class t{constructor(t){this.motionPollService=t,this.iconSize="large"}get hasVotes(){return this.poll&&!!this.poll.options}ngOnInit(){}getTableData(){return this.motionPollService.generateTableData(this.poll)}get showChart(){return this.motionPollService.showChart(this.poll)&&this.chartData&&!!this.chartData.value}}return t.\u0275fac=function(a){return new(a||t)(o.Ub(e.a))},t.\u0275cmp=o.Ob({type:t,selectors:[["os-motion-poll-detail-content"]],inputs:{poll:"poll",chartData:"chartData",iconSize:"iconSize"},decls:1,vars:1,consts:[["class","result-wrapper",4,"ngIf"],[1,"result-wrapper"],[1,"result-table"],["colspan","2"],[3,"class",4,"ngFor","ngForOf"],["class","doughnut-chart",4,"ngIf"],[3,"icon","size",4,"ngIf"],[4,"ngIf"],[1,"result-cell-definition"],[3,"icon","size"],[1,"doughnut-chart"],["type","doughnut",3,"data"]],template:function(t,a){1&t&&o.Rc(0,m,10,5,"div",0),2&t&&o.uc("ngIf",a.hasVotes)},directives:[c.t,c.s,i.a,s.a],pipes:[r.j,l.a,p.a,u.a,c.b],styles:[".yes[_ngcontent-%COMP%]{color:#4caf50}.no[_ngcontent-%COMP%]{color:#cc6c5b}.abstain[_ngcontent-%COMP%]{color:#a6a6a6}.voted-yes[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.voted-no[_ngcontent-%COMP%]{background-color:#cc6c5b;color:#fff}.voted-abstain[_ngcontent-%COMP%]{background-color:#a6a6a6;color:#fff}.start-poll-button[_ngcontent-%COMP%]{color:#4caf50}.stop-poll-button[_ngcontent-%COMP%]{color:#ff5252}.publish-poll-button[_ngcontent-%COMP%]{color:#e6b100}.result-wrapper[_ngcontent-%COMP%]{display:grid;grid-gap:2em;margin:2em;grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}.result-wrapper[_ngcontent-%COMP%]   .result-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right;font-weight:400}.result-wrapper[_ngcontent-%COMP%]   .result-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px;border-bottom:none!important}.result-wrapper[_ngcontent-%COMP%]   .result-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   .result-cell-definition[_ngcontent-%COMP%]{text-align:right}.result-wrapper[_ngcontent-%COMP%]   .doughnut-chart[_ngcontent-%COMP%]{display:block}"]}),t})()},"9st3":function(t,a,n){"use strict";n.d(a,"a",(function(){return o})),n("Ri39");var e=n("fXoL");let o=(()=>{class t{constructor(){}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275dir=e.Pb({type:t,inputs:{data:"data",projector:"projector"}}),t})()},SQVg:function(t,a,n){"use strict";n.r(a),n.d(a,"MotionPollSlideModule",(function(){return g}));var e=n("ofXK"),o=n("PCNd"),c=n("DGVe"),i=n("qnZ9"),s=n("ykax"),r=n("JTqh"),l=n("fXoL"),p=n("76GY");function u(t,a){if(1&t&&(l.ac(0,"span"),l.Tc(1),l.Zb()),2&t){const t=l.mc(2);l.Hb(1),l.Vc("",t.data.data.motion.identifier,":")}}function b(t,a){if(1&t&&(l.ac(0,"div"),l.Vb(1,"os-motion-poll-detail-content",4),l.Zb()),2&t){const t=l.mc(2);l.Hb(1),l.uc("poll",t.pollData)("chartData",t.chartDataSubject)}}function h(t,a){if(1&t&&(l.Yb(0),l.ac(1,"div",1),l.ac(2,"h1",2),l.Rc(3,u,2,1,"span",0),l.Tc(4),l.Zb(),l.ac(5,"h2",3),l.Tc(6),l.Zb(),l.Zb(),l.Rc(7,b,2,2,"div",0),l.Xb()),2&t){const t=l.mc();l.Hb(3),l.uc("ngIf",t.data.data.motion.identifier),l.Hb(1),l.Vc(" ",t.data.data.motion.title," "),l.Hb(2),l.Uc(t.data.data.poll.title),l.Hb(1),l.uc("ngIf",t.data.data.poll.state===t.PollState.Published)}}let d=(()=>{class t extends r.a{constructor(t){super(t),this.PollState=i.e,this.chartDataSubject.subscribe(()=>{if(this.data&&this.data.data){this.pollData=this.data.data.poll;const t=this.pollData.options[0];this.voteYes=t.yes,this.voteNo=t.no,this.voteAbstain=t.abstain}})}showChart(){return this.pollService.showChart(this.pollData)}getTableData(){return this.pollService.generateTableData(this.pollData)}}return t.\u0275fac=function(a){return new(a||t)(l.Ub(s.a))},t.\u0275cmp=l.Ob({type:t,selectors:[["os-motion-poll-slide"]],features:[l.Eb],decls:1,vars:1,consts:[[4,"ngIf"],[1,"slidetitle"],[1,"motion-title"],[1,"poll-title"],["iconSize","gigantic",3,"poll","chartData"]],template:function(t,a){1&t&&l.Rc(0,h,8,4,"ng-container",0),2&t&&l.uc("ngIf",a.data&&a.data.data)},directives:[e.t,p.a],styles:[".motion-title[_ngcontent-%COMP%]{margin:0 0 10px}"]}),t})(),g=(()=>{class t{}return t.\u0275mod=l.Sb({type:t}),t.\u0275inj=l.Rb({factory:function(a){return new(a||t)},providers:[{provide:c.a.token,useValue:d}],imports:[[e.c,o.a]]}),t})()},iCsr:function(t,a,n){"use strict";n.d(a,"a",(function(){return u}));var e=n("mV3u"),o=n("fXoL"),c=n("jhN1"),i=n("sYmb"),s=n("dNgK"),r=n("ofXK"),l=n("LPYB");function p(t,a){if(1&t&&o.Vb(0,"canvas",2),2&t){const t=o.mc();o.uc("datasets",t.isCircle?null:t.chartData)("data",t.isCircle?t.chartData:null)("colors",t.circleColors)("labels",t.labels)("options",t.chartOptions)("chartType",t.type)("legend",t.legend)}}let u=(()=>{class t extends e.a{constructor(t,a,n){super(t,a,n),this.type="horizontalBar",this.legend=!1}set data(t){this.progressInputData(t)}get chartOptions(){return this.isCircle?{responsive:!0,maintainAspectRatio:!1,tooltips:{enabled:!1},legend:{position:"left"}}:{responsive:!0,maintainAspectRatio:!1,tooltips:{enabled:!1},scales:{xAxes:[{gridLines:{drawOnChartArea:!1},ticks:{beginAtZero:!0,stepSize:1},stacked:!0}],yAxes:[{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{mirror:!0,labelOffset:-20},stacked:!0}]}}}get isCircle(){return"pie"===this.type||"doughnut"===this.type}calcBarChartHeight(){if(!this.isCircle)return 120+60*this.labels.length+"px"}progressInputData(t){this.isCircle?(this.chartData=t.flatMap(t=>t.data),this.circleColors=[{backgroundColor:t.map(t=>t.backgroundColor).filter(t=>!!t),hoverBackgroundColor:t.map(t=>t.hoverBackgroundColor).filter(t=>!!t)}]):this.chartData=t,this.labels||(this.labels=t.map(t=>t.label))}}return t.\u0275fac=function(a){return new(a||t)(o.Ub(c.d),o.Ub(i.k),o.Ub(s.a))},t.\u0275cmp=o.Ob({type:t,selectors:[["os-charts"]],inputs:{type:"type",labels:"labels",legend:"legend",data:"data"},features:[o.Eb],decls:2,vars:3,consts:[[1,"charts-wrapper"],["class","chart-js-canvas","baseChart","",3,"datasets","data","colors","labels","options","chartType","legend",4,"ngIf"],["baseChart","",1,"chart-js-canvas",3,"datasets","data","colors","labels","options","chartType","legend"]],template:function(t,a){1&t&&(o.ac(0,"div",0),o.Rc(1,p,1,7,"canvas",1),o.Zb()),2&t&&(o.Qc("height",a.calcBarChartHeight()),o.Hb(1),o.uc("ngIf",a.chartData&&a.chartData.length))},directives:[r.t,l.a],styles:[".charts-wrapper[_ngcontent-%COMP%]{position:relative;display:block;height:100%;margin:auto}"],changeDetection:0}),t})()}}]);