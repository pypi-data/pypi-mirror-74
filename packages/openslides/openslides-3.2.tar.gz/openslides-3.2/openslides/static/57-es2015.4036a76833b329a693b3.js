(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{Bnfq:function(t,e,n){"use strict";n.r(e),n.d(e,"MotionListModule",(function(){return ae}));var c=n("ofXK"),i=n("PCNd"),o=n("tyNb"),a=n("mrSG"),s=n("OwvW"),l=n("AqIO"),r=n("iTQr"),b=n("D5Qf"),m=n("dOok"),u=n("s3dr"),d=n("lv9T"),g=n("+KbT"),f=n("7dBR"),p=n("KL36"),h=n("Izkr"),v=n("wL0i"),Z=n("f3I0"),M=n("zyuw"),T=n("Q5D0"),w=n("d4fM"),_=n("T9hM"),H=n("TzFX"),C=n("fXoL"),k=n("jhN1"),R=n("sYmb"),O=n("dNgK"),I=n("0IaG"),P=n("mksl"),y=n("bTqV"),S=n("STbY"),V=n("NFeN"),x=n("Qu3c"),U=n("0Obk"),A=n("dRZP"),D=n("A5z7"),L=n("vYAO"),F=n("Tp2j"),E=n("40uZ"),B=n("m1Ob"),J=n("ycpk"),j=n("TU8p"),z=n("3Xi6"),N=n("f0Cb"),W=n("pcP9"),$=n("kmnG"),q=n("d3UM"),K=n("3Pt+"),X=n("FKr1");const Q=["motionInfoDialog"];function Y(t,e){if(1&t){const t=C.bc();C.ac(0,"button",16),C.ic("click",(function(){return C.Jc(t),C.mc(2).onChangeView("tiles")})),C.nc(1,"translate"),C.ac(2,"mat-icon"),C.Tc(3,"view_module"),C.Zb(),C.Zb()}2&t&&C.vc("matTooltip",C.oc(1,1,"Tile view"))}function G(t,e){if(1&t){const t=C.bc();C.ac(0,"button",16),C.ic("click",(function(){return C.Jc(t),C.mc(2).onChangeView("list")})),C.nc(1,"translate"),C.ac(2,"mat-icon"),C.Tc(3,"view_headline"),C.Zb(),C.Zb()}2&t&&C.vc("matTooltip",C.oc(1,1,"List view"))}function tt(t,e){if(1&t&&(C.ac(0,"div"),C.Rc(1,Y,4,3,"button",15),C.Rc(2,G,4,3,"button",15),C.Zb()),2&t){const t=C.mc();C.Hb(1),C.uc("ngIf","tiles"!==t.selectedView),C.Hb(1),C.uc("ngIf","list"!==t.selectedView)}}function et(t,e){1&t&&C.Wb(0)}function nt(t,e){if(1&t&&C.Vb(0,"a",23),2&t){const t=C.mc().row;C.uc("routerLink",t.id)}}function ct(t,e){if(1&t&&(C.ac(0,"div",20),C.Rc(1,nt,1,1,"a",21),C.ac(2,"div",22),C.Tc(3),C.Zb(),C.Zb()),2&t){const t=e.row,n=C.mc(2);C.Hb(1),C.uc("ngIf",!n.isMultiSelect),C.Hb(2),C.Vc(" ",t.identifier," ")}}function it(t,e){if(1&t&&C.Vb(0,"a",23),2&t){const t=C.mc().row;C.uc("routerLink",t.id)}}function ot(t,e){1&t&&(C.ac(0,"span",32),C.ac(1,"mat-icon",33),C.Tc(2,"star"),C.Zb(),C.Zb())}function at(t,e){1&t&&(C.ac(0,"span",34),C.ac(1,"mat-icon"),C.Tc(2,"attach_file"),C.Zb(),C.Zb())}function st(t,e){if(1&t&&(C.ac(0,"span"),C.Tc(1),C.ac(2,"span"),C.Tc(3,"\xb7"),C.Zb(),C.Zb()),2&t){const t=C.mc().row;C.Hb(1),C.Vc(" ",t.identifier," ")}}function lt(t,e){if(1&t&&(C.ac(0,"span"),C.ac(1,"span"),C.Tc(2),C.nc(3,"translate"),C.Zb(),C.Tc(4),C.Zb()),2&t){const t=C.mc().row;C.Hb(2),C.Uc(C.oc(3,2,"by")),C.Hb(2),C.Vc(" ",t.submitters," ")}}function rt(t,e){1&t&&(C.ac(0,"span"),C.Tc(1," \xb7 "),C.Zb())}function bt(t,e){if(1&t&&(C.ac(0,"span"),C.Rc(1,rt,2,0,"span",7),C.ac(2,"span"),C.Tc(3),C.nc(4,"translate"),C.Zb(),C.Tc(5),C.Zb()),2&t){const t=C.mc().row;C.Hb(1),C.uc("ngIf",t.submitters.length),C.Hb(2),C.Uc(C.oc(4,3,"Sequential number")),C.Hb(2),C.Vc(" ",t.id," ")}}function mt(t,e){if(1&t&&(C.ac(0,"mat-basic-chip",35),C.Tc(1),C.Zb()),2&t){const t=C.mc().row,e=C.mc(2);C.uc("ngClass",t.stateCssColor)("disabled",!0),C.Hb(1),C.Vc(" ",e.motionRepo.getExtendedStateLabel(t)," ")}}function ut(t,e){if(1&t&&(C.ac(0,"div",36),C.ac(1,"mat-basic-chip",37),C.Tc(2),C.Zb(),C.Zb()),2&t){const t=C.mc().row,e=C.mc(2);C.Hb(1),C.uc("disabled",!0),C.Hb(1),C.Vc(" ",e.motionRepo.getExtendedRecommendationLabel(t)," ")}}function dt(t,e){if(1&t&&(C.ac(0,"div",20),C.Rc(1,it,1,1,"a",21),C.ac(2,"div",24),C.ac(3,"div",25),C.Rc(4,ot,3,0,"span",26),C.Rc(5,at,3,0,"span",27),C.ac(6,"span"),C.Rc(7,st,4,1,"span",7),C.Tc(8),C.Zb(),C.Zb(),C.ac(9,"div",28),C.Rc(10,lt,5,4,"span",7),C.Rc(11,bt,6,5,"span",7),C.Zb(),C.ac(12,"div",29),C.Rc(13,mt,2,3,"mat-basic-chip",30),C.Zb(),C.Rc(14,ut,3,2,"div",31),C.Zb(),C.Zb()),2&t){const t=e.row,n=C.mc(2);C.Hb(1),C.uc("ngIf",!n.isMultiSelect),C.Hb(3),C.uc("ngIf",t.star),C.Hb(1),C.uc("ngIf",t.hasAttachments()),C.Hb(2),C.uc("ngIf",n.vp.isMobile&&t.identifier),C.Hb(1),C.Vc(" ",t.title," "),C.Hb(2),C.uc("ngIf",t.submitters.length),C.Hb(1),C.uc("ngIf",n.showSequential),C.Hb(2),C.uc("ngIf",t.state),C.Hb(1),C.uc("ngIf",t.recommendation&&t.state.next_states_id.length>0)}}function gt(t,e){if(1&t&&(C.ac(0,"div",42),C.ac(1,"os-icon-container",43),C.Tc(2),C.Zb(),C.Zb()),2&t){const t=C.mc().row;C.Hb(2),C.Vc(" ",t.category.nameWithParentAbove," ")}}function ft(t,e){if(1&t&&(C.ac(0,"div",44),C.ac(1,"os-icon-container",45),C.Tc(2),C.Zb(),C.Zb()),2&t){const t=C.mc().row;C.Hb(2),C.Uc(t.motion_block.title)}}function pt(t,e){1&t&&(C.ac(0,"span"),C.Tc(1,",\xa0"),C.Zb())}function ht(t,e){if(1&t&&(C.ac(0,"span"),C.Tc(1),C.Rc(2,pt,2,0,"span",7),C.Zb()),2&t){const t=e.$implicit,n=e.last;C.Hb(1),C.Vc(" ",t.getTitle()," "),C.Hb(1),C.uc("ngIf",!n)}}function vt(t,e){if(1&t&&(C.ac(0,"div",44),C.ac(1,"os-icon-container",46),C.Rc(2,ht,3,2,"span",47),C.Zb(),C.Zb()),2&t){const t=C.mc().row;C.Hb(2),C.uc("ngForOf",t.tags)}}function Zt(t,e){if(1&t){const t=C.bc();C.ac(0,"div",38),C.ic("click",(function(){C.Jc(t);const n=e.row;return C.mc(2).openEditInfo(n)})),C.ac(1,"div",39),C.Rc(2,gt,3,1,"div",40),C.Rc(3,ft,3,1,"div",41),C.Rc(4,vt,3,1,"div",41),C.Zb(),C.Zb()}if(2&t){const t=e.row,n=C.mc(2);C.uc("ngClass",n.isMultiSelect?"":"clickable"),C.Hb(2),C.uc("ngIf",t.category),C.Hb(1),C.uc("ngIf",t.motion_block),C.Hb(1),C.uc("ngIf",t.tags&&t.tags.length)}}const Mt=function(t){return{motion:t}};function Tt(t,e){if(1&t){const t=C.bc();C.ac(0,"div",20),C.ac(1,"button",48),C.ic("click",(function(e){return C.Jc(t),e.stopPropagation()})),C.ac(2,"mat-icon"),C.Tc(3,"more_vert"),C.Zb(),C.Zb(),C.Zb()}if(2&t){const t=e.row,n=C.mc(2),c=C.Fc(24);C.Hb(1),C.uc("disabled",n.isMultiSelect)("matMenuTriggerFor",c)("matMenuTriggerData",C.Ac(3,Mt,t))}}function wt(t,e){if(1&t){const t=C.bc();C.ac(0,"os-list-view-table",17),C.ic("selectedRowsChange",(function(e){return C.Jc(t),C.mc().selectedRows=e}))("dataSourceChange",(function(e){return C.Jc(t),C.mc().onDataSourceChange(e)})),C.Rc(1,ct,4,2,"div",18),C.Rc(2,dt,15,9,"div",18),C.Rc(3,Zt,5,4,"div",19),C.Rc(4,Tt,4,5,"div",18),C.Zb()}if(2&t){const t=C.mc();C.uc("listObservableProvider",t.motionRepo)("filterService",t.filterService)("sortService",t.sortService)("columns",t.tableColumnDefinition)("multiSelect",t.isMultiSelect)("filterProps",t.filterProps)("hiddenInMobile",t.getColumnsHiddenInMobile())("selectedRows",t.selectedRows),C.Hb(1),C.uc("pblNgridCellDef","identifier"),C.Hb(1),C.uc("pblNgridCellDef","title"),C.Hb(1),C.uc("pblNgridCellDef","state"),C.Hb(1),C.uc("pblNgridCellDef","menu")}}function _t(t,e){if(1&t&&(C.Vb(0,"os-projector-button",49),C.Vb(1,"os-speaker-button",49)),2&t){const t=e.motion;C.uc("object",t)("menuItem",!0),C.Hb(1),C.uc("object",t)("menuItem",!0)}}function Ht(t,e){1&t&&(C.ac(0,"span"),C.ac(1,"mat-icon"),C.Tc(2,"star"),C.Zb(),C.Zb())}function Ct(t,e){1&t&&(C.ac(0,"span"),C.ac(1,"mat-icon"),C.Tc(2,"block"),C.Zb(),C.Zb())}function kt(t,e){1&t&&(C.ac(0,"span"),C.ac(1,"mat-icon"),C.Tc(2,"speaker_notes"),C.Zb(),C.Zb())}function Rt(t,e){if(1&t&&(C.ac(0,"span"),C.Tc(1),C.Zb()),2&t){const t=C.mc(2).$implicit;C.Hb(1),C.Vc(" ",t.prefix," ")}}function Ot(t,e){1&t&&(C.ac(0,"span"),C.ac(1,"mat-icon"),C.Tc(2,"category"),C.Zb(),C.Zb())}function It(t,e){if(1&t&&(C.ac(0,"span"),C.Rc(1,Rt,2,1,"span",7),C.Rc(2,Ot,3,0,"span",7),C.Zb()),2&t){const t=C.mc().$implicit;C.Hb(1),C.uc("ngIf",t.prefix),C.Hb(1),C.uc("ngIf",!t.prefix)}}function Pt(t,e){if(1&t){const t=C.bc();C.ac(0,"os-block-tile",51),C.ic("clicked",(function(){C.Jc(t);const n=e.$implicit;return C.mc(2).changeToViewWithTileCategory(n)})),C.nc(1,"translate"),C.Yb(2,52),C.ac(3,"table",53),C.nc(4,"translate"),C.nc(5,"translate"),C.ac(6,"tbody"),C.ac(7,"tr"),C.ac(8,"td"),C.ac(9,"span",54),C.Rc(10,Ht,3,0,"span",55),C.Rc(11,Ct,3,0,"span",55),C.Rc(12,kt,3,0,"span",55),C.Rc(13,It,3,2,"span",56),C.Zb(),C.Zb(),C.Zb(),C.Zb(),C.Zb(),C.Xb(),C.Zb()}if(2&t){const t=e.$implicit;C.vc("title",C.oc(1,14,t.name)),C.uc("orientation","horizontal")("only","title")("blockType","node")("data",t),C.Hb(3),C.yc("matTooltip","",t.amountOfMotions," ",C.oc(4,16,"Motions")," \u2013 ",C.oc(5,18,t.name),""),C.Hb(6),C.uc("matBadge",t.amountOfMotions)("matBadgeColor","accent")("ngSwitch",t.name),C.Hb(1),C.uc("ngSwitchCase","Favorites"),C.Hb(1),C.uc("ngSwitchCase","No category"),C.Hb(1),C.uc("ngSwitchCase","Personal notes")}}function yt(t,e){if(1&t&&(C.ac(0,"os-grid-layout"),C.Rc(1,Pt,14,20,"os-block-tile",50),C.Zb()),2&t){const t=C.mc();C.Hb(1),C.uc("ngForOf",t.listTiles)}}function St(t,e){if(1&t){const t=C.bc();C.ac(0,"div"),C.ac(1,"button",59),C.ic("click",(function(){return C.Jc(t),C.mc(2).toggleMultiSelect()})),C.ac(2,"mat-icon"),C.Tc(3,"library_add"),C.Zb(),C.ac(4,"span"),C.Tc(5),C.nc(6,"translate"),C.Zb(),C.Zb(),C.Vb(7,"mat-divider"),C.Zb()}2&t&&(C.Hb(5),C.Uc(C.oc(6,1,"Multiselect")))}function Vt(t,e){1&t&&(C.ac(0,"div"),C.ac(1,"button",60),C.ac(2,"mat-icon"),C.Tc(3,"color_lens"),C.Zb(),C.ac(4,"span"),C.Tc(5),C.nc(6,"translate"),C.Zb(),C.Zb(),C.Zb()),2&t&&(C.Hb(5),C.Uc(C.oc(6,1,"Amendments")))}function xt(t,e){1&t&&(C.ac(0,"div"),C.ac(1,"button",61),C.ac(2,"mat-icon"),C.Tc(3,"category"),C.Zb(),C.ac(4,"span"),C.Tc(5),C.nc(6,"translate"),C.Zb(),C.Zb(),C.Zb()),2&t&&(C.Hb(5),C.Uc(C.oc(6,1,"Categories")))}function Ut(t,e){1&t&&(C.ac(0,"div"),C.ac(1,"button",62),C.ac(2,"mat-icon"),C.Tc(3,"widgets"),C.Zb(),C.ac(4,"span"),C.Tc(5),C.nc(6,"translate"),C.Zb(),C.Zb(),C.Zb()),2&t&&(C.Hb(5),C.Uc(C.oc(6,1,"Motion blocks")))}function At(t,e){1&t&&C.Vb(0,"mat-divider")}function Dt(t,e){1&t&&(C.ac(0,"button",68),C.ac(1,"mat-icon"),C.Tc(2,"account_balance"),C.Zb(),C.ac(3,"span"),C.Tc(4),C.nc(5,"translate"),C.Zb(),C.Zb()),2&t&&(C.Hb(4),C.Uc(C.oc(5,1,"Statute")))}function Lt(t,e){1&t&&(C.ac(0,"button",69),C.ac(1,"mat-icon"),C.Tc(2,"local_offer"),C.Zb(),C.ac(3,"span"),C.Tc(4),C.nc(5,"translate"),C.Zb(),C.Zb()),2&t&&(C.Hb(4),C.Uc(C.oc(5,1,"Tags")))}function Ft(t,e){if(1&t&&(C.ac(0,"div"),C.ac(1,"button",63),C.ac(2,"mat-icon"),C.Tc(3,"sort"),C.Zb(),C.ac(4,"span"),C.Tc(5),C.nc(6,"translate"),C.Zb(),C.Zb(),C.Rc(7,Dt,6,3,"button",64),C.ac(8,"button",65),C.ac(9,"mat-icon"),C.Tc(10,"speaker_notes"),C.Zb(),C.ac(11,"span"),C.Tc(12),C.nc(13,"translate"),C.Zb(),C.Zb(),C.ac(14,"button",66),C.ac(15,"mat-icon"),C.Tc(16,"build"),C.Zb(),C.ac(17,"span"),C.Tc(18),C.nc(19,"translate"),C.Zb(),C.Zb(),C.Rc(20,Lt,6,3,"button",67),C.Vb(21,"mat-divider"),C.Zb()),2&t){const t=C.mc(2);C.Hb(5),C.Uc(C.oc(6,5,"Call list")),C.Hb(2),C.uc("ngIf",t.statutesEnabled),C.Hb(5),C.Uc(C.oc(13,7,"Comment fields")),C.Hb(6),C.Uc(C.oc(19,9,"Workflows")),C.Hb(2),C.uc("osPerms","core.can_manage_tags")}}function Et(t,e){if(1&t){const t=C.bc();C.ac(0,"button",59),C.ic("click",(function(){return C.Jc(t),C.mc(2).openExportDialog()})),C.ac(1,"mat-icon"),C.Tc(2,"archive"),C.Zb(),C.ac(3,"span"),C.Tc(4),C.nc(5,"translate"),C.Zb(),C.Zb()}2&t&&(C.Hb(4),C.Uc(C.oc(5,1,"Export")))}function Bt(t,e){1&t&&(C.ac(0,"div"),C.ac(1,"button",70),C.ac(2,"mat-icon"),C.Tc(3,"cloud_upload"),C.Zb(),C.ac(4,"span"),C.Tc(5),C.nc(6,"translate"),C.Zb(),C.Zb(),C.Zb()),2&t&&(C.Hb(5),C.Uc(C.oc(6,1,"Import")))}function Jt(t,e){1&t&&(C.ac(0,"div"),C.Vb(1,"mat-divider"),C.ac(2,"button",71),C.ac(3,"mat-icon"),C.Tc(4,"settings"),C.Zb(),C.ac(5,"span"),C.Tc(6),C.nc(7,"translate"),C.Zb(),C.Zb(),C.Zb()),2&t&&(C.Hb(6),C.Uc(C.oc(7,1,"Settings")))}function jt(t,e){if(1&t&&(C.ac(0,"div"),C.Rc(1,St,8,3,"div",7),C.Rc(2,Vt,7,3,"div",7),C.Rc(3,xt,7,3,"div",7),C.Rc(4,Ut,7,3,"div",7),C.Rc(5,At,1,0,"mat-divider",7),C.Rc(6,Ft,22,11,"div",7),C.Rc(7,Et,6,3,"button",57),C.Rc(8,Bt,7,3,"div",7),C.Rc(9,Jt,8,3,"div",58),C.Zb()),2&t){const t=C.mc();C.Hb(1),C.uc("ngIf",t.perms.isAllowed("change_metadata")&&"list"===t.selectedView),C.Hb(1),C.uc("ngIf",t.amendmentsEnabled&&(t.perms.isAllowed("manage")||t.hasAmendments())),C.Hb(1),C.uc("ngIf",t.perms.isAllowed("manage")||t.categories.length),C.Hb(1),C.uc("ngIf",t.perms.isAllowed("manage")||t.motionBlocks.length),C.Hb(1),C.uc("ngIf",(t.categories.length||t.motionBlocks.length||t.hasAmendments()||t.perms.isAllowed("manage"))&&(t.perms.isAllowed("manage")||"list"===t.selectedView||t.operator.hasPerms("core.can_manage_config"))),C.Hb(1),C.uc("ngIf",t.perms.isAllowed("manage")),C.Hb(1),C.uc("ngIf","list"===t.selectedView),C.Hb(1),C.uc("ngIf",t.perms.isAllowed("manage")),C.Hb(1),C.uc("osPerms","core.can_manage_config")}}function zt(t,e){if(1&t){const t=C.bc();C.Yb(0),C.Vb(1,"mat-divider"),C.ac(2,"os-motion-multiselect-actions",73),C.ic("action",(function(e){return C.Jc(t),C.mc(2).multiselectWrapper(e)})),C.ac(3,"button",72),C.ic("click",(function(){C.Jc(t);const e=C.mc(2);return e.multiselectWrapper(e.multiselectService.moveToItem(e.selectedRows))})),C.ac(4,"mat-icon"),C.Tc(5,"sort"),C.Zb(),C.ac(6,"span"),C.Tc(7),C.nc(8,"translate"),C.Zb(),C.Zb(),C.ac(9,"button",72),C.ic("click",(function(){C.Jc(t);const e=C.mc(2);return e.multiselectWrapper(e.multiselectService.bulkMoveItems(e.selectedRows))})),C.ac(10,"mat-icon"),C.Tc(11,"format_indent_increase"),C.Zb(),C.ac(12,"span"),C.Tc(13),C.nc(14,"translate"),C.Zb(),C.Zb(),C.Zb(),C.Xb()}if(2&t){const t=C.mc(2);C.Hb(2),C.uc("selectedMotions",t.selectedRows),C.Hb(1),C.uc("disabled",!t.selectedRows.length),C.Hb(4),C.Uc(C.oc(8,5,"Move to agenda item")),C.Hb(2),C.uc("disabled",!t.selectedRows.length),C.Hb(4),C.Uc(C.oc(14,7,"Move in call list"))}}function Nt(t,e){if(1&t){const t=C.bc();C.ac(0,"div"),C.ac(1,"button",59),C.ic("click",(function(){return C.Jc(t),C.mc().selectAll()})),C.ac(2,"mat-icon"),C.Tc(3,"done_all"),C.Zb(),C.ac(4,"span"),C.Tc(5),C.nc(6,"translate"),C.Zb(),C.Zb(),C.ac(7,"button",72),C.ic("click",(function(){return C.Jc(t),C.mc().deselectAll()})),C.ac(8,"mat-icon"),C.Tc(9,"clear"),C.Zb(),C.ac(10,"span"),C.Tc(11),C.nc(12,"translate"),C.Zb(),C.Zb(),C.Rc(13,zt,15,9,"ng-container",7),C.Zb()}if(2&t){const t=C.mc();C.Hb(5),C.Uc(C.oc(6,4,"Select all")),C.Hb(2),C.uc("disabled",!t.selectedRows.length),C.Hb(4),C.Uc(C.oc(12,6,"Deselect all")),C.Hb(2),C.uc("ngIf",t.perms.isAllowed("change_metadata"))}}function Wt(t,e){if(1&t&&(C.ac(0,"mat-option",80),C.Tc(1),C.nc(2,"translate"),C.Zb()),2&t){const t=e.$implicit;C.uc("value",t.id),C.Hb(1),C.Vc(" ",C.oc(2,2,t.getTitle())," ")}}function $t(t,e){if(1&t){const t=C.bc();C.ac(0,"mat-form-field"),C.ac(1,"mat-select",79),C.ic("ngModelChange",(function(e){return C.Jc(t),C.mc(2).infoDialog.category_id=e})),C.nc(2,"translate"),C.ac(3,"mat-option",80),C.Tc(4,"-"),C.Zb(),C.Rc(5,Wt,3,4,"mat-option",81),C.Zb(),C.Zb()}if(2&t){const t=C.mc(2);C.Hb(1),C.vc("placeholder",C.oc(2,4,"Category")),C.uc("ngModel",t.infoDialog.category_id),C.Hb(2),C.uc("value",null),C.Hb(2),C.uc("ngForOf",t.categories)}}function qt(t,e){if(1&t&&(C.ac(0,"mat-option",80),C.Tc(1),C.nc(2,"translate"),C.Zb()),2&t){const t=e.$implicit;C.uc("value",t.id),C.Hb(1),C.Vc(" ",C.oc(2,2,t.getTitle())," ")}}function Kt(t,e){if(1&t){const t=C.bc();C.ac(0,"mat-form-field"),C.ac(1,"mat-select",79),C.ic("ngModelChange",(function(e){return C.Jc(t),C.mc(2).infoDialog.motion_block_id=e})),C.nc(2,"translate"),C.ac(3,"mat-option",80),C.Tc(4,"-"),C.Zb(),C.Rc(5,qt,3,4,"mat-option",81),C.Zb(),C.Zb()}if(2&t){const t=C.mc(2);C.Hb(1),C.vc("placeholder",C.oc(2,4,"Motion block")),C.uc("ngModel",t.infoDialog.motion_block_id),C.Hb(2),C.uc("value",null),C.Hb(2),C.uc("ngForOf",t.motionBlocks)}}function Xt(t,e){if(1&t&&(C.ac(0,"mat-option",80),C.Tc(1),C.nc(2,"translate"),C.Zb()),2&t){const t=e.$implicit;C.uc("value",t.id),C.Hb(1),C.Vc(" ",C.oc(2,2,t.getTitle())," ")}}function Qt(t,e){if(1&t){const t=C.bc();C.ac(0,"mat-form-field"),C.ac(1,"mat-select",82),C.ic("ngModelChange",(function(e){return C.Jc(t),C.mc(2).infoDialog.tags_id=e})),C.nc(2,"translate"),C.Rc(3,Xt,3,4,"mat-option",81),C.Zb(),C.Zb()}if(2&t){const t=C.mc(2);C.Hb(1),C.vc("placeholder",C.oc(2,3,"Tags")),C.uc("ngModel",t.infoDialog.tags_id),C.Hb(2),C.uc("ngForOf",t.tags)}}function Yt(t,e){if(1&t&&(C.ac(0,"mat-option",80),C.Tc(1),C.nc(2,"translate"),C.Zb()),2&t){const t=e.$implicit;C.uc("value",t.id),C.Hb(1),C.Vc(" ",C.oc(2,2,t.getTitle())," ")}}function Gt(t,e){if(1&t){const t=C.bc();C.ac(0,"mat-form-field"),C.ac(1,"mat-select",79),C.ic("ngModelChange",(function(e){return C.Jc(t),C.mc(2).infoDialog.state_id=e})),C.nc(2,"translate"),C.Rc(3,Yt,3,4,"mat-option",81),C.Zb(),C.Zb()}if(2&t){const t=C.mc(2);C.Hb(1),C.vc("placeholder",C.oc(2,3,"State")),C.uc("ngModel",t.infoDialog.state_id),C.Hb(2),C.uc("ngForOf",t.selectedMotion.state.next_states)}}function te(t,e){if(1&t&&(C.ac(0,"mat-option",80),C.Tc(1),C.nc(2,"translate"),C.Zb()),2&t){const t=e.$implicit;C.uc("value",t.id),C.Hb(1),C.Vc(" ",C.oc(2,2,t.recommendation_label)," ")}}function ee(t,e){if(1&t){const t=C.bc();C.ac(0,"mat-form-field"),C.ac(1,"mat-select",79),C.ic("ngModelChange",(function(e){return C.Jc(t),C.mc(2).infoDialog.recommendation_id=e})),C.nc(2,"translate"),C.Rc(3,te,3,4,"mat-option",81),C.Zb(),C.Zb()}if(2&t){const t=C.mc(2);C.Hb(1),C.vc("placeholder",C.oc(2,3,"Recommendation")),C.uc("ngModel",t.infoDialog.recommendation_id),C.Hb(2),C.uc("ngForOf",t.selectedMotion.possibleRecommendations)}}function ne(t,e){if(1&t&&(C.ac(0,"h1",74),C.ac(1,"span"),C.Tc(2),C.nc(3,"translate"),C.Zb(),C.Zb(),C.ac(4,"div",75),C.Rc(5,$t,6,6,"mat-form-field",7),C.Rc(6,Kt,6,6,"mat-form-field",7),C.Rc(7,Qt,4,5,"mat-form-field",7),C.Rc(8,Gt,4,5,"mat-form-field",7),C.Rc(9,ee,4,5,"mat-form-field",7),C.Zb(),C.ac(10,"div",76),C.ac(11,"button",77),C.ac(12,"span"),C.Tc(13),C.nc(14,"translate"),C.Zb(),C.Zb(),C.ac(15,"button",78),C.ac(16,"span"),C.Tc(17),C.nc(18,"translate"),C.Zb(),C.Zb(),C.Zb()),2&t){const t=C.mc();C.Hb(2),C.Wc("",C.oc(3,11,"Edit details for")," ",t.infoDialog.title,""),C.Hb(3),C.uc("ngIf",t.isCategoryAvailable()),C.Hb(1),C.uc("ngIf",t.isMotionBlockAvailable()),C.Hb(1),C.uc("ngIf",t.isTagAvailable()),C.Hb(1),C.uc("ngIf",t.perms.isAllowed("change_state",t.selectedMotion)),C.Hb(1),C.uc("ngIf",t.perms.isAllowed("change_state",t.selectedMotion)),C.Hb(2),C.uc("mat-dialog-close",t.infoDialog),C.Hb(2),C.Uc(C.oc(14,13,"Save")),C.Hb(2),C.uc("mat-dialog-close",null),C.Hb(2),C.Uc(C.oc(18,15,"Cancel"))}}const ce=[{path:"",component:(()=>{class t extends v.a{constructor(t,e,n,c,i,o,a,s,l,r,b,m,u,d,g,f,p,h,v,Z,M){super(t,e,n,i),this.translate=e,this.route=c,this.filterService=o,this.sortService=a,this.router=s,this.configService=l,this.tagRepo=r,this.motionBlockRepo=b,this.categoryRepo=m,this.workflowRepo=u,this.motionRepo=d,this.dialog=g,this.multiselectService=f,this.perms=p,this.motionExport=h,this.overlayService=v,this.vp=Z,this.operator=M,this.selectedMotion=null,this.tableColumnDefinition=[{prop:"identifier"},{prop:"title",width:"auto"},{prop:"state",width:"20%",minWidth:160}],this.tags=[],this.workflows=[],this.categories=[],this.motionBlocks=[],this.filterProps=["submitters","motion_block","title","identifier"],this.motionTiles=[],this.categoryTiles=[],this.canMultiSelect=!0}ngOnInit(){const t=Object.create(null,{setTitle:{get:()=>super.setTitle}});return Object(a.a)(this,void 0,void 0,(function*(){t.setTitle.call(this,"Motions"),this.configService.get("motions_statutes_enabled").subscribe(t=>this.statutesEnabled=t),this.configService.get("motions_amendments_enabled").subscribe(t=>this.amendmentsEnabled=t),this.configService.get("motions_recommendations_by").subscribe(t=>{this.recommendationEnabled=!!t}),this.configService.get("motions_show_sequential_numbers").subscribe(t=>this.showSequential=t),this.motionBlockRepo.getViewModelListObservable().subscribe(t=>{this.motionBlocks=t}),this.categoryRepo.getViewModelListObservable().subscribe(t=>{this.categories=t,t.length>0?this.storage.get("motionListView").then(t=>{this.selectedView=t||"tiles"}):this.selectedView="list"}),this.tagRepo.getViewModelListObservable().subscribe(t=>{this.tags=t}),this.workflowRepo.getViewModelListObservable().subscribe(t=>this.workflows=t),this.motionRepo.getViewModelListObservable().subscribe(t=>{t&&t.length&&this.createMotionTiles(t)})}))}createTileList(){this.listTiles=this.categoryTiles.concat(this.motionTiles)}getColumnsHiddenInMobile(){const t=["identifier","state"];return this.perms.canAccessMobileDotMenu()||t.push("menu"),t}createCategoryTiles(t){this.categoryTiles=t.filter(t=>!t.parent_id&&!!t.totalAmountOfMotions).sort((t,e)=>t.weight-e.weight).map(t=>({filter:"category_id",name:t.name,condition:t.id,amountOfMotions:t.totalAmountOfMotions,prefix:t.prefix}))}createMotionTiles(t){this.motionTiles=[];let e=0,n=0,c=0;const i=new Set;for(const o of t)o.category?i.add(o.category.oldestParent):c++,e+=+this.motionHasProp(o,"star"),n+=+this.motionHasProp(o,"hasNotes");this.addToTileInfo("Favorites","star",!0,e),this.addToTileInfo("Personal notes","hasNotes",!0,n),this.addToTileInfo("No category","category_id",null,c),this.createCategoryTiles(Array.from(i)),this.createTileList()}motionHasProp(t,e,n=!0){return!!t[e]===n}addToTileInfo(t,e,n,c){c&&this.motionTiles.push({filter:e,name:t,condition:n,amountOfMotions:c})}onPlusButton(){this.router.navigate(["./new"],{relativeTo:this.route})}openExportDialog(){this.dialog.open(H.a,Object.assign(Object.assign({},h.b),{data:this.dataSource})).afterClosed().subscribe(t=>this.motionExport.evaluateExportRequest(t,this.isMultiSelect?this.selectedRows:this.dataSource.filteredData))}multiselectWrapper(t){return Object(a.a)(this,void 0,void 0,(function*(){t.then(()=>this.overlayService.hideSpinner(),this.raiseError)}))}onChangeView(t){this.selectedView=t,this.storage.set("motionListView",t)}changeToViewWithTileCategory(t){this.onChangeView("list"),this.filterService.clearAllFilters(),this.filterService.toggleFilterOption(t.filter,{label:t.name,condition:t.condition,isActive:!1})}openEditInfo(t){return Object(a.a)(this,void 0,void 0,(function*(){if(this.isMultiSelect||!this.perms.isAllowed("change_metadata"))return;this.selectedMotion=t,this.infoDialog={title:t.title,motion_block_id:t.motion_block_id,category_id:t.category_id,tags_id:t.tags_id,state_id:t.state_id,recommendation_id:t.recommendation_id};const e=this.dialog.open(this.motionInfoDialog,h.a);e.keydownEvents().subscribe(t=>{"Enter"===t.key&&t.shiftKey&&e.close(this.infoDialog)});const n=yield e.afterClosed().toPromise();if(n){delete n.title;try{yield this.motionRepo.patch(n,t),n.state_id!==t.state_id&&(yield this.motionRepo.setState(t,n.state_id)),n.recommendation_id!==t.recommendation_id&&(yield this.motionRepo.setRecommendation(t,n.recommendation_id))}catch(c){this.raiseError(c)}}this.selectedMotion=null}))}hasAmendments(){return!!this.motionRepo.getAllAmendmentsInstantly().length}isCategoryAvailable(){return!!this.categories&&this.categories.length>0}isTagAvailable(){return!!this.tags&&this.tags.length>0}isMotionBlockAvailable(){return!!this.motionBlocks&&this.motionBlocks.length>0}}return t.\u0275fac=function(e){return new(e||t)(C.Ub(k.d),C.Ub(R.k),C.Ub(O.a),C.Ub(o.a),C.Ub(l.a),C.Ub(T.a),C.Ub(_.a),C.Ub(o.f),C.Ub(g.a),C.Ub(d.a),C.Ub(b.a),C.Ub(r.a),C.Ub(u.a),C.Ub(m.a),C.Ub(I.b),C.Ub(w.a),C.Ub(Z.a),C.Ub(M.a),C.Ub(f.a),C.Ub(p.a),C.Ub(s.a))},t.\u0275cmp=C.Ob({type:t,selectors:[["os-motion-list"]],viewQuery:function(t,e){var n;1&t&&C.Pc(Q,!0),2&t&&C.Ec(n=C.jc())&&(e.motionInfoDialog=n.first)},features:[C.Eb],decls:34,vars:16,consts:[[3,"hasMainButton","multiSelectMode","mainEvent"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[1,"central-info-slot"],["mat-icon-button","",3,"click"],[1,"extra-controls-slot"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["list",""],["singleItemMenu","matMenu"],["matMenuContent",""],["tiles",""],["motionListMenu","matMenu"],["motionInfoDialog",""],["mat-button","",3,"matTooltip","click",4,"ngIf"],["mat-button","",3,"matTooltip","click"],["listStorageKey","motion",3,"listObservableProvider","filterService","sortService","columns","multiSelect","filterProps","hiddenInMobile","selectedRows","selectedRowsChange","dataSourceChange"],["class","cell-slot fill",4,"pblNgridCellDef"],["class","cell-slot fill",3,"ngClass","click",4,"pblNgridCellDef"],[1,"cell-slot","fill"],["class","detail-link",3,"routerLink",4,"ngIf"],[1,"column-identifier","innerTable"],[1,"detail-link",3,"routerLink"],[1,"column-title","innerTable"],[1,"title-line","ellipsis-overflow"],["class","favorite-star",4,"ngIf"],["class","icon-prefix",4,"ngIf"],[1,"submitters-line","ellipsis-overflow"],[1,"ellipsis-overflow","white"],[3,"ngClass","disabled",4,"ngIf"],["class","ellipsis-overflow white spacer-top-3",4,"ngIf"],[1,"favorite-star"],["inline",""],[1,"icon-prefix"],[3,"ngClass","disabled"],[1,"ellipsis-overflow","white","spacer-top-3"],[1,"bluegrey",3,"disabled"],[1,"cell-slot","fill",3,"ngClass","click"],[1,"column-state","innerTable"],["class","ellipsis-overflow",4,"ngIf"],["class","ellipsis-overflow spacer-top-5",4,"ngIf"],[1,"ellipsis-overflow"],["icon","category"],[1,"ellipsis-overflow","spacer-top-5"],["icon","widgets"],["icon","local_offer"],[4,"ngFor","ngForOf"],["mat-icon-button","",3,"disabled","matMenuTriggerFor","matMenuTriggerData","click"],[3,"object","menuItem"],[3,"orientation","only","blockType","data","title","clicked",4,"ngFor","ngForOf"],[3,"orientation","only","blockType","data","title","clicked"],[1,"block-node"],[3,"matTooltip"],[1,"tile-block-title",3,"matBadge","matBadgeColor","ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mat-menu-item","",3,"click",4,"ngIf"],[4,"osPerms"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","amendments"],["mat-menu-item","","routerLink","category"],["mat-menu-item","","routerLink","blocks"],["mat-menu-item","","routerLink","call-list"],["mat-menu-item","","routerLink","statute-paragraphs",4,"ngIf"],["mat-menu-item","","routerLink","comment-section"],["mat-menu-item","","routerLink","workflow"],["mat-menu-item","","routerLink","/tags",4,"osPerms"],["mat-menu-item","","routerLink","statute-paragraphs"],["mat-menu-item","","routerLink","/tags"],["mat-menu-item","","routerLink","import"],["mat-menu-item","","routerLink","/settings/motions"],["mat-menu-item","",3,"disabled","click"],[3,"selectedMotions","action"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"mat-dialog-close"],["type","button","mat-button","",3,"mat-dialog-close"],[3,"placeholder","ngModel","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["multiple","",3,"placeholder","ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(C.ac(0,"os-head-bar",0),C.ic("mainEvent",(function(){return e.onPlusButton()})),C.ac(1,"div",1),C.ac(2,"h2"),C.Tc(3),C.nc(4,"translate"),C.Zb(),C.Zb(),C.ac(5,"div",2),C.ac(6,"button",3),C.ac(7,"mat-icon"),C.Tc(8,"more_vert"),C.Zb(),C.Zb(),C.Zb(),C.ac(9,"div",4),C.ac(10,"button",5),C.ic("click",(function(){return e.toggleMultiSelect()})),C.ac(11,"mat-icon"),C.Tc(12,"arrow_back"),C.Zb(),C.Zb(),C.ac(13,"span"),C.Tc(14),C.Zb(),C.ac(15,"span"),C.Tc(16),C.nc(17,"translate"),C.Zb(),C.Zb(),C.ac(18,"div",6),C.Rc(19,tt,3,2,"div",7),C.Zb(),C.Zb(),C.Rc(20,et,1,0,"ng-container",8),C.Rc(21,wt,5,12,"ng-template",null,9,C.Sc),C.ac(23,"mat-menu",null,10),C.Rc(25,_t,2,4,"ng-template",11),C.Zb(),C.Rc(26,yt,2,1,"ng-template",null,12,C.Sc),C.ac(28,"mat-menu",null,13),C.Rc(30,jt,10,9,"div",7),C.Rc(31,Nt,14,8,"div",7),C.Zb(),C.Rc(32,ne,19,17,"ng-template",null,14,C.Sc)),2&t){const t=C.Fc(22),n=C.Fc(27),c=C.Fc(29);C.uc("hasMainButton",e.perms.isAllowed("create"))("multiSelectMode",e.isMultiSelect),C.Hb(3),C.Uc(C.oc(4,12,"Motions")),C.Hb(3),C.uc("matMenuTriggerFor",c),C.Hb(8),C.Vc("",e.selectedRows.length,"\xa0"),C.Hb(2),C.Uc(C.oc(17,14,"selected")),C.Hb(3),C.uc("ngIf",e.isCategoryAvailable()&&!e.isMultiSelect),C.Hb(1),C.uc("ngIf","tiles"===e.selectedView)("ngIfThen",n)("ngIfElse",t),C.Hb(10),C.uc("ngIf",!e.isMultiSelect),C.Hb(1),C.uc("ngIf",e.isMultiSelect)}},directives:[P.a,y.b,S.e,V.a,c.t,S.f,S.b,x.c,U.a,A.c,o.i,D.a,c.q,L.a,c.s,F.a,E.a,B.a,J.a,j.a,c.x,c.y,c.z,z.a,S.c,N.a,o.g,W.a,I.i,I.f,I.c,I.d,$.c,q.a,K.s,K.v,X.n],pipes:[R.j],styles:[".title-line[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.title-line[_ngcontent-%COMP%]   .icon-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{padding-right:3px}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:2}.mat-table[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{z-index:3!important}.submitters-line[_ngcontent-%COMP%]{font-size:90%}.mat-button-toggle-group[_ngcontent-%COMP%]{line-height:normal;vertical-align:middle;box-shadow:none}.mat-button-toggle-group[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle;margin:0}.projector-button[_ngcontent-%COMP%]{margin:auto}.column-identifier[_ngcontent-%COMP%]{margin-top:10px;word-break:break-all}.column-state[_ngcontent-%COMP%], .column-title[_ngcontent-%COMP%]{margin-top:10px}.column-state[_ngcontent-%COMP%]{width:inherit}.column-state[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:150%}os-grid-layout[_ngcontent-%COMP%]   .color-select[_ngcontent-%COMP%]{width:100%;padding:0 8px}os-grid-layout[_ngcontent-%COMP%]   .tile-block-title[_ngcontent-%COMP%]{font-size:36px}os-grid-layout[_ngcontent-%COMP%]   .tile-block-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px}os-grid-layout[_ngcontent-%COMP%]   .tile-block-title[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-22px;top:-11px;font-size:16px;width:30px;height:30px;line-height:30px}"],changeDetection:0}),t})(),pathMatch:"full"}];let ie=(()=>{class t{}return t.\u0275mod=C.Sb({type:t}),t.\u0275inj=C.Rb({factory:function(e){return new(e||t)},imports:[[o.j.forChild(ce)],o.j]}),t})();var oe=n("IItz");let ae=(()=>{class t{}return t.\u0275mod=C.Sb({type:t}),t.\u0275inj=C.Rb({factory:function(e){return new(e||t)},imports:[[c.c,ie,i.a,oe.a]]}),t})()}}]);