(window.webpackJsonp=window.webpackJsonp||[]).push([[34,36],{F48D:function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));var a=c("mrSG"),o=c("LBBb"),i=c("fXoL"),n=c("0IaG");let s=(()=>{class t{constructor(t){this.dialog=t}open(t,e=""){return Object(a.a)(this,void 0,void 0,(function*(){return this.dialog.open(o.a,{width:"250px",data:{title:t,content:e}}).afterClosed().toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(i.ec(n.b))},t.\u0275prov=i.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},LBBb:function(t,e,c){"use strict";c.d(e,"a",(function(){return l}));var a=c("0IaG"),o=c("fXoL"),i=c("ofXK"),n=c("bTqV"),s=c("sYmb");function r(t,e){if(1&t&&(o.ac(0,"div"),o.ac(1,"h2",1),o.Tc(2),o.Zb(),o.Vb(3,"mat-dialog-content",2),o.ac(4,"mat-dialog-actions"),o.ac(5,"button",3),o.Tc(6),o.nc(7,"translate"),o.Zb(),o.ac(8,"button",4),o.Tc(9),o.nc(10,"translate"),o.Zb(),o.Zb(),o.Zb()),2&t){const t=o.mc();o.Hb(2),o.Uc(t.data.title),o.Hb(1),o.uc("innerHTML",t.data.content,o.Kc),o.Hb(2),o.uc("mat-dialog-close",!0),o.Hb(1),o.Uc(o.oc(7,6,"Yes")),o.Hb(2),o.uc("mat-dialog-close",!1),o.Hb(1),o.Uc(o.oc(10,8,"Cancel"))}}let l=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}}return t.\u0275fac=function(e){return new(e||t)(o.Ub(a.h),o.Ub(a.a))},t.\u0275cmp=o.Ob({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&o.Rc(0,r,11,10,"div",0),2&t&&o.uc("ngIf",e.data)},directives:[i.t,a.i,a.f,a.c,n.b,a.d],pipes:[s.j],encapsulation:2}),t})()},mNQd:function(t,e,c){"use strict";c.r(e),c.d(e,"TagModule",(function(){return L}));var a=c("ofXK"),o=c("PCNd"),i=c("tyNb"),n=c("mrSG"),s=c("3Pt+"),r=c("AqIO"),l=c("lv9T"),u=c("F48D"),d=c("73vO"),b=c("Izkr"),h=c("wL0i"),f=c("fXoL"),m=c("jhN1"),g=c("dNgK"),p=c("sYmb"),v=c("0IaG"),w=c("mksl"),S=c("0Obk"),T=c("dRZP"),Z=c("bTqV"),H=c("NFeN"),y=c("kmnG"),D=c("qFsG");const R=["tagDialog"];function M(t,e){if(1&t&&(f.ac(0,"div",5),f.ac(1,"div"),f.Tc(2),f.Zb(),f.Zb()),2&t){const t=e.value;f.Hb(2),f.Vc(" ",t," ")}}function k(t,e){if(1&t){const t=f.bc();f.ac(0,"div",5),f.ac(1,"button",6),f.ic("click",(function(){f.Jc(t);const c=e.row;return f.mc().openTagDialog(c)})),f.ac(2,"mat-icon"),f.Tc(3,"edit"),f.Zb(),f.Zb(),f.Zb()}}function C(t,e){if(1&t){const t=f.bc();f.ac(0,"div",5),f.ac(1,"button",7),f.ic("click",(function(){f.Jc(t);const c=e.row;return f.mc().onDeleteButton(c)})),f.ac(2,"mat-icon"),f.Tc(3,"delete"),f.Zb(),f.Zb(),f.Zb()}}function U(t,e){1&t&&(f.ac(0,"span"),f.Tc(1),f.nc(2,"translate"),f.Zb()),2&t&&(f.Hb(1),f.Uc(f.oc(2,1,"Edit tag")))}function I(t,e){1&t&&(f.ac(0,"span"),f.Tc(1),f.nc(2,"translate"),f.Zb()),2&t&&(f.Hb(1),f.Uc(f.oc(2,1,"New tag")))}function B(t,e){if(1&t){const t=f.bc();f.ac(0,"h1",8),f.Rc(1,U,3,3,"span",9),f.Rc(2,I,3,3,"span",9),f.Zb(),f.ac(3,"div",10),f.ac(4,"form",11),f.ic("keydown",(function(e){return f.Jc(t),f.mc().onKeyDown(e)})),f.ac(5,"mat-form-field"),f.Vb(6,"input",12),f.nc(7,"translate"),f.Zb(),f.Zb(),f.Zb(),f.ac(8,"div",13),f.ac(9,"button",14),f.ac(10,"span"),f.Tc(11),f.nc(12,"translate"),f.Zb(),f.Zb(),f.ac(13,"button",15),f.ac(14,"span"),f.Tc(15),f.nc(16,"translate"),f.Zb(),f.Zb(),f.Zb()}if(2&t){const t=f.mc();f.Hb(1),f.uc("ngIf",t.currentTag),f.Hb(1),f.uc("ngIf",!t.currentTag),f.Hb(2),f.uc("formGroup",t.tagForm),f.Hb(2),f.vc("placeholder",f.oc(7,8,"Name")),f.Hb(3),f.uc("mat-dialog-close",!0),f.Hb(2),f.Uc(f.oc(12,10,"Save")),f.Hb(2),f.uc("mat-dialog-close",!1),f.Hb(2),f.Uc(f.oc(16,12,"Cancel"))}}const N=function(){return["menu"]},F=function(){return["name"]},j=[{path:"",component:(()=>{class t extends h.a{constructor(t,e,c,a,o,i,n,r){super(t,o,e,c),this.repo=a,this.translate=o,this.promptService=i,this.dialog=n,this.formBuilder=r,this.tagForm=this.formBuilder.group({name:["",[s.G.required]]}),this.tableColumnDefinition=[{prop:"name",width:"auto"},{prop:"edit",width:this.singleButtonWidth},{prop:"delete",width:this.singleButtonWidth}]}ngOnInit(){super.setTitle("Tags")}openTagDialog(t){this.currentTag=t,this.tagForm.reset(),this.tagForm.get("name").setValue(this.currentTag?this.currentTag.name:""),this.dialogRef=this.dialog.open(this.tagDialog,b.a),this.dialogRef.afterClosed().subscribe(t=>{t&&this.save()})}save(){this.tagForm.value&&this.tagForm.valid&&(this.currentTag?this.repo.update(new d.a(this.tagForm.value),this.currentTag).catch(this.raiseError):this.repo.create(this.tagForm.value).catch(this.raiseError),this.tagForm.reset())}onDeleteButton(t){return Object(n.a)(this,void 0,void 0,(function*(){const e=this.translate.instant("Are you sure you want to delete this tag?"),c=t.name;(yield this.promptService.open(e,c))&&this.repo.delete(t).catch(this.raiseError)}))}onKeyDown(t){"Enter"===t.key&&t.shiftKey&&(this.save(),this.dialogRef.close()),"Escape"===t.key&&this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(f.Ub(m.d),f.Ub(g.a),f.Ub(r.a),f.Ub(l.a),f.Ub(p.k),f.Ub(u.a),f.Ub(v.b),f.Ub(s.f))},t.\u0275cmp=f.Ob({type:t,selectors:[["os-tag-list"]],viewQuery:function(t,e){var c;1&t&&f.Pc(R,!0),2&t&&f.Ec(c=f.jc())&&(e.tagDialog=c.first)},features:[f.Eb],decls:11,vars:18,consts:[[3,"hasMainButton","nav","multiSelectMode","mainEvent"],[1,"title-slot"],[3,"listObservableProvider","columns","allowProjector","showListOfSpeakers","hiddenInMobile","selectedRows","filterProps","selectedRowsChange","dataSourceChange"],["class","cell-slot fill",4,"pblNgridCellDef"],["tagDialog",""],[1,"cell-slot","fill"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-dialog-title",""],[4,"ngIf"],["mat-dialog-content","",1,"os-form-card-mobile"],[3,"formGroup","keydown"],["required","","type","text","matInput","","formControlName","name",3,"placeholder"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"mat-dialog-close"],["type","button","mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(f.ac(0,"os-head-bar",0),f.ic("mainEvent",(function(){return e.openTagDialog()})),f.ac(1,"div",1),f.ac(2,"h2"),f.Tc(3),f.nc(4,"translate"),f.Zb(),f.Zb(),f.Zb(),f.ac(5,"os-list-view-table",2),f.ic("selectedRowsChange",(function(t){return e.selectedRows=t}))("dataSourceChange",(function(t){return e.onDataSourceChange(t)})),f.Rc(6,M,3,1,"div",3),f.Rc(7,k,4,0,"div",3),f.Rc(8,C,4,0,"div",3),f.Zb(),f.Rc(9,B,17,14,"ng-template",null,4,f.Sc)),2&t&&(f.uc("hasMainButton",!0)("nav",!0)("multiSelectMode",e.isMultiSelect),f.Hb(3),f.Uc(f.oc(4,14,"Tags")),f.Hb(2),f.uc("listObservableProvider",e.repo)("columns",e.tableColumnDefinition)("allowProjector",!1)("showListOfSpeakers",!1)("hiddenInMobile",f.zc(16,N))("selectedRows",e.selectedRows)("filterProps",f.zc(17,F)),f.Hb(1),f.uc("pblNgridCellDef","name"),f.Hb(1),f.uc("pblNgridCellDef","edit"),f.Hb(1),f.uc("pblNgridCellDef","delete"))},directives:[w.a,S.a,T.c,Z.b,H.a,v.i,a.t,v.f,s.I,s.t,s.k,y.c,D.b,s.c,s.D,s.s,s.i,v.c,v.d],pipes:[p.j],styles:[""]}),t})(),pathMatch:"full"}];let O=(()=>{class t{}return t.\u0275mod=f.Sb({type:t}),t.\u0275inj=f.Rb({factory:function(e){return new(e||t)},imports:[[i.j.forChild(j)],i.j]}),t})(),L=(()=>{class t{}return t.\u0275mod=f.Sb({type:t}),t.\u0275inj=f.Rb({factory:function(e){return new(e||t)},imports:[[a.c,O,o.a]]}),t})()},wL0i:function(t,e,c){"use strict";c.d(e,"a",(function(){return o}));var a=c("mV3u");class o extends a.a{constructor(t,e,c,a){super(t,e,c),this.storage=a,this.canMultiSelect=!1,this._multiSelectMode=!1,this.singleButtonWidth="40px",this.badgeButtonWidth="45px",this.selectedRows=[]}onDataSourceChange(t){this.dataSource=t}toggleMultiSelect(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}selectAll(){this.dataSource.selection.select(...this.dataSource.filteredData)}deselectAll(){this.dataSource&&this.dataSource.selection.clear()}get isMultiSelect(){return this._multiSelectMode}}}}]);