function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,r=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw r}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var a=_superPropBase(t,e);if(a){var o=Object.getOwnPropertyDescriptor(a,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,a=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[22,36],{"68w7":function(t,e,n){"use strict";n.r(e),n.d(e,"CategoryModule",(function(){return Zt}));var a=n("ofXK"),o=n("PCNd"),r=n("tyNb"),i=n("+QJK"),c=n("mrSG"),s=n("iTQr"),l=n("F48D"),u=n("/tkw"),f=n("mV3u"),b=n("fXoL"),m=n("jhN1"),d=n("sYmb"),p=n("dNgK"),h=n("mksl"),g=n("Wp6s"),v=["osSortedTree"];function y(t,e){1&t&&b.Tc(0),2&t&&b.Vc(" ",e.item.getTitle()," ")}var C,_=((C=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,o,r,i){var c;return _classCallCheck(this,n),(c=e.call(this,t,a,o)).categoryRepo=r,c.promptService=i,c.hasChanged=!1,c.categoriesObservable=c.categoryRepo.getViewModelListObservable(),c}return _createClass(n,[{key:"onSave",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.categoryRepo.sortCategories(this.osSortTree.getTreeData()).then((function(){return e.osSortTree.setSubscription()}),this.raiseError);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"onCancel",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.canDeactivate();case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}this.osSortTree.setSubscription();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"receiveChanges",value:function(t){this.hasChanged=t}},{key:"canDeactivate",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hasChanged){t.next=5;break}return e=this.translate.instant("Do you really want to exit this page?"),n=this.translate.instant("You made changes."),t.next=4,this.promptService.open(e,n);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)})))}}]),n}(f.a)).\u0275fac=function(t){return new(t||C)(b.Ub(m.d),b.Ub(d.k),b.Ub(p.a),b.Ub(s.a),b.Ub(l.a))},C.\u0275cmp=b.Ob({type:C,selectors:[["os-categories-sort"]],viewQuery:function(t,e){var n;1&t&&b.Pc(v,!0),2&t&&b.Ec(n=b.jc())&&(e.osSortTree=n.first)},features:[b.Eb],decls:10,vars:6,consts:[[3,"editMode","nav","saveEvent","mainEvent"],[1,"title-slot"],["parentKey","parent_id","weightKey","weight",3,"model","hasChanged"],["osSortedTree",""],["innerNode",""]],template:function(t,e){1&t&&(b.ac(0,"os-head-bar",0),b.ic("saveEvent",(function(){return e.onSave()}))("mainEvent",(function(){return e.onCancel()})),b.ac(1,"div",1),b.ac(2,"h2"),b.Tc(3),b.nc(4,"translate"),b.Zb(),b.Zb(),b.Zb(),b.ac(5,"mat-card"),b.ac(6,"os-sorting-tree",2,3),b.ic("hasChanged",(function(t){return e.receiveChanges(t)})),b.Rc(8,y,1,1,"ng-template",null,4,b.Sc),b.Zb(),b.Zb()),2&t&&(b.uc("editMode",e.hasChanged)("nav",!1),b.Hb(3),b.Uc(b.oc(4,4,"Sort categories")),b.Hb(3),b.uc("model",e.categoriesObservable))},directives:[h.a,g.a,u.a],pipes:[d.j],styles:[".line[_ngcontent-%COMP%]{display:table;width:100%;font-size:14px;min-height:50px;margin-bottom:5px}.line[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{max-width:100%}.line[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .line[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.line[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{padding-right:10px;width:auto;white-space:nowrap}"]}),C),O=n("3Pt+"),k=n("+0xr"),P=n("OwvW"),w=n("dOok"),M=n("Izkr"),x=n("0IaG"),S=n("3Xi6"),Z=n("STbY"),R=n("NFeN"),H=n("f0Cb"),T=n("bTqV"),I=n("A5z7"),U=n("kmnG"),D=n("qFsG"),j=n("IZUe"),E=["editForm"],L=["editDialog"];function F(t,e){if(1&t&&(b.ac(0,"h2"),b.Tc(1),b.Zb()),2&t){var n=b.mc();b.Hb(1),b.Vc(" ",n.selectedCategory.prefixedName," ")}}function V(t,e){if(1&t&&(b.ac(0,"div"),b.ac(1,"button",11),b.ac(2,"mat-icon"),b.Tc(3,"more_vert"),b.Zb(),b.Zb(),b.Zb()),2&t){b.mc();var n=b.Fc(8);b.Hb(1),b.uc("matMenuTriggerFor",n)}}function A(t,e){1&t&&(b.ac(0,"mat-header-cell"),b.ac(1,"span"),b.Tc(2),b.nc(3,"translate"),b.Zb(),b.Zb()),2&t&&(b.Hb(2),b.Uc(b.oc(3,1,"Motion")))}function N(t,e){if(1&t&&(b.ac(0,"mat-cell"),b.Tc(1),b.Zb()),2&t){var n=e.$implicit;b.Hb(1),b.Vc(" ",n.getTitle()," ")}}function B(t,e){1&t&&(b.ac(0,"mat-header-cell"),b.ac(1,"span"),b.Tc(2),b.nc(3,"translate"),b.Zb(),b.Zb()),2&t&&(b.Hb(2),b.Uc(b.oc(3,1,"State")))}function z(t,e){if(1&t&&(b.ac(0,"mat-cell",22),b.ac(1,"mat-basic-chip",23),b.Tc(2),b.Zb(),b.Zb()),2&t){var n=e.$implicit,a=b.mc(2);b.Hb(1),b.uc("ngClass",n.stateCssColor),b.Hb(1),b.Vc(" ",a.getStateLabel(n)," ")}}function G(t,e){1&t&&(b.ac(0,"mat-header-cell"),b.ac(1,"span"),b.Tc(2),b.nc(3,"translate"),b.Zb(),b.Zb()),2&t&&(b.Hb(2),b.Uc(b.oc(3,1,"Recommendation")))}function J(t,e){if(1&t&&(b.ac(0,"mat-basic-chip",25),b.Tc(1),b.Zb()),2&t){var n=b.mc().$implicit,a=b.mc(2);b.Hb(1),b.Vc(" ",a.getRecommendationLabel(n)," ")}}function K(t,e){if(1&t&&(b.ac(0,"mat-cell",22),b.Rc(1,J,2,1,"mat-basic-chip",24),b.Zb()),2&t){var n=e.$implicit;b.Hb(1),b.uc("ngIf",n.recommendation)}}function q(t,e){1&t&&b.Vb(0,"mat-header-cell")}var X=function(){return{back:"true"}};function Y(t,e){if(1&t&&(b.ac(0,"mat-cell"),b.Vb(1,"a",26),b.Zb()),2&t){var n=e.$implicit;b.Hb(1),b.uc("routerLink",n.getDetailStateURL())("state",b.zc(2,X))}}function Q(t,e){1&t&&b.Vb(0,"mat-header-row")}function $(t,e){1&t&&b.Vb(0,"mat-row")}function W(t,e){if(1&t&&(b.ac(0,"div"),b.ac(1,"h2"),b.ac(2,"span"),b.Tc(3),b.Zb(),b.Tc(4),b.Zb(),b.ac(5,"table",12),b.Yb(6,13),b.Rc(7,A,4,3,"mat-header-cell",14),b.Rc(8,N,2,1,"mat-cell",15),b.Xb(),b.Yb(9,16),b.Rc(10,B,4,3,"mat-header-cell",14),b.Rc(11,z,3,2,"mat-cell",17),b.Xb(),b.Yb(12,18),b.Rc(13,G,4,3,"mat-header-cell",14),b.Rc(14,K,2,1,"mat-cell",17),b.Xb(),b.Yb(15,19),b.Rc(16,q,1,0,"mat-header-cell",14),b.Rc(17,Y,2,3,"mat-cell",15),b.Xb(),b.Rc(18,Q,1,0,"mat-header-row",20),b.Rc(19,$,1,0,"mat-row",21),b.Zb(),b.Zb()),2&t){var n=e.$implicit,a=b.mc();b.Hb(3),b.Uc(a.getLevelDashes(n)),b.Hb(1),b.Vc(" ",n.prefixedName," "),b.Hb(1),b.uc("dataSource",a.dataSources[n.id]),b.Hb(13),b.uc("matHeaderRowDef",a.getColumnDefinition()),b.Hb(1),b.uc("matRowDefColumns",a.getColumnDefinition())}}function tt(t,e){if(1&t){var n=b.bc();b.ac(0,"h1",27),b.ac(1,"span"),b.Tc(2),b.nc(3,"translate"),b.Zb(),b.Zb(),b.ac(4,"div",28),b.ac(5,"form",29),b.ic("ngSubmit",(function(){return b.Jc(n),b.mc().save()}))("keydown",(function(t){return b.Jc(n),b.mc().onKeyDown(t)})),b.ac(6,"mat-form-field"),b.Vb(7,"input",30),b.nc(8,"translate"),b.Zb(),b.ac(9,"mat-form-field"),b.Vb(10,"input",31),b.nc(11,"translate"),b.Zb(),b.Zb(),b.Zb(),b.ac(12,"div",32),b.ac(13,"button",33),b.ic("click",(function(){return b.Jc(n),b.mc().save()})),b.ac(14,"span"),b.Tc(15),b.nc(16,"translate"),b.Zb(),b.Zb(),b.ac(17,"button",34),b.ac(18,"span"),b.Tc(19),b.nc(20,"translate"),b.Zb(),b.Zb(),b.Zb()}if(2&t){var a=b.mc();b.Hb(2),b.Wc("",b.oc(3,9,"Edit details for")," ",a.selectedCategory.prefixedName,""),b.Hb(3),b.uc("formGroup",a.editForm),b.Hb(2),b.vc("placeholder",b.oc(8,11,"Prefix")),b.Hb(3),b.vc("placeholder",b.oc(11,13,"Name")),b.Hb(3),b.uc("disabled",!a.editForm.valid),b.Hb(2),b.Uc(b.oc(16,15,"Save")),b.Hb(2),b.uc("mat-dialog-close",null),b.Hb(2),b.Uc(b.oc(20,17,"Cancel"))}}var et,nt=((et=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,o,r,i,c,s,l,u,f,b){var m;return _classCallCheck(this,n),(m=e.call(this,t,a,o)).translate=a,m.route=r,m.operator=i,m.router=c,m.repo=s,m.motionRepo=l,m.promptService=u,m.fb=f,m.dialog=b,m.dataSources={},m}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this,e=parseInt(this.route.snapshot.params.id,10);this.subscriptions.push(this.repo.getViewModelListObservable().subscribe((function(a){var o=a.findIndex((function(t){return t.id===e}));if(!(o<0)){var r;for(t.selectedCategory=a[o],_get(_getPrototypeOf(n.prototype),"setTitle",t).call(t,t.selectedCategory.prefixedName),r=o+1;r<a.length&&a[r].level>t.selectedCategory.level;r++);t.categories=a.slice(o,r),t.categories.forEach((function(e){var n=new k.o;n.data=e.motions,t.dataSources[e.id]=n}))}})))}},{key:"getColumnDefinition",value:function(){return["title","state","recommendation","anchor"]}},{key:"onDeleteButton",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to delete this category and all subcategories?"),n=this.selectedCategory.prefixedName,t.next=3,this.promptService.open(e,n);case 3:if(t.t0=t.sent,!t.t0){t.next=8;break}return t.next=7,this.repo.delete(this.selectedCategory);case 7:this.router.navigate(["../"],{relativeTo:this.route});case 8:case"end":return t.stop()}}),t,this)})))}},{key:"onKeyDown",value:function(t){"Escape"===t.key&&this.dialogRef.close(),"Enter"===t.key&&this.save()}},{key:"save",value:function(){var t=this;this.repo.update(this.editForm.value,this.selectedCategory).then((function(){return t.dialogRef.close()})).catch(this.raiseError)}},{key:"toggleEditMode",value:function(){this.editForm=this.fb.group({prefix:[this.selectedCategory.prefix],name:[this.selectedCategory.name,O.G.required]}),this.dialogRef=this.dialog.open(this.editDialog,M.a)}},{key:"getRecommendationLabel",value:function(t){return this.motionRepo.getExtendedRecommendationLabel(t)}},{key:"getStateLabel",value:function(t){return this.motionRepo.getExtendedStateLabel(t)}},{key:"getLevelDashes",value:function(t){return"\u2013".repeat(t.level-this.selectedCategory.level)}},{key:"numberMotions",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Are you sure you want to renumber all motions of this category?"),n=this.selectedCategory.getTitle(),t.next=3,this.promptService.open(e,n);case 3:if(t.t0=t.sent,!t.t0){t.next=7;break}return t.next=7,this.repo.numberMotionsInCategory(this.selectedCategory).catch(this.raiseError);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"canEdit",get:function(){return this.operator.hasPerms(P.b.motionsCanManage)}}]),n}(f.a)).\u0275fac=function(t){return new(t||et)(b.Ub(m.d),b.Ub(d.k),b.Ub(p.a),b.Ub(r.a),b.Ub(P.a),b.Ub(r.f),b.Ub(s.a),b.Ub(w.a),b.Ub(l.a),b.Ub(O.f),b.Ub(x.b))},et.\u0275cmp=b.Ob({type:et,selectors:[["os-category-detail"]],viewQuery:function(t,e){var n;1&t&&(b.Pc(E,!0),b.Pc(L,!0)),2&t&&(b.Ec(n=b.jc())&&(e.editForm=n.first),b.Ec(n=b.jc())&&(e.editDialog=n.first))},features:[b.Eb],decls:36,vars:17,consts:[[3,"nav"],[1,"title-slot"],[4,"ngIf"],[1,"menu-slot"],[4,"osPerms"],[4,"ngFor","ngForOf"],["categoryMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",1,"red-warning-text",3,"click"],["editDialog",""],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["mat-table","",1,"os-headed-listview-table",3,"dataSource"],["matColumnDef","title"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","state"],["class","chip-container",4,"matCellDef"],["matColumnDef","recommendation"],["matColumnDef","anchor"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"chip-container"],["disableRipple","",3,"ngClass"],["disableRipple","","class","bluegrey",4,"ngIf"],["disableRipple","",1,"bluegrey"],[3,"routerLink","state"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[1,"edit-form",3,"formGroup","ngSubmit","keydown"],["matInput","","osAutofocus","","formControlName","prefix",3,"placeholder"],["matInput","","osAutofocus","","formControlName","name","required","",3,"placeholder"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"disabled","click"],["type","button","mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(b.ac(0,"os-head-bar",0),b.ac(1,"div",1),b.Rc(2,F,2,1,"h2",2),b.Zb(),b.ac(3,"div",3),b.Rc(4,V,4,1,"div",4),b.Zb(),b.Zb(),b.ac(5,"mat-card"),b.Rc(6,W,20,5,"div",5),b.Zb(),b.ac(7,"mat-menu",null,6),b.ac(9,"button",7),b.ic("click",(function(){return e.toggleEditMode()})),b.ac(10,"mat-icon"),b.Tc(11,"edit"),b.Zb(),b.ac(12,"span"),b.Tc(13),b.nc(14,"translate"),b.Zb(),b.Zb(),b.ac(15,"button",8),b.ac(16,"mat-icon"),b.Tc(17,"sort"),b.Zb(),b.ac(18,"span"),b.Tc(19),b.nc(20,"translate"),b.Zb(),b.Zb(),b.ac(21,"button",7),b.ic("click",(function(){return e.numberMotions()})),b.ac(22,"mat-icon"),b.Tc(23,"format_list_numbered"),b.Zb(),b.ac(24,"span"),b.Tc(25),b.nc(26,"translate"),b.Zb(),b.Zb(),b.Vb(27,"mat-divider"),b.ac(28,"button",9),b.ic("click",(function(){return e.onDeleteButton()})),b.ac(29,"mat-icon"),b.Tc(30,"delete"),b.Zb(),b.ac(31,"span"),b.Tc(32),b.nc(33,"translate"),b.Zb(),b.Zb(),b.Zb(),b.Rc(34,tt,21,19,"ng-template",null,10,b.Sc)),2&t&&(b.uc("nav",!1),b.Hb(2),b.uc("ngIf",e.selectedCategory),b.Hb(2),b.uc("osPerms","motions.can_manage"),b.Hb(2),b.uc("ngForOf",e.categories),b.Hb(7),b.Uc(b.oc(14,9,"Edit")),b.Hb(2),b.uc("routerLink","./sort"),b.Hb(4),b.Uc(b.oc(20,11,"Sort motions")),b.Hb(6),b.Uc(b.oc(26,13,"Number motions")),b.Hb(7),b.Uc(b.oc(33,15,"Delete")))},directives:[h.a,a.t,S.a,g.a,a.s,Z.f,Z.c,R.a,r.g,H.a,T.b,Z.e,k.n,k.c,k.i,k.b,k.k,k.m,k.h,k.a,I.a,a.q,r.i,k.j,k.l,x.i,x.f,O.I,O.t,O.k,U.c,D.b,O.c,j.a,O.s,O.i,O.D,x.c,x.d],pipes:[d.j],styles:[".title-line[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.title-line[_ngcontent-%COMP%]   .icon-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{padding-right:3px}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:2}.mat-table[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{z-index:3!important}.block-title[_ngcontent-%COMP%]{padding:40px 40px 40px 25px;line-height:180%;font-size:120%;color:#317796}.block-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:400}.block-card[_ngcontent-%COMP%]{margin:0 20px;padding:25px}.block-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:5px}.chip-container[_ngcontent-%COMP%]{display:block;min-height:0}.os-headed-listview-table[_ngcontent-%COMP%]   .mat-column-title[_ngcontent-%COMP%]{-ms-flex:4 0 0px;flex:4 0 0}.os-headed-listview-table[_ngcontent-%COMP%]   .mat-column-recommendation[_ngcontent-%COMP%], .os-headed-listview-table[_ngcontent-%COMP%]   .mat-column-state[_ngcontent-%COMP%]{-ms-flex:2 0 0px;flex:2 0 0}.os-headed-listview-table[_ngcontent-%COMP%]   .mat-column-remove[_ngcontent-%COMP%]{-ms-flex:1 0 0px;flex:1 0 0;-ms-flex-pack:end!important;justify-content:flex-end!important}.edit-form[_ngcontent-%COMP%]{overflow:hidden}"]}),et),at=n("AqIO"),ot=n("wL0i"),rt=n("0Obk"),it=n("dRZP"),ct=n("Qu3c"),st=["newCategoryDialog"];function lt(t,e){if(1&t&&(b.ac(0,"div",8),b.ac(1,"button",9),b.ac(2,"mat-icon"),b.Tc(3,"more_vert"),b.Zb(),b.Zb(),b.Zb()),2&t){b.mc();var n=b.Fc(10);b.Hb(1),b.uc("matMenuTriggerFor",n)}}function ut(t,e){if(1&t&&(b.ac(0,"div",10),b.Vb(1,"a",11),b.ac(2,"div"),b.Tc(3),b.Zb(),b.Zb()),2&t){var n=e.row,a=b.mc();b.Hb(1),b.uc("routerLink",n.id),b.Hb(1),b.Qc("margin-left",a.getMargin(n)),b.Hb(1),b.Uc(n.prefixedName)}}function ft(t,e){if(1&t&&(b.ac(0,"div",10),b.ac(1,"span",12),b.nc(2,"translate"),b.Tc(3),b.Zb(),b.Zb()),2&t){var n=e.row;b.Hb(1),b.vc("matTooltip",b.oc(2,2,"Motions")),b.Hb(2),b.Uc(n.motions.length)}}function bt(t,e){1&t&&(b.ac(0,"mat-error"),b.Tc(1),b.nc(2,"translate"),b.Zb()),2&t&&(b.Hb(1),b.Vc(" ",b.oc(2,1,"A name is required")," "))}function mt(t,e){if(1&t){var n=b.bc();b.ac(0,"h1",13),b.ac(1,"span"),b.Tc(2),b.nc(3,"translate"),b.Zb(),b.Zb(),b.ac(4,"div",14),b.ac(5,"form",15),b.ic("keydown",(function(t){return b.Jc(n),b.mc().onKeyDown(t)})),b.ac(6,"p"),b.ac(7,"mat-form-field"),b.Vb(8,"input",16),b.nc(9,"translate"),b.Zb(),b.Zb(),b.ac(10,"p"),b.ac(11,"mat-form-field"),b.Vb(12,"input",17),b.nc(13,"translate"),b.Rc(14,bt,3,3,"mat-error",18),b.Zb(),b.Zb(),b.Zb(),b.Zb(),b.ac(15,"div",19),b.ac(16,"button",20),b.ac(17,"span"),b.Tc(18),b.nc(19,"translate"),b.Zb(),b.Zb(),b.ac(20,"button",21),b.ac(21,"span"),b.Tc(22),b.nc(23,"translate"),b.Zb(),b.Zb(),b.Zb()}if(2&t){var a=b.mc();b.Hb(2),b.Uc(b.oc(3,10,"New category")),b.Hb(3),b.uc("formGroup",a.createForm),b.Hb(3),b.vc("placeholder",b.oc(9,12,"Prefix")),b.Hb(4),b.vc("placeholder",b.oc(13,14,"Name")),b.Hb(2),b.uc("ngIf",!a.createForm.controls.name.valid),b.Hb(2),b.uc("disabled",!a.createForm.valid)("mat-dialog-close",!0),b.Hb(2),b.Uc(b.oc(19,16,"Save")),b.Hb(2),b.uc("mat-dialog-close",!1),b.Hb(2),b.Uc(b.oc(23,18,"Cancel"))}}var dt,pt=function(){return["menu"]},ht=((dt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,o,r,i,c,s,l){var u;return _classCallCheck(this,n),(u=e.call(this,t,a,o,r)).repo=i,u.formBuilder=c,u.dialog=s,u.operator=l,u.tableColumnDefinition=[{prop:"title",width:"auto"},{prop:"amount",width:u.singleButtonWidth}],u.filterProps=["prefixedName"],u.createForm=u.formBuilder.group({prefix:[""],name:["",O.G.required],parent_id:[""]}),u}return _createClass(n,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(n.prototype),"setTitle",this).call(this,"Categories")}},{key:"onPlusButton",value:function(){var t=this;this.createForm.reset(),this.dialogRef=this.dialog.open(this.newCategoryDialog,M.a),this.dialogRef.afterClosed().subscribe((function(e){e&&t.save()}))}},{key:"save",value:function(){this.createForm.valid&&this.repo.create(this.createForm.value).catch(this.raiseError)}},{key:"onKeyDown",value:function(t){"Enter"===t.key&&(this.save(),this.dialogRef.close()),"Escape"===t.key&&this.dialogRef.close()}},{key:"getMargin",value:function(t){return 20*t.level+"px"}},{key:"canEdit",get:function(){return this.operator.hasPerms(P.b.motionsCanManage)}}]),n}(ot.a)).\u0275fac=function(t){return new(t||dt)(b.Ub(m.d),b.Ub(d.k),b.Ub(p.a),b.Ub(at.a),b.Ub(s.a),b.Ub(O.f),b.Ub(x.b),b.Ub(P.a))},dt.\u0275cmp=b.Ob({type:dt,selectors:[["os-category-list"]],viewQuery:function(t,e){var n;1&t&&b.Pc(st,!0),2&t&&b.Ec(n=b.jc())&&(e.newCategoryDialog=n.first)},features:[b.Eb],decls:19,vars:20,consts:[["prevUrl","../..",3,"nav","hasMainButton","mainEvent"],[1,"title-slot"],["class","menu-slot",4,"osPerms"],["listStorageKey","category",3,"vScrollFixed","listObservableProvider","allowProjector","showListOfSpeakers","columns","filterProps","hiddenInMobile","dataSourceChange"],["class","cell-slot fill",4,"pblNgridCellDef"],["categoryMenu","matMenu"],["mat-menu-item","",3,"routerLink"],["newCategoryDialog",""],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[1,"cell-slot","fill"],[1,"detail-link",3,"routerLink"],[1,"os-amount-chip",3,"matTooltip"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[3,"formGroup","keydown"],["formControlName","prefix","matInput","",3,"placeholder"],["formControlName","name","matInput","","required","",3,"placeholder"],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","",3,"disabled","mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(b.ac(0,"os-head-bar",0),b.ic("mainEvent",(function(){return e.onPlusButton()})),b.ac(1,"div",1),b.ac(2,"h2"),b.Tc(3),b.nc(4,"translate"),b.Zb(),b.Zb(),b.Rc(5,lt,4,1,"div",2),b.Zb(),b.ac(6,"os-list-view-table",3),b.ic("dataSourceChange",(function(t){return e.onDataSourceChange(t)})),b.Rc(7,ut,4,4,"div",4),b.Rc(8,ft,4,4,"div",4),b.Zb(),b.ac(9,"mat-menu",null,5),b.ac(11,"button",6),b.ac(12,"mat-icon"),b.Tc(13,"sort"),b.Zb(),b.ac(14,"span"),b.Tc(15),b.nc(16,"translate"),b.Zb(),b.Zb(),b.Zb(),b.Rc(17,mt,24,20,"ng-template",null,7,b.Sc)),2&t&&(b.uc("nav",!1)("hasMainButton",e.canEdit),b.Hb(3),b.Uc(b.oc(4,15,"Categories")),b.Hb(2),b.uc("osPerms","motions.can_manage"),b.Hb(1),b.uc("vScrollFixed",64)("listObservableProvider",e.repo)("allowProjector",!1)("showListOfSpeakers",!1)("columns",e.tableColumnDefinition)("filterProps",e.filterProps)("hiddenInMobile",b.zc(19,pt)),b.Hb(1),b.uc("pblNgridCellDef","title"),b.Hb(1),b.uc("pblNgridCellDef","amount"),b.Hb(3),b.uc("routerLink","./sort"),b.Hb(4),b.Uc(b.oc(16,17,"Sort categories")))},directives:[h.a,S.a,rt.a,it.c,Z.f,Z.c,r.g,R.a,T.b,Z.e,r.i,ct.c,x.i,x.f,O.I,O.t,O.k,U.c,O.c,D.b,O.s,O.i,O.D,a.t,x.c,x.d,U.b],pipes:[d.j],styles:[".title-line[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.title-line[_ngcontent-%COMP%]   .icon-prefix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]{padding-right:3px}.mat-table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-anchor[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{position:relative}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:2}.mat-table[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]{z-index:3!important}"]}),dt),gt=n("2Vo4"),vt=n("Jc+d"),yt=n("IBZR"),Ct=["sorter"];function _t(t,e){if(1&t&&(b.ac(0,"h2"),b.Tc(1),b.nc(2,"translate"),b.Zb()),2&t){var n=b.mc();b.Hb(1),b.Wc("",b.oc(2,2,"Sort motions")," (",n.category.prefixedName,")")}}function Ot(t,e){if(1&t){var n=b.bc();b.ac(0,"div"),b.ac(1,"span"),b.Tc(2),b.Zb(),b.ac(3,"span"),b.Tc(4),b.nc(5,"translate"),b.Zb(),b.ac(6,"button",6),b.ic("click",(function(){return b.Jc(n),b.mc().moveToPosition()})),b.ac(7,"span"),b.Tc(8),b.nc(9,"translate"),b.Zb(),b.Zb(),b.Zb()}if(2&t){var a=b.mc();b.Hb(2),b.Vc("",a.sortSelector.multiSelectedIndex.length,"\xa0"),b.Hb(2),b.Uc(b.oc(5,3,"selected")),b.Hb(4),b.Uc(b.oc(9,5,"move ..."))}}function kt(t,e){if(1&t&&(b.ac(0,"mat-basic-chip",7),b.nc(1,"translate"),b.Tc(2),b.Zb()),2&t){var n=e.$implicit;b.vc("matTooltip",b.oc(1,2,"Sequential number")),b.Hb(2),b.Vc(" ",n.id," ")}}var Pt,wt,Mt,xt=[{path:"",component:ht,pathMatch:"full"},{path:":id/sort",component:(Pt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,o,r,i,c,s,l){var u;return _classCallCheck(this,n),(u=e.call(this,t,a,o)).translate=a,u.promptService=r,u.repo=i,u.route=c,u.motionRepo=s,u.choiceService=l,u.motionsSubject=new gt.a([]),u.motionsCount=0,u.hasChanged=!1,u.motionsCopy=[],u.motionsBackup=[],u}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this,e=+this.route.snapshot.params.id;this.repo.getViewModelObservable(e).subscribe((function(e){t.category=e})),this.motionRepo.getViewModelListObservable().subscribe((function(n){var a=n.filter((function(t){return t.category_id===e}));t.motionsBackup=_toConsumableArray(a),t.motionsCount=a.length,0===t.motionsCopy.length?t.initializeList(a):t.motionsSubject.next(t.handleMotionUpdates(a))}))}},{key:"initializeList",value:function(t){t.sort((function(t,e){return t.category_weight-e.category_weight})),this.motionsSubject.next(t),this.motionsCopy=t}},{key:"onListUpdate",value:function(t){this.hasChanged=!0,this.motionsCopy=t}},{key:"onCancel",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.canDeactivate();case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}this.motionsSubject.next([]),this.initializeList(this.motionsBackup),this.hasChanged=!1;case 5:case"end":return t.stop()}}),t,this)})))}},{key:"sendUpdate",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.translate.instant("Do you really want to save your changes?"),t.next=3,this.promptService.open(e);case 3:if(!t.sent){t.next=6;break}n=this.motionsCopy.map((function(t){return t.id})),this.repo.sortMotionsInCategory(this.category.category,n),this.hasChanged=!1;case 6:case"end":return t.stop()}}),t,this)})))}},{key:"handleMotionUpdates",value:function(t){var e=this.motionsCopy;if(t.length>e.length){var n,a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;this.motionsCopy.includes(o)||e.push(o)}}catch(f){a.e(f)}finally{a.f()}}else if(t.length<e.length){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var c=r.value;t.includes(c)||e.splice(e.indexOf(c),1)}}catch(f){i.e(f)}finally{i.f()}}else{var s,l=_createForOfIteratorHelper(e);try{var u=function(){var n=s.value;if(!t.includes(n)){var a=t.find((function(t){return t.id===n.id}));e.splice(e.indexOf(n),1,a)}};for(l.s();!(s=l.n()).done;)u()}catch(f){l.e(f)}finally{l.f()}}return e}},{key:"canDeactivate",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hasChanged){t.next=5;break}return e=this.translate.instant("Do you really want to exit this page?"),n=this.translate.instant("You made changes."),t.next=4,this.promptService.open(e,n);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"moveToPosition",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,a,o,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.sortSelector.multiSelectedIndex.length){t.next=8;break}return e=this.translate.instant("Move selected items ..."),n=this.sortSelector.sortedItems.filter((function(t){return!r.sortSelector.multiSelectedIndex.includes(t.id)})),a=[this.translate.instant("Insert before"),this.translate.instant("Insert behind")],t.next=6,this.choiceService.open(e,n,!1,a);case 6:(o=t.sent)&&this.sortSelector.drop({currentIndex:o.items,previousIndex:null},o.action===a[1]);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"isMultiSelect",get:function(){return this.sortSelector.multiSelectedIndex.length>0}},{key:"motionObservable",get:function(){return this.motionsSubject.asObservable()}}]),n}(f.a),Pt.\u0275fac=function(t){return new(t||Pt)(b.Ub(m.d),b.Ub(d.k),b.Ub(p.a),b.Ub(l.a),b.Ub(s.a),b.Ub(r.a),b.Ub(w.a),b.Ub(vt.a))},Pt.\u0275cmp=b.Ob({type:Pt,selectors:[["os-category-motions-sort"]],viewQuery:function(t,e){var n;1&t&&b.Pc(Ct,!0),2&t&&b.Ec(n=b.jc())&&(e.sortSelector=n.first)},features:[b.Eb],decls:8,vars:5,consts:[[3,"editMode","nav","saveEvent","mainEvent"],[1,"title-slot"],[4,"ngIf"],[1,"os-form-card"],[3,"input","sortEvent"],["sorter",""],["mat-button","",3,"click"],["disableRipple","",1,"bluegrey",3,"matTooltip"]],template:function(t,e){1&t&&(b.ac(0,"os-head-bar",0),b.ic("saveEvent",(function(){return e.sendUpdate()}))("mainEvent",(function(){return e.onCancel()})),b.ac(1,"div",1),b.Rc(2,_t,3,4,"h2",2),b.Zb(),b.Zb(),b.ac(3,"mat-card",3),b.Rc(4,Ot,10,7,"div",2),b.ac(5,"os-sorting-list",4,5),b.ic("sortEvent",(function(t){return e.onListUpdate(t)})),b.Rc(7,kt,3,4,"ng-template"),b.Zb(),b.Zb()),2&t&&(b.uc("editMode",e.hasChanged)("nav",!1),b.Hb(2),b.uc("ngIf",e.category),b.Hb(2),b.uc("ngIf",e.isMultiSelect),b.Hb(1),b.uc("input",e.motionObservable))},directives:[h.a,a.t,g.a,yt.a,T.b,I.a,ct.c],pipes:[d.j],styles:[""]}),Pt),canDeactivate:[i.a]},{path:"sort",component:_,canDeactivate:[i.a]},{path:":id",component:nt}],St=((Mt=function t(){_classCallCheck(this,t)}).\u0275mod=b.Sb({type:Mt}),Mt.\u0275inj=b.Rb({factory:function(t){return new(t||Mt)},imports:[[r.j.forChild(xt)],r.j]}),Mt),Zt=((wt=function t(){_classCallCheck(this,t)}).\u0275mod=b.Sb({type:wt}),wt.\u0275inj=b.Rb({factory:function(t){return new(t||wt)},imports:[[a.c,St,o.a]]}),wt)},F48D:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("mrSG"),o=n("LBBb"),r=n("fXoL"),i=n("0IaG"),c=function(){var t=function(){function t(e){_classCallCheck(this,t),this.dialog=e}return _createClass(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.dialog.open(o.a,{width:"250px",data:{title:t,content:e}}).afterClosed().toPromise());case 1:case"end":return n.stop()}}),n,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.ec(i.b))},t.\u0275prov=r.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"Jc+d":function(t,e,n){"use strict";n.d(e,"a",(function(){return k}));var a=n("mrSG"),o=n("Izkr"),r=n("0IaG"),i=n("fXoL"),c=n("3Pt+"),s=n("ofXK"),l=n("bTqV"),u=n("oqD5"),f=n("sYmb");function b(t,e){if(1&t&&(i.ac(0,"h2",2),i.Tc(1),i.nc(2,"translate"),i.Zb()),2&t){var n=i.mc();i.Hb(1),i.Uc(i.oc(2,1,n.data.title))}}function m(t,e){if(1&t&&(i.ac(0,"div",9),i.Vb(1,"os-search-value-selector",10),i.Zb()),2&t){var n=i.mc(2);i.Hb(1),i.uc("multiple",n.data.multiSelect)("formControl",n.selectForm.get("select"))("inputListValues",n.data.choices)}}function d(t,e){if(1&t){var n=i.bc();i.ac(0,"button",12),i.ic("click",(function(){i.Jc(n);var t=e.$implicit;return i.mc(3).closeDialog(!0,t)})),i.ac(1,"span"),i.Tc(2),i.nc(3,"translate"),i.Zb(),i.Zb()}if(2&t){var a=e.$implicit,o=i.mc(3);i.uc("disabled",!o.hasSelection),i.Hb(2),i.Uc(i.oc(3,2,a))}}function p(t,e){if(1&t&&(i.ac(0,"div"),i.Rc(1,d,4,4,"button",11),i.Zb()),2&t){var n=i.mc(2);i.Hb(1),i.uc("ngForOf",n.data.actionButtons)}}function h(t,e){if(1&t){var n=i.bc();i.ac(0,"button",12),i.ic("click",(function(){return i.Jc(n),i.mc(3).closeDialog(!0)})),i.ac(1,"span"),i.Tc(2,"OK"),i.Zb(),i.Zb()}if(2&t){var a=i.mc(3);i.uc("disabled",!a.hasSelection)}}function g(t,e){if(1&t&&(i.ac(0,"div"),i.Rc(1,h,3,1,"button",13),i.Zb()),2&t){var n=i.mc(2);i.Hb(1),i.uc("ngIf",!n.data.multiSelect||n.data.choices)}}function v(t,e){if(1&t){var n=i.bc();i.ac(0,"button",8),i.ic("click",(function(){i.Jc(n);var t=i.mc(2);return t.closeDialog(!0,t.data.clearChoice)})),i.ac(1,"span"),i.Tc(2),i.Zb(),i.Zb()}if(2&t){var a=i.mc(2);i.Hb(2),i.Uc(a.data.clearChoice)}}function y(t,e){if(1&t){var n=i.bc();i.ac(0,"form",3),i.Rc(1,m,2,3,"div",4),i.ac(2,"div",5),i.Rc(3,p,2,1,"div",6),i.Rc(4,g,2,1,"div",6),i.Rc(5,v,3,1,"button",7),i.ac(6,"button",8),i.ic("click",(function(){return i.Jc(n),i.mc().closeDialog(!1)})),i.ac(7,"span"),i.Tc(8),i.nc(9,"translate"),i.Zb(),i.Zb(),i.Zb(),i.Zb()}if(2&t){var a=i.mc();i.uc("formGroup",a.selectForm),i.Hb(1),i.uc("ngIf",a.data.choices),i.Hb(2),i.uc("ngIf",a.data.actionButtons),i.Hb(1),i.uc("ngIf",!a.data.actionButtons),i.Hb(1),i.uc("ngIf",a.data.clearChoice),i.Hb(3),i.Uc(i.oc(9,6,"Cancel"))}}var C,_,O=((_=function(){function t(e,n,a){_classCallCheck(this,t),this.dialogRef=e,this.formBuilder=n,this.data=a,this.selectedMultiChoices=[],this.selectForm=this.formBuilder.group({select:[]})}return _createClass(t,[{key:"closeDialog",value:function(t,e){this.data.multiSelect||null!==this.selectedChoice||(e=this.data.clearChoice),t?this.dialogRef.close({action:e||null,items:this.selectForm.get("select").value}):this.dialogRef.close()}},{key:"hasSelection",get:function(){return!(this.data&&this.data.choices&&(!this.selectForm.get("select").value||!this.selectForm.get("select").value&&!this.selectForm.get("select").value.length))}}]),t}()).\u0275fac=function(t){return new(t||_)(i.Ub(r.h),i.Ub(c.f),i.Ub(r.a))},_.\u0275cmp=i.Ob({type:_,selectors:[["os-choice-dialog"]],decls:2,vars:2,consts:[["mat-dialog-title","",4,"ngIf"],[3,"formGroup",4,"ngIf"],["mat-dialog-title",""],[3,"formGroup"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],[4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["mat-dialog-content",""],["ngDefaultControl","",3,"multiple","formControl","inputListValues"],["mat-button","",3,"disabled","click",4,"ngFor","ngForOf"],["mat-button","",3,"disabled","click"],["mat-button","",3,"disabled","click",4,"ngIf"]],template:function(t,e){1&t&&(i.Rc(0,b,3,3,"h2",0),i.Rc(1,y,10,8,"form",1)),2&t&&(i.uc("ngIf",e.data),i.Hb(1),i.uc("ngIf",e.data))},directives:[s.t,r.i,c.I,c.t,c.k,r.c,l.b,r.f,u.a,c.c,c.s,c.h,s.s],pipes:[f.j],styles:[".mat-form-field{width:100%}"],encapsulation:2}),_),k=((C=function(){function t(e){_classCallCheck(this,t),this.dialog=e}return _createClass(t,[{key:"open",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.dialog.open(O,Object.assign(Object.assign({},o.a),{data:{title:t,choices:e,multiSelect:n,actionButtons:r,clearChoice:i}})).afterClosed().toPromise());case 1:case"end":return a.stop()}}),a,this)})))}}]),t}()).\u0275fac=function(t){return new(t||C)(i.ec(r.b))},C.\u0275prov=i.Qb({token:C,factory:C.\u0275fac,providedIn:"root"}),C)},LBBb:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("0IaG"),o=n("fXoL"),r=n("ofXK"),i=n("bTqV"),c=n("sYmb");function s(t,e){if(1&t&&(o.ac(0,"div"),o.ac(1,"h2",1),o.Tc(2),o.Zb(),o.Vb(3,"mat-dialog-content",2),o.ac(4,"mat-dialog-actions"),o.ac(5,"button",3),o.Tc(6),o.nc(7,"translate"),o.Zb(),o.ac(8,"button",4),o.Tc(9),o.nc(10,"translate"),o.Zb(),o.Zb(),o.Zb()),2&t){var n=o.mc();o.Hb(2),o.Uc(n.data.title),o.Hb(1),o.uc("innerHTML",n.data.content,o.Kc),o.Hb(2),o.uc("mat-dialog-close",!0),o.Hb(1),o.Uc(o.oc(7,6,"Yes")),o.Hb(2),o.uc("mat-dialog-close",!1),o.Hb(1),o.Uc(o.oc(10,8,"Cancel"))}}var l=function(){var t=function t(e,n){_classCallCheck(this,t),this.dialogRef=e,this.data=n};return t.\u0275fac=function(e){return new(e||t)(o.Ub(a.h),o.Ub(a.a))},t.\u0275cmp=o.Ob({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&o.Rc(0,s,11,10,"div",0),2&t&&o.uc("ngIf",e.data)},directives:[r.t,a.i,a.f,a.c,i.b,a.d],pipes:[c.j],encapsulation:2}),t}()},wL0i:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,o,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,a,o)).storage=r,i.canMultiSelect=!1,i._multiSelectMode=!1,i.singleButtonWidth="40px",i.badgeButtonWidth="45px",i.selectedRows=[],i}return _createClass(n,[{key:"onDataSourceChange",value:function(t){this.dataSource=t}},{key:"toggleMultiSelect",value:function(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}},{key:"selectAll",value:function(){var t;(t=this.dataSource.selection).select.apply(t,_toConsumableArray(this.dataSource.filteredData))}},{key:"deselectAll",value:function(){this.dataSource&&this.dataSource.selection.clear()}},{key:"isMultiSelect",get:function(){return this._multiSelectMode}}]),n}(n("mV3u").a)}}]);