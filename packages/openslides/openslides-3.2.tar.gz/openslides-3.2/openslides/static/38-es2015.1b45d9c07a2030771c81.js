(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{bVYn:function(t,e,i){"use strict";i.r(e),i.d(e,"PollsModule",(function(){return U}));var n=i("ofXK"),l=i("tyNb"),o=i("AqIO"),c=i("M0z7"),s=i("wL0i"),a=i("D/ll"),r=i("+8Rz"),u=i("qnZ9"),b=i("fXoL"),d=i("sYmb");let p=(()=>{class t extends r.a{constructor(t,e,i){super(t,e),this.translate=i,this.storageKey="PollList"}preFilter(t){return t.filter(t=>!t.isAnalog)}getFilterDefinitions(){return[{property:"state",label:this.translate.instant("State"),options:[{condition:u.e.Created,label:this.translate.instant("created")},{condition:u.e.Started,label:this.translate.instant("started")},{condition:u.e.Finished,label:this.translate.instant("finished (unpublished)")},{condition:u.e.Published,label:this.translate.instant("published")}]},{property:"hasVote",label:this.translate.instant("Votings"),options:[{condition:!1,label:this.translate.instant("Voting is currently in progress.")},{condition:!0,label:this.translate.instant("You have already voted.")}]}]}}return t.\u0275fac=function(e){return new(e||t)(b.ec(o.a),b.ec(a.a),b.ec(d.k))},t.\u0275prov=b.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=i("PoOO"),h=i("jhN1"),v=i("dNgK"),g=i("mksl"),m=i("0Obk"),S=i("dRZP"),w=i("NFeN"),y=i("Qu3c");function k(t,e){if(1&t&&b.Vb(0,"a",5),2&t){const t=b.mc().row;b.uc("routerLink",t.parentLink)}}function T(t,e){if(1&t&&(b.ac(0,"div",3),b.Rc(1,k,1,1,"a",4),b.ac(2,"span"),b.Tc(3),b.Zb(),b.Zb()),2&t){const t=e.row,i=b.mc();b.Hb(1),b.uc("ngIf",!i.isMultiSelect),b.Hb(2),b.Uc(t.title)}}function L(t,e){if(1&t&&b.Vb(0,"a",5),2&t){const t=b.mc().row;b.uc("routerLink",t.parentLink)}}function M(t,e){if(1&t&&(b.ac(0,"div",3),b.Rc(1,L,1,1,"a",4),b.ac(2,"span"),b.Tc(3),b.Zb(),b.Zb()),2&t){const t=e.row,i=b.mc();b.Hb(1),b.uc("ngIf",!i.isMultiSelect),b.Hb(2),b.Uc(t.getContentObject().getListTitle())}}function H(t,e){if(1&t&&b.Vb(0,"a",5),2&t){const t=b.mc().row;b.uc("routerLink",t.parentLink)}}function R(t,e){if(1&t&&(b.ac(0,"div",3),b.Rc(1,H,1,1,"a",4),b.ac(2,"span"),b.Tc(3),b.nc(4,"translate"),b.Zb(),b.Zb()),2&t){const t=e.row,i=b.mc();b.Hb(1),b.uc("ngIf",!i.isMultiSelect),b.Hb(2),b.Uc(b.oc(4,2,t.stateVerbose))}}function Z(t,e){1&t&&(b.ac(0,"mat-icon",8),b.nc(1,"translate"),b.Tc(2," check_circle "),b.Zb()),2&t&&b.vc("matTooltip",b.oc(1,1,"You have already voted."))}function V(t,e){1&t&&(b.ac(0,"mat-icon",9),b.nc(1,"translate"),b.Tc(2," warning "),b.Zb()),2&t&&b.vc("matTooltip",b.oc(1,1,"Voting is currently in progress."))}function C(t,e){if(1&t&&(b.ac(0,"div",3),b.Rc(1,Z,3,3,"mat-icon",6),b.Rc(2,V,3,3,"mat-icon",7),b.Zb()),2&t){const t=e.row;b.Hb(1),b.uc("ngIf",t.hasVote),b.Hb(1),b.uc("ngIf",!t.hasVote&&null!==t.hasVote)}}const P=[{path:"",component:(()=>{class t extends s.a{constructor(t,e,i,n,l,o,c){super(l,o,c,n),this.polls=t,this.filterService=e,this.votingService=i,this.storage=n,this.tableColumnDefinition=[{prop:"title",width:"auto"},{prop:"classType",width:"auto"},{prop:"state",width:"auto"},{prop:"votability",width:"25px"}],this.filterProps=["title","state"],super.setTitle("List of electronic votes")}}return t.\u0275fac=function(e){return new(e||t)(b.Ub(f.a),b.Ub(p),b.Ub(c.b),b.Ub(o.a),b.Ub(h.d),b.Ub(d.k),b.Ub(v.a))},t.\u0275cmp=b.Ob({type:t,selectors:[["os-poll-list"]],features:[b.Eb],decls:9,vars:12,consts:[[1,"title-slot"],["listStorageKey","polls",3,"listObservableProvider","vScrollFixed","columns","filterProps","filterService"],["class","cell-slot fill",4,"pblNgridCellDef"],[1,"cell-slot","fill"],["class","detail-link",3,"routerLink",4,"ngIf"],[1,"detail-link",3,"routerLink"],["color","accent",3,"matTooltip",4,"ngIf"],["color","warn",3,"matTooltip",4,"ngIf"],["color","accent",3,"matTooltip"],["color","warn",3,"matTooltip"]],template:function(t,e){1&t&&(b.ac(0,"os-head-bar"),b.ac(1,"div",0),b.Tc(2),b.nc(3,"translate"),b.Zb(),b.Zb(),b.ac(4,"os-list-view-table",1),b.Rc(5,T,4,2,"div",2),b.Rc(6,M,4,2,"div",2),b.Rc(7,R,5,4,"div",2),b.Rc(8,C,3,2,"div",2),b.Zb()),2&t&&(b.Hb(2),b.Uc(b.oc(3,10,"List of electronic votes")),b.Hb(2),b.uc("listObservableProvider",e.polls)("vScrollFixed",64)("columns",e.tableColumnDefinition)("filterProps",e.filterProps)("filterService",e.filterService),b.Hb(1),b.uc("pblNgridCellDef","title"),b.Hb(1),b.uc("pblNgridCellDef","classType"),b.Hb(1),b.uc("pblNgridCellDef","state"),b.Hb(1),b.uc("pblNgridCellDef","votability"))},directives:[g.a,m.a,S.c,n.t,l.i,w.a,y.c],pipes:[d.j],styles:[""]}),t})(),pathMatch:"full"}];let D=(()=>{class t{}return t.\u0275mod=b.Sb({type:t}),t.\u0275inj=b.Rb({factory:function(e){return new(e||t)},imports:[[l.j.forChild(P)],l.j]}),t})();var N=i("PCNd");let U=(()=>{class t{}return t.\u0275mod=b.Sb({type:t}),t.\u0275inj=b.Rb({factory:function(e){return new(e||t)},imports:[[n.c,D,N.a]]}),t})()},wL0i:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("mV3u");class l extends n.a{constructor(t,e,i,n){super(t,e,i),this.storage=n,this.canMultiSelect=!1,this._multiSelectMode=!1,this.singleButtonWidth="40px",this.badgeButtonWidth="45px",this.selectedRows=[]}onDataSourceChange(t){this.dataSource=t}toggleMultiSelect(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}selectAll(){this.dataSource.selection.select(...this.dataSource.filteredData)}deselectAll(){this.dataSource&&this.dataSource.selection.clear()}get isMultiSelect(){return this._multiSelectMode}}}}]);