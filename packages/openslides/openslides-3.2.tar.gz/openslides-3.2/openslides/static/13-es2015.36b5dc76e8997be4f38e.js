(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"9st3":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o("Ri39");var n=o("fXoL");let i=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Pb({type:e,inputs:{data:"data",projector:"projector"}}),e})()},ELcd:function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var n=o("h9Sk"),i=o("fXoL");let s=(()=>{class e{constructor(e){this.element=e}ngOnInit(){new n.ResizeSensor(this.element.nativeElement,e=>this.onSizeChanged()),this.onSizeChanged()}onSizeChanged(){const e=this.element.nativeElement.clientWidth,t=this.element.nativeElement.clientHeight;e===this.oldWidth&&t===this.oldHeight||(this.oldWidth=e,this.oldHeight=t,this.osResized&&this.osResized.next())}}return e.\u0275fac=function(t){return new(t||e)(i.Ub(i.m))},e.\u0275dir=i.Pb({type:e,selectors:[["","osResized",""]],inputs:{osResized:"osResized"}}),e})()},PAIG:function(e,t,o){"use strict";o.d(t,"a",(function(){return R}));var n=o("XNiG"),i=o("w7eE"),s=o("fRtx"),r=o("iVKA"),c=o("3moa"),a=o("+KbT"),l=(o("Ri39"),o("fXoL")),h=o("jhN1"),d=o("sYmb"),p=o("ELcd"),g=o("ofXK"),u=o("NFeN"),f=o("hxkd");const b=["container"];function j(e,t){1&e&&(l.ac(0,"div",7),l.ac(1,"mat-icon"),l.Tc(2," fiber_manual_record "),l.Zb(),l.Zb())}function m(e,t){if(1&e&&l.Vb(0,"img",11),2&e){const e=l.mc(2);l.vc("src",e.projectorLogo,l.Lc)}}function v(e,t){if(1&e&&l.Vb(0,"div",15),2&e){const e=l.mc(3);l.uc("ngClass",e.eventDescription?"":"titleonly")("innerHTML",e.eventName,l.Kc)}}function C(e,t){if(1&e&&l.Vb(0,"div",16),2&e){const e=l.mc(3);l.uc("innerHTML",e.eventDescription,l.Kc)}}function _(e,t){if(1&e&&(l.ac(0,"div",12),l.Rc(1,v,1,2,"div",13),l.Rc(2,C,1,1,"div",14),l.Zb()),2&e){const e=l.mc(2);l.Hb(1),l.uc("ngIf",e.eventName),l.Hb(1),l.uc("ngIf",e.eventDescription)}}function S(e,t){if(1&e&&(l.ac(0,"div",8),l.Rc(1,m,1,1,"img",9),l.Rc(2,_,3,2,"div",10),l.Zb()),2&e){const e=l.mc();l.Hb(1),l.uc("ngIf",e.projector.show_logo&&e.projectorLogo),l.Hb(1),l.uc("ngIf",e.projector.show_title)}}function P(e,t){if(1&e&&(l.ac(0,"div"),l.Vb(1,"os-slide-container",17),l.Zb()),2&e){const e=t.$implicit,o=l.mc();l.Hb(1),l.uc("slideData",e)("scroll",o.scroll)("scale",o.scale)("projector",o.projector)}}function O(e,t){if(1&e&&(l.ac(0,"span"),l.Tc(1),l.Zb()),2&e){const e=l.mc(2);l.Hb(1),l.Vc(" ",e.eventDate," ")}}function M(e,t){1&e&&(l.ac(0,"span"),l.Tc(1," | "),l.Zb())}function x(e,t){if(1&e&&(l.ac(0,"span"),l.Tc(1),l.Zb()),2&e){const e=l.mc(2);l.Hb(1),l.Vc(" ",e.eventLocation," ")}}function w(e,t){if(1&e&&(l.ac(0,"div",18),l.ac(1,"div",19),l.Rc(2,O,2,1,"span",20),l.Rc(3,M,2,0,"span",20),l.Rc(4,x,2,1,"span",20),l.Zb(),l.Zb()),2&e){const e=l.mc();l.Hb(2),l.uc("ngIf",e.eventDate),l.Hb(1),l.uc("ngIf",e.eventDate&&e.eventLocation),l.Hb(1),l.uc("ngIf",e.eventLocation)}}let R=(()=>{class e extends i.a{constructor(e,t,o,i,s,r,c){super(e,t),this.projectorDataService=o,this.projectorRepository=i,this.configService=s,this.offlineService=r,this.elementRef=c,this.projectorId=null,this.currentProjectorSize={width:0,height:0},this.css={container:{height:"0px"},projector:{transform:"none",width:"0px",height:"0px",color:"black",backgroundColor:"white",H1Color:"#317796"},headerFooter:{color:"white",backgroundColor:"#317796",backgroundImage:"none"}},this.slides=[],this.scroll=0,this.scale=0,this.isOffline=!1,this.resizeSubject=new n.a,this.enableHeaderAndFooter=!0,this.enableTitle=!0,this.projectorClass="projector-"+Math.random().toString(36).substring(4),this.elementRef.nativeElement.classList.add(this.projectorClass),this.styleElement=document.createElement("style"),this.styleElement.appendChild(document.createTextNode("")),document.head.appendChild(this.styleElement),this.configService.get("logo_projector_main").subscribe(e=>{this.projectorLogo=e&&e.path?e.path:""}),this.configService.get("logo_projector_header").subscribe(e=>{this.css.headerFooter.backgroundImage=e&&e.path?"url('"+e.path+"')":"none",this.updateCSS()}),this.configService.get("general_event_name").subscribe(e=>this.eventName=e),this.configService.get("general_event_description").subscribe(e=>this.eventDescription=e),this.configService.get("general_event_date").subscribe(e=>this.eventDate=e),this.configService.get("general_event_location").subscribe(e=>this.eventLocation=e),this.resizeSubject.subscribe(()=>{this.containerElement&&this.updateScaling()}),this.offlineSubscription=this.offlineService.isOffline().subscribe(e=>this.isOffline=e)}set projector(e){this._projector=e,this.setProjector(e.projector)}get projector(){return this._projector}setProjector(e){const t=e?e.id:null;if(this.projectorId!==t&&(this.projectorIdChanged(this.projectorId,t),this.projectorId=t),e){const t=Object.assign({},this.currentProjectorSize);this.currentProjectorSize.height=e.height,this.currentProjectorSize.width=e.width,t.height===this.currentProjectorSize.height&&t.width===this.currentProjectorSize.width||this.updateScaling(),this.css.projector.color=e.color,this.css.projector.backgroundColor=e.background_color,this.css.projector.H1Color=e.header_h1_color,this.css.headerFooter.color=e.header_font_color,this.css.headerFooter.backgroundColor=e.header_background_color,this.updateCSS()}}updateScaling(){if(!this.containerElement||0===this.currentProjectorSize.width||0===this.containerElement.nativeElement.offsetWidth)return;const e=this.containerElement.nativeElement.offsetWidth/this.currentProjectorSize.width;isNaN(e)||(this.css.projector.transform="scale("+e+")",this.css.projector.width=this.currentProjectorSize.width+"px",this.css.projector.height=this.currentProjectorSize.height+"px",this.css.container.height=Math.round(e*this.currentProjectorSize.height)+"px",this.updateCSS())}updateCSS(){this.styleElement&&(this.styleElement.innerHTML=`\n            .${this.projectorClass} .projector-container {\n                height: ${this.css.container.height};\n            }\n            .${this.projectorClass} .projector {\n                transform: ${this.css.projector.transform};\n                width: ${this.css.projector.width};\n                height: ${this.css.projector.height};\n                background-color: ${this.css.projector.backgroundColor};\n                color: ${this.css.projector.color};\n            }\n            .${this.projectorClass} .projector h1 {\n                color: ${this.css.projector.H1Color};\n            }\n            .${this.projectorClass} .headerFooter {\n                color: ${this.css.headerFooter.color};\n                background-color: ${this.css.headerFooter.backgroundColor};\n                background-image: ${this.css.headerFooter.backgroundImage};\n            }`)}projectorIdChanged(e,t){this.dataSubscription&&this.dataSubscription.unsubscribe(),this.projectorSubscription&&this.projectorSubscription.unsubscribe(),t>0?(e>0&&this.projectorDataService.projectorClosed(e),this.dataSubscription=this.projectorDataService.getProjectorObservable(t).subscribe(e=>{this.slides=e||[]}),this.projectorSubscription=this.projectorRepository.getViewModelObservable(t).subscribe(e=>{e&&(this.scroll=e.scroll||0,this.scale=e.scale||0)})):!t&&e>0&&this.projectorDataService.projectorClosed(e)}ngOnDestroy(){this.projectorId>0&&this.projectorDataService.projectorClosed(this.projectorId),document.head.removeChild(this.styleElement),this.styleElement=null,this.offlineSubscription&&(this.offlineSubscription.unsubscribe(),this.offlineSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(h.d),l.Ub(d.k),l.Ub(r.a),l.Ub(c.a),l.Ub(a.a),l.Ub(s.a),l.Ub(l.m))},e.\u0275cmp=l.Ob({type:e,selectors:[["os-projector"]],viewQuery:function(e,t){var o;1&e&&l.Pc(b,!0),2&e&&l.Ec(o=l.jc())&&(t.containerElement=o.first)},inputs:{projector:"projector"},features:[l.Eb],decls:7,vars:5,consts:[["id","container",1,"projector-container",3,"osResized"],["container",""],["id","projector",1,"projector"],["id","offline-indicator",4,"ngIf"],["id","header","class","headerFooter",4,"ngIf"],[4,"ngFor","ngForOf"],["id","footer","class","headerFooter",4,"ngIf"],["id","offline-indicator"],["id","header",1,"headerFooter"],["class","projector-logo-main",3,"src",4,"ngIf"],["id","eventdata",4,"ngIf"],[1,"projector-logo-main",3,"src"],["id","eventdata"],["class","event-name",3,"ngClass","innerHTML",4,"ngIf"],["class","event-description",3,"innerHTML",4,"ngIf"],[1,"event-name",3,"ngClass","innerHTML"],[1,"event-description",3,"innerHTML"],[3,"slideData","scroll","scale","projector"],["id","footer",1,"headerFooter"],[1,"footertext"],[4,"ngIf"]],template:function(e,t){1&e&&(l.ac(0,"div",0,1),l.ac(2,"div",2),l.Rc(3,j,3,0,"div",3),l.Rc(4,S,3,2,"div",4),l.Rc(5,P,2,4,"div",5),l.Rc(6,w,5,3,"div",6),l.Zb(),l.Zb()),2&e&&(l.uc("osResized",t.resizeSubject),l.Hb(3),l.uc("ngIf",t.isOffline),l.Hb(1),l.uc("ngIf",t.projector&&t.projector.show_header_footer),l.Hb(1),l.uc("ngForOf",t.slides),l.Hb(1),l.uc("ngIf",t.projector&&t.projector.show_header_footer))},directives:[p.a,g.t,g.s,u.a,g.q,f.a],styles:["#container[_ngcontent-%COMP%]{background-color:#fafad2;position:relative}#container[_ngcontent-%COMP%]   #offline-indicator[_ngcontent-%COMP%]{top:0!important;right:0;color:#000;opacity:.3;position:absolute;z-index:100}#container[_ngcontent-%COMP%]   #offline-indicator[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:8pt;vertical-align:top;text-align:right}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]{position:absolute;top:0;left:0;-ms-transform-origin:left top;transform-origin:left top;overflow:hidden;font-size:22px!important;line-height:24px!important}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:70px;box-shadow:0 0 7px rgba(0,0,0,.6);background-repeat:no-repeat;background-size:100% 100%;margin-bottom:20px;z-index:9}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   .projector-logo-main[_ngcontent-%COMP%]{height:50px;padding-left:50px;padding-top:10px;float:left;display:-ms-flexbox;display:flex}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   #eventdata[_ngcontent-%COMP%]{padding-left:50px;padding-top:12px;height:50px;overflow:hidden;line-height:1.1}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   #eventdata[_ngcontent-%COMP%]   .event-name[_ngcontent-%COMP%]{font-size:26px;font-weight:400}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   #eventdata[_ngcontent-%COMP%]   .event-name.titleonly[_ngcontent-%COMP%]{padding-top:12px}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   #eventdata[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]{font-size:18px;opacity:.8}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #footer[_ngcontent-%COMP%]{position:fixed;width:100%;height:35px;bottom:0;z-index:9}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #footer[_ngcontent-%COMP%]   .footertext[_ngcontent-%COMP%]{font-size:16px;padding-left:50px;padding-right:50px;padding-top:5px;overflow:hidden;text-align:right}#container[_ngcontent-%COMP%]   #projector[_ngcontent-%COMP%]   #footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.8}"]}),e})()},hxkd:function(e,t,o){"use strict";o.d(t,"a",(function(){return g}));var n=o("fXoL"),i=o("w7eE");function s(e){return!!e&&void 0!==e.scroll&&void 0!==e.scale}o("Ri39"),o("9st3");var r=o("0QsF"),c=o("jhN1"),a=o("sYmb"),l=o("ofXK");const h=["slide"],d=function(e){return{content:e}};function p(e){return void 0!==e.error}let g=(()=>{class e extends i.a{constructor(e,t,o){super(e,t),this.slideManager=o,this.slideOptions={scaleable:!1,scrollable:!1},this.slideStyle={"font-size":"100%","margin-top":"50px"}}get slideIsAutonomic(){return!!this.slideRef&&!!this.slideRef.instance&&s(this.slideRef.instance)}set slideData(e){if(!e||p(e)||e.data&&p(e.data)){let t;return this.slide&&this.slide.clear(),p(e)?t=e.error:e.data&&p(e.data)&&(t=e.data.error),void(t&&console.error(t))}this._slideData=e,this.previousSlideName!==e.element.name?(this.slideChanged(e.element),this.previousSlideName=e.element.name):this.setDataForComponent()}get slideData(){return this._slideData}set projector(e){this._projector=e,this.setProjectorForComponent(),this.updateScroll(),this.updateScale()}get projector(){return this._projector}set scroll(e){this._scroll=e,this.updateScroll()}get scroll(){return this._scroll}set scale(e){this._scale=e,this.updateScale()}get scale(){return this._scale}updateScroll(){if(this.slideOptions.scrollable&&!this.slideIsAutonomic){let e=this.scroll;e*=-100,this.projector&&this.projector.show_header_footer&&(e+=50),this.slideStyle["margin-top"]=e+"px"}else this.slideStyle["margin-top"]="0px",this.slideIsAutonomic&&s(this.slideRef.instance)&&(this.slideRef.instance.scroll=this.scroll)}updateScale(){if(this.slideOptions.scaleable&&!this.slideIsAutonomic){let e=this.scale;e*=10,e+=100,this.slideStyle["font-size"]=e+"%"}else this.slideStyle["font-size"]="100%",this.slideIsAutonomic&&s(this.slideRef.instance)&&(this.slideRef.instance.scale=this.scale)}slideChanged(e){const t=this.slideManager.getSlideConfiguration(e.name);this.slideOptions.scaleable="boolean"==typeof t.scaleable?t.scaleable:t.scaleable(e),this.slideOptions.scrollable="boolean"==typeof t.scrollable?t.scrollable:t.scrollable(e),this.slideManager.getSlideFactory(e.name).then(e=>{this.slide.clear(),this.slideRef=this.slide.createComponent(e),this.setDataForComponent(),this.setProjectorForComponent(),this.updateScale(),this.updateScroll()})}setDataForComponent(){this.slideRef&&this.slideRef.instance&&(this.slideRef.instance.data=this.slideData)}setProjectorForComponent(){this.slideRef&&this.slideRef.instance&&(this.slideRef.instance.projector=this.projector)}}return e.\u0275fac=function(t){return new(t||e)(n.Ub(c.d),n.Ub(a.k),n.Ub(r.a))},e.\u0275cmp=n.Ob({type:e,selectors:[["os-slide-container"]],viewQuery:function(e,t){var o;1&e&&n.Pc(h,!0,n.T),2&e&&n.Ec(o=n.jc())&&(t.slide=o.first)},inputs:{slideData:"slideData",projector:"projector",scroll:"scroll",scale:"scale"},features:[n.Eb],decls:3,vars:4,consts:[["id","slide",3,"ngClass","ngStyle"],["slide",""]],template:function(e,t){1&e&&(n.ac(0,"div",0),n.Wb(1,null,1),n.Zb()),2&e&&n.uc("ngClass",n.Ac(2,d,t.slideOptions.scaleable||t.slideOptions.scrollable))("ngStyle",t.slideStyle)},directives:[l.q,l.w],styles:["#slide[_ngcontent-%COMP%]{width:100%}#slide.content[_ngcontent-%COMP%]{width:calc(100% - 100px);position:absolute;left:50px;top:40px;line-height:1.5}#slide[_ngcontent-%COMP%]{height:100%}"]}),e})()}}]);