(window.webpackJsonp=window.webpackJsonp||[]).push([[25,36],{F48D:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var c=a("mrSG"),n=a("LBBb"),o=a("fXoL"),i=a("0IaG");let r=(()=>{class t{constructor(t){this.dialog=t}open(t,e=""){return Object(c.a)(this,void 0,void 0,(function*(){return this.dialog.open(n.a,{width:"250px",data:{title:t,content:e}}).afterClosed().toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(o.ec(i.b))},t.\u0275prov=o.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Iab2:function(t,e,a){var c,n;void 0===(n="function"==typeof(c=function(){"use strict";function e(t,e,a){var c=new XMLHttpRequest;c.open("GET",t),c.responseType="blob",c.onload=function(){o(c.response,e,a)},c.onerror=function(){console.error("could not download file")},c.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function c(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(a)}}var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype?function(t,o,i){var r=n.URL||n.webkitURL,s=document.createElement("a");s.download=o=o||t.name||"download",s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?c(s):a(s.href)?e(t,o,i):c(s,s.target="_blank")):(s.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(s.href)}),4e4),setTimeout((function(){c(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,o){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),n);else if(a(t))e(t,n,o);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout((function(){c(i)}))}}:function(t,a,c,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return e(t,a,c);var i="application/octet-stream"===t.type,r=/constructor/i.test(n.HTMLElement)||n.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&r)&&"object"==typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},l.readAsDataURL(t)}else{var u=n.URL||n.webkitURL,b=u.createObjectURL(t);o?o.location=b:location.href=b,o=null,setTimeout((function(){u.revokeObjectURL(b)}),4e4)}});n.saveAs=o.saveAs=o,t.exports=o})?c.apply(e,[]):c)||(t.exports=n)},LBBb:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var c=a("0IaG"),n=a("fXoL"),o=a("ofXK"),i=a("bTqV"),r=a("sYmb");function s(t,e){if(1&t&&(n.ac(0,"div"),n.ac(1,"h2",1),n.Tc(2),n.Zb(),n.Vb(3,"mat-dialog-content",2),n.ac(4,"mat-dialog-actions"),n.ac(5,"button",3),n.Tc(6),n.nc(7,"translate"),n.Zb(),n.ac(8,"button",4),n.Tc(9),n.nc(10,"translate"),n.Zb(),n.Zb(),n.Zb()),2&t){const t=n.mc();n.Hb(2),n.Uc(t.data.title),n.Hb(1),n.uc("innerHTML",t.data.content,n.Kc),n.Hb(2),n.uc("mat-dialog-close",!0),n.Hb(1),n.Uc(n.oc(7,6,"Yes")),n.Hb(2),n.uc("mat-dialog-close",!1),n.Hb(1),n.Uc(n.oc(10,8,"Cancel"))}}let l=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}}return t.\u0275fac=function(e){return new(e||t)(n.Ub(c.h),n.Ub(c.a))},t.\u0275cmp=n.Ob({type:t,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&n.Rc(0,s,11,10,"div",0),2&t&&n.uc("ngIf",e.data)},directives:[o.t,c.i,c.f,c.c,i.b,c.d],pipes:[r.j],encapsulation:2}),t})()},gqBz:function(t,e,a){"use strict";a.r(e),a.d(e,"StatuteParagraphModule",(function(){return Ht}));var c=a("ofXK"),n=a("PCNd"),o=a("tyNb"),i=a("gjbj"),r=a("1NkQ"),s=a("fXoL"),l=a("sYmb");let u=(()=>{class t{constructor(t,e){this.csvExport=t,this.translate=e}exportStatutes(t){this.csvExport.export(t,[{property:"title"},{property:"text"}],this.translate.instant("Statute")+".csv")}exportDummyCSV(){const t=`${this.translate.instant("Statute")}-${this.translate.instant("example")}.csv`;this.csvExport.dummyCSVExport(["Title","Text"],[["\xa71","This is the first section"],["\xa71, A 3","This is another important aspect"],["\xa72","Yet another"]],t)}}return t.\u0275fac=function(e){return new(e||t)(s.ec(r.a),s.ec(l.k))},t.\u0275prov=s.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=a("mrSG"),m=a("Mluu"),d=a("E2rH"),p=a("04cA"),f=a("P6Fj"),h=a("dNgK");let g=(()=>{class t extends d.a{constructor(t,e,a,c){super(e,a,c),this.repo=t,this.errorList={Duplicates:"A statute with this title already exists."},this.requiredHeaderLength=2,this.expectedHeader=["title","text"]}clearData(){}mapData(t){const e=new p.a(new p.a),a=Math.min(this.expectedHeader.length,t.length);for(let n=0;n<a;n++)switch(this.expectedHeader[n]){case"title":e.title=t[n];break;case"text":e.text=t[n]}const c=this.repo.getViewModelList().some(t=>t.title===e.title);return{newEntry:e,hasDuplicates:c,status:c?"error":"new",errors:c?["Duplicates"]:[]}}doImport(){return Object(b.a)(this,void 0,void 0,(function*(){for(const t of this.entries)"new"===t.status&&(yield this.repo.create(t.newEntry),t.status="done");this.updatePreview()}))}}return t.\u0275fac=function(e){return new(e||t)(s.ec(m.a),s.ec(l.k),s.ec(f.a),s.ec(h.a))},t.\u0275prov=s.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=a("jhN1"),Z=a("mksl"),w=a("Wp6s"),T=a("bTqV"),H=a("kmnG"),x=a("d3UM"),k=a("IZUe"),E=a("FKr1"),y=a("+0xr"),S=a("Dh3D"),I=a("NFeN"),U=a("Qu3c");function C(t,e){if(1&t){const t=s.bc();s.ac(0,"button",16),s.ic("click",(function(){return s.Jc(t),s.mc().doImport()})),s.ac(1,"span",17),s.Tc(2),s.nc(3,"translate"),s.Zb(),s.Zb()}2&t&&(s.Hb(2),s.Uc(s.oc(3,1,"Import")))}function M(t,e){if(1&t&&(s.ac(0,"mat-option",18),s.Tc(1),s.nc(2,"translate"),s.Zb()),2&t){const t=e.$implicit;s.uc("value",t.value),s.Hb(1),s.Vc(" ",s.oc(2,2,t.label)," ")}}function R(t,e){if(1&t&&(s.ac(0,"mat-option",18),s.Tc(1),s.nc(2,"translate"),s.Zb()),2&t){const t=e.$implicit;s.uc("value",t.value),s.Hb(1),s.Vc(" ",s.oc(2,2,t.label)," ")}}function B(t,e){if(1&t&&(s.ac(0,"mat-option",18),s.Tc(1),s.nc(2,"translate"),s.Zb()),2&t){const t=e.$implicit;s.uc("value",t.value),s.Hb(1),s.Vc(" ",s.oc(2,2,t.label)," ")}}function V(t,e){if(1&t&&(s.ac(0,"div"),s.Tc(1," \xa0 "),s.ac(2,"mat-icon",36),s.Tc(3,"playlist_add"),s.Zb(),s.ac(4,"span"),s.Tc(5),s.Zb(),s.ac(6,"span"),s.Tc(7),s.nc(8,"translate"),s.Zb(),s.Zb()),2&t){const t=s.mc(2);s.Hb(5),s.Vc("\xa0",t.newCount,"\xa0"),s.Hb(2),s.Uc(s.oc(8,2,"statute paragraphs(s) will be imported."))}}function P(t,e){if(1&t&&(s.ac(0,"div",37),s.Tc(1," \xa0 "),s.ac(2,"mat-icon",36),s.Tc(3,"warning"),s.Zb(),s.ac(4,"span"),s.Tc(5),s.Zb(),s.ac(6,"span"),s.Tc(7),s.nc(8,"translate"),s.Zb(),s.Zb()),2&t){const t=s.mc(2);s.Hb(5),s.Vc("\xa0",t.nonImportableCount,"\xa0"),s.Hb(2),s.Uc(s.oc(8,2,"entries will be ommitted."))}}function D(t,e){if(1&t&&(s.ac(0,"div",38),s.Tc(1," \xa0 "),s.ac(2,"mat-icon",36),s.Tc(3,"done"),s.Zb(),s.ac(4,"span"),s.Tc(5),s.Zb(),s.ac(6,"span"),s.Tc(7),s.nc(8,"translate"),s.Zb(),s.Zb()),2&t){const t=s.mc(2);s.Hb(5),s.Vc("\xa0",t.doneCount,"\xa0"),s.Hb(2),s.Uc(s.oc(8,2,"statute paragraphs have been imported."))}}function F(t,e){1&t&&(s.ac(0,"div"),s.ac(1,"span"),s.Tc(2),s.nc(3,"translate"),s.Zb(),s.Zb()),2&t&&(s.Hb(2),s.Uc(s.oc(3,1,'After verifiy the preview click on "import" please (see top right).')))}function O(t,e){if(1&t){const t=s.bc();s.ac(0,"mat-select",39),s.ic("valueChange",(function(e){return s.Jc(t),s.mc(2).shown=e}))("selectionChange",(function(){return s.Jc(t),s.mc(2).setFilter()})),s.ac(1,"mat-option",40),s.Tc(2),s.nc(3,"translate"),s.Zb(),s.ac(4,"mat-option",41),s.Tc(5),s.nc(6,"translate"),s.Zb(),s.ac(7,"mat-option",42),s.Tc(8),s.nc(9,"translate"),s.Zb(),s.Zb()}if(2&t){const t=s.mc(2);s.uc("value",t.shown),s.Hb(2),s.Uc(s.oc(3,4,"Show all")),s.Hb(3),s.Uc(s.oc(6,6,"Show errors only")),s.Hb(3),s.Uc(s.oc(9,8,"Show correct entries"))}}function L(t,e){1&t&&s.Vb(0,"mat-header-cell",43)}function j(t,e){if(1&t&&(s.ac(0,"div"),s.ac(1,"mat-icon",44),s.nc(2,"translate"),s.Tc(3),s.Zb(),s.Zb()),2&t){const t=s.mc().$implicit,e=s.mc(2);s.Hb(1),s.xc("matTooltip","",t.errors.length," ",s.oc(2,3,"errors"),""),s.Hb(2),s.Vc(" ",e.getActionIcon(t)," ")}}function A(t,e){if(1&t&&(s.ac(0,"div"),s.ac(1,"mat-icon",45),s.nc(2,"translate"),s.Tc(3),s.Zb(),s.Zb()),2&t){const t=s.mc().$implicit,e=s.mc(2);s.Hb(1),s.vc("matTooltip",s.oc(2,2,"Statute paragraph will be imported")),s.Hb(2),s.Vc(" ",e.getActionIcon(t)," ")}}function _(t,e){if(1&t&&(s.ac(0,"div"),s.ac(1,"mat-icon",45),s.nc(2,"translate"),s.Tc(3),s.Zb(),s.Zb()),2&t){const t=s.mc().$implicit,e=s.mc(2);s.Hb(1),s.vc("matTooltip",s.oc(2,2,"Statute paragraph has been imported")),s.Hb(2),s.Vc(" ",e.getActionIcon(t)," ")}}function q(t,e){if(1&t&&(s.ac(0,"mat-cell",43),s.Rc(1,j,4,5,"div",20),s.Rc(2,A,4,4,"div",20),s.Rc(3,_,4,4,"div",20),s.Zb()),2&t){const t=e.$implicit;s.Hb(1),s.uc("ngIf","error"===t.status),s.Hb(1),s.uc("ngIf","new"===t.status),s.Hb(1),s.uc("ngIf","done"===t.status)}}function J(t,e){1&t&&(s.ac(0,"mat-header-cell"),s.Tc(1),s.nc(2,"translate"),s.Zb()),2&t&&(s.Hb(1),s.Uc(s.oc(2,1,"Title")))}function N(t,e){if(1&t&&(s.ac(0,"mat-icon",47),s.nc(1,"translate"),s.Tc(2," warning "),s.Zb()),2&t){const t=s.mc(3);s.vc("matTooltip",s.oc(1,1,t.getVerboseError("Title")))}}function $(t,e){if(1&t&&(s.ac(0,"mat-cell"),s.Rc(1,N,3,3,"mat-icon",46),s.Tc(2),s.Zb()),2&t){const t=e.$implicit,a=s.mc(2);s.Hb(1),s.uc("ngIf",a.hasError(t,"Title")),s.Hb(1),s.Vc(" ",t.newEntry.title," ")}}function X(t,e){1&t&&(s.ac(0,"mat-header-cell"),s.Tc(1),s.nc(2,"translate"),s.Zb()),2&t&&(s.Hb(1),s.Uc(s.oc(2,1,"Text")))}function G(t,e){if(1&t&&(s.ac(0,"mat-icon",47),s.nc(1,"translate"),s.Tc(2," warning "),s.Zb()),2&t){const t=s.mc(3);s.vc("matTooltip",s.oc(1,1,t.getVerboseError("Text")))}}function K(t,e){if(1&t&&(s.ac(0,"mat-cell",45),s.Rc(1,G,3,3,"mat-icon",46),s.Tc(2),s.Zb()),2&t){const t=e.$implicit,a=s.mc(2);s.vc("matTooltip",a.getLongPreview(t.newEntry.text)),s.Hb(1),s.uc("ngIf",a.hasError(t,"Text")),s.Hb(1),s.Vc(" ",a.getShortPreview(t.newEntry.text)," ")}}function Q(t,e){1&t&&s.Vb(0,"mat-header-row")}function Y(t,e){if(1&t&&s.Vb(0,"mat-row",48),2&t){const t=e.$implicit,a=s.mc(2);s.uc("ngClass",a.getStateClass(t))}}function z(t,e){if(1&t&&(s.ac(0,"mat-card",4),s.ac(1,"h3"),s.Tc(2),s.nc(3,"translate"),s.Zb(),s.ac(4,"div",19),s.Rc(5,V,9,4,"div",20),s.Rc(6,P,9,4,"div",21),s.Rc(7,D,9,4,"div",22),s.Zb(),s.Rc(8,F,4,3,"div",20),s.ac(9,"div"),s.Rc(10,O,10,10,"mat-select",23),s.Zb(),s.ac(11,"div",24),s.ac(12,"table",25),s.Yb(13,26),s.Rc(14,L,1,0,"mat-header-cell",27),s.Rc(15,q,4,3,"mat-cell",28),s.Xb(),s.Yb(16,29),s.Rc(17,J,3,3,"mat-header-cell",30),s.Rc(18,$,3,2,"mat-cell",31),s.Xb(),s.Yb(19,32),s.Rc(20,X,3,3,"mat-header-cell",30),s.Rc(21,K,3,3,"mat-cell",33),s.Xb(),s.Rc(22,Q,1,0,"mat-header-row",34),s.Rc(23,Y,1,1,"mat-row",35),s.Zb(),s.Zb(),s.Zb()),2&t){const t=s.mc();s.Hb(2),s.Uc(s.oc(3,9,"Preview")),s.Hb(3),s.uc("ngIf",t.newCount),s.Hb(1),s.uc("ngIf",t.nonImportableCount),s.Hb(1),s.uc("ngIf",t.doneCount),s.Hb(1),s.uc("ngIf",t.newCount),s.Hb(2),s.uc("ngIf",t.nonImportableCount),s.Hb(2),s.uc("dataSource",t.dataSource),s.Hb(10),s.uc("matHeaderRowDef",t.getColumnDefinition()),s.Hb(1),s.uc("matRowDefColumns",t.getColumnDefinition())}}let W=(()=>{class t extends i.a{constructor(t,e,a,c,n){super(c,t,a,e),this.statuteCSVExport=n}downloadCsvExample(){this.statuteCSVExport.exportDummyCSV()}}return t.\u0275fac=function(e){return new(e||t)(s.Ub(v.d),s.Ub(h.a),s.Ub(l.k),s.Ub(g),s.Ub(u))},t.\u0275cmp=s.Ob({type:t,selectors:[["os-statute-import-list"]],features:[s.Eb],decls:54,vars:37,consts:[[3,"nav"],[1,"title-slot"],[1,"menu-slot"],["mat-button","",3,"click",4,"ngIf"],[1,"os-form-card","import-table","spacer-bottom-60"],[1,"code","red-warning-text"],["mat-button","","color","accent",3,"click"],[1,"wrapper"],[1,"selection",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["value","",1,"selection",3,"selectionChange"],["value",'"',1,"selection",3,"selectionChange"],["id","statute-import-file-input","type","file","accept","text",1,"hidden-input",3,"change"],["fileInput",""],["mat-button","","osAutofocus","","onclick","document.getElementById('statute-import-file-input').click()"],["class","os-form-card import-table spacer-bottom-60",4,"ngIf"],["mat-button","",3,"click"],[1,"upper"],[3,"value"],[1,"summary"],[4,"ngIf"],["class","red-warning-text",4,"ngIf"],["class","green-text",4,"ngIf"],["class","filter-imports",3,"value","valueChange","selectionChange",4,"ngIf"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","status","sticky",""],["class","first-column",4,"matHeaderCellDef"],["class","first-column",4,"matCellDef"],["matColumnDef","title"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","text"],[3,"matTooltip",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngClass",4,"matRowDef","matRowDefColumns"],["inline",""],[1,"red-warning-text"],[1,"green-text"],[1,"filter-imports",3,"value","valueChange","selectionChange"],["value","all"],["value","error"],["value","noerror"],[1,"first-column"],[1,"red-warning-text",3,"matTooltip"],[3,"matTooltip"],["color","warn",3,"matTooltip",4,"ngIf"],["color","warn",3,"matTooltip"],[3,"ngClass"]],template:function(t,e){1&t&&(s.ac(0,"os-head-bar",0),s.ac(1,"div",1),s.ac(2,"h2"),s.Tc(3),s.nc(4,"translate"),s.Zb(),s.Zb(),s.ac(5,"div",2),s.Rc(6,C,4,3,"button",3),s.Zb(),s.Zb(),s.ac(7,"mat-card",4),s.ac(8,"span"),s.Tc(9),s.nc(10,"translate"),s.Zb(),s.Vb(11,"br"),s.ac(12,"div",5),s.ac(13,"span"),s.Tc(14),s.nc(15,"translate"),s.Zb(),s.Tc(16,", "),s.ac(17,"span"),s.Tc(18),s.nc(19,"translate"),s.Zb(),s.Zb(),s.ac(20,"ul"),s.ac(21,"li"),s.Tc(22),s.nc(23,"translate"),s.Zb(),s.Zb(),s.ac(24,"button",6),s.ic("click",(function(){return e.downloadCsvExample()})),s.Tc(25),s.nc(26,"translate"),s.Zb(),s.ac(27,"div",7),s.ac(28,"mat-form-field"),s.ac(29,"mat-label"),s.Tc(30),s.nc(31,"translate"),s.Zb(),s.ac(32,"mat-select",8),s.ic("selectionChange",(function(t){return e.selectEncoding(t)})),s.Rc(33,M,3,4,"mat-option",9),s.Zb(),s.Zb(),s.ac(34,"mat-form-field"),s.ac(35,"mat-label"),s.Tc(36),s.nc(37,"translate"),s.Zb(),s.ac(38,"mat-select",10),s.ic("selectionChange",(function(t){return e.selectColSep(t)})),s.Rc(39,R,3,4,"mat-option",9),s.Zb(),s.Zb(),s.ac(40,"mat-form-field"),s.ac(41,"mat-label"),s.Tc(42),s.nc(43,"translate"),s.Zb(),s.ac(44,"mat-select",11),s.ic("selectionChange",(function(t){return e.selectTextSep(t)})),s.Rc(45,B,3,4,"mat-option",9),s.Zb(),s.Zb(),s.Zb(),s.ac(46,"div"),s.ac(47,"input",12,13),s.ic("change",(function(t){return e.onSelectFile(t)})),s.Zb(),s.ac(49,"button",14),s.ac(50,"span"),s.Tc(51),s.nc(52,"translate"),s.Zb(),s.Zb(),s.Zb(),s.Zb(),s.Rc(53,z,24,11,"mat-card",15)),2&t&&(s.uc("nav",!1),s.Hb(3),s.Uc(s.oc(4,17,"Import statute")),s.Hb(3),s.uc("ngIf",e.hasFile&&e.newCount),s.Hb(3),s.Uc(s.oc(10,19,"Required comma or semicolon separated values with these column header names in the first row:")),s.Hb(5),s.Uc(s.oc(15,21,"Title")),s.Hb(4),s.Uc(s.oc(19,23,"Text")),s.Hb(4),s.Vc(" ",s.oc(23,25,"Additional columns after the required ones may be present and will not affect the import.")," "),s.Hb(3),s.Vc(" ",s.oc(26,27,"Download CSV example file")," "),s.Hb(5),s.Uc(s.oc(31,29,"Encoding of the file")),s.Hb(2),s.uc("value",e.encodings[0].value),s.Hb(1),s.uc("ngForOf",e.encodings),s.Hb(3),s.Uc(s.oc(37,31,"Column separator")),s.Hb(3),s.uc("ngForOf",e.columnSeparators),s.Hb(3),s.Uc(s.oc(43,33,"Text separator")),s.Hb(3),s.uc("ngForOf",e.textSeparators),s.Hb(6),s.Uc(s.oc(52,35,"Select file")),s.Hb(2),s.uc("ngIf",e.hasFile))},directives:[Z.a,c.t,w.a,T.b,H.c,H.g,x.a,c.s,k.a,E.n,y.n,S.a,y.c,y.i,y.b,y.k,y.m,I.a,y.h,y.a,U.c,y.j,y.l,c.q],pipes:[l.j],encapsulation:2}),t})();var tt=a("3Pt+"),et=a("F48D"),at=a("Izkr"),ct=a("mV3u"),nt=a("0IaG"),ot=a("STbY"),it=a("vxfF"),rt=a("7EHt"),st=a("3Xi6"),lt=a("qFsG"),ut=a("fB2i"),bt=a("7jBc");const mt=["statuteParagraphDialog"];function dt(t,e){if(1&t){const t=s.bc();s.ac(0,"mat-expansion-panel",11),s.ac(1,"mat-expansion-panel-header"),s.ac(2,"mat-panel-title"),s.Tc(3),s.Zb(),s.Zb(),s.ac(4,"mat-card"),s.ac(5,"mat-card-title"),s.Tc(6),s.Zb(),s.ac(7,"mat-card-content"),s.Vb(8,"div",12),s.nc(9,"trust"),s.Zb(),s.Zb(),s.ac(10,"mat-action-row"),s.ac(11,"button",13),s.ic("click",(function(){s.Jc(t);const a=e.$implicit;return s.mc().openDialog(a)})),s.ac(12,"mat-icon"),s.Tc(13,"edit"),s.Zb(),s.Zb(),s.ac(14,"button",13),s.ic("click",(function(){s.Jc(t);const a=e.$implicit;return s.mc().onDeleteButton(a)})),s.ac(15,"mat-icon"),s.Tc(16,"delete"),s.Zb(),s.Zb(),s.Zb(),s.Zb()}if(2&t){const t=e.$implicit;s.Hb(3),s.Vc(" ",t.title," "),s.Hb(3),s.Uc(t.title),s.Hb(2),s.uc("innerHTML",s.pc(9,3,t.text,"html"),s.Kc)}}function pt(t,e){1&t&&(s.ac(0,"mat-card"),s.ac(1,"mat-card-content"),s.ac(2,"div",14),s.Tc(3),s.nc(4,"translate"),s.Zb(),s.Zb(),s.Zb()),2&t&&(s.Hb(3),s.Uc(s.oc(4,1,"No statute paragraphs")))}function ft(t,e){1&t&&(s.ac(0,"button",15),s.ac(1,"mat-icon"),s.Tc(2,"cloud_upload"),s.Zb(),s.ac(3,"span"),s.Tc(4),s.nc(5,"translate"),s.Zb(),s.Zb()),2&t&&(s.Hb(4),s.Uc(s.oc(5,1,"Import")))}function ht(t,e){1&t&&(s.ac(0,"span"),s.Tc(1),s.nc(2,"translate"),s.Zb()),2&t&&(s.Hb(1),s.Uc(s.oc(2,1,"Edit statute paragraph")))}function gt(t,e){1&t&&(s.ac(0,"span"),s.Tc(1),s.nc(2,"translate"),s.Zb()),2&t&&(s.Hb(1),s.Uc(s.oc(2,1,"New statute paragraph")))}function vt(t,e){1&t&&(s.ac(0,"mat-hint"),s.ac(1,"span"),s.Tc(2),s.nc(3,"translate"),s.Zb(),s.Zb()),2&t&&(s.Hb(2),s.Uc(s.oc(3,1,"Required")))}function Zt(t,e){if(1&t){const t=s.bc();s.ac(0,"h1",16),s.Rc(1,ht,3,3,"span",6),s.Rc(2,gt,3,3,"span",6),s.Zb(),s.ac(3,"div",17),s.ac(4,"form",18),s.ic("keydown",(function(e){return s.Jc(t),s.mc().onKeyDown(e)})),s.ac(5,"p"),s.ac(6,"mat-form-field"),s.Vb(7,"input",19),s.nc(8,"translate"),s.Rc(9,vt,4,3,"mat-hint",6),s.Zb(),s.Zb(),s.ac(10,"span"),s.ac(11,"h4"),s.Tc(12),s.nc(13,"translate"),s.Zb(),s.Vb(14,"editor",20),s.Zb(),s.Zb(),s.Zb(),s.ac(15,"div",21),s.ac(16,"button",22),s.ac(17,"span"),s.Tc(18),s.nc(19,"translate"),s.Zb(),s.Zb(),s.ac(20,"button",23),s.ac(21,"span"),s.Tc(22),s.nc(23,"translate"),s.Zb(),s.Zb(),s.Zb()}if(2&t){const t=s.mc();s.Hb(1),s.uc("ngIf",t.currentStatuteParagraph),s.Hb(1),s.uc("ngIf",!t.currentStatuteParagraph),s.Hb(2),s.uc("formGroup",t.statuteParagraphForm),s.Hb(3),s.vc("placeholder",s.oc(8,12,"Title")),s.Hb(2),s.uc("ngIf",!t.statuteParagraphForm.controls.title.valid),s.Hb(3),s.Uc(s.oc(13,14,"Statute paragraph")),s.Hb(2),s.uc("init",t.tinyMceSettings),s.Hb(2),s.uc("mat-dialog-close",!0)("disabled",!t.statuteParagraphForm.valid),s.Hb(2),s.Uc(s.oc(19,16,"Save")),s.Hb(2),s.uc("mat-dialog-close",!1),s.Hb(2),s.Uc(s.oc(23,18,"Cancel"))}}const wt=[{path:"",component:(()=>{class t extends ct.a{constructor(t,e,a,c,n,o,i,r){super(t,e,a),this.translate=e,this.repo=c,this.formBuilder=n,this.promptService=o,this.dialog=i,this.csvExportService=r,this.statuteParagraphs=[],this.statuteParagraphForm=this.formBuilder.group({title:["",tt.G.required],text:["",tt.G.required]})}ngOnInit(){super.setTitle("Statute"),this.repo.getViewModelListObservable().subscribe(t=>{this.statuteParagraphs=t})}openDialog(t){this.currentStatuteParagraph=t,this.statuteParagraphForm.reset(),t&&this.statuteParagraphForm.setValue({title:t.title,text:t.text}),this.dialogRef=this.dialog.open(this.statuteParagraphDialog,at.b),this.dialogRef.afterClosed().subscribe(t=>{t&&this.save()})}save(){if(this.statuteParagraphForm.valid){if(this.currentStatuteParagraph)this.repo.update(this.statuteParagraphForm.value,this.currentStatuteParagraph).catch(this.raiseError);else{const t=new p.a(this.statuteParagraphForm.value);this.repo.create(t).catch(this.raiseError)}this.statuteParagraphForm.reset()}}onDeleteButton(t){return Object(b.a)(this,void 0,void 0,(function*(){const e=this.translate.instant("Are you sure you want to delete this statute paragraph?"),a=t.title;(yield this.promptService.open(e,a))&&this.repo.delete(t).catch(this.raiseError)}))}sortStatuteParagraphs(){console.log("Not yet implemented. Depends on other Features")}onKeyDown(t){"Enter"===t.key&&t.shiftKey&&(this.save(),this.dialogRef.close()),"Escape"===t.key&&this.dialogRef.close()}onCsvExport(){this.csvExportService.exportStatutes(this.statuteParagraphs)}}return t.\u0275fac=function(e){return new(e||t)(s.Ub(v.d),s.Ub(l.k),s.Ub(h.a),s.Ub(m.a),s.Ub(tt.f),s.Ub(et.a),s.Ub(nt.b),s.Ub(u))},t.\u0275cmp=s.Ob({type:t,selectors:[["os-statute-paragraph-list"]],viewQuery:function(t,e){var a;1&t&&s.Pc(mt,!0),2&t&&s.Ec(a=s.jc())&&(e.statuteParagraphDialog=a.first)},features:[s.Eb],decls:25,vars:12,consts:[["prevUrl","../..",3,"nav","hasMainButton","mainEvent"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["itemSize","50",1,"statute-vscroll-wrapper"],["multiple","false",4,"cdkVirtualFor","cdkVirtualForOf"],[4,"ngIf"],["commentMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","import",4,"osPerms"],["statuteParagraphDialog",""],["multiple","false"],[3,"innerHTML"],["mat-button","","mat-icon-button","",3,"click"],[1,"no-content"],["mat-menu-item","","routerLink","import"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[3,"formGroup","keydown"],["formControlName","title","matInput","","required","",3,"placeholder"],["formControlName","text",3,"init"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close","disabled"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){if(1&t&&(s.ac(0,"os-head-bar",0),s.ic("mainEvent",(function(){return e.openDialog()})),s.ac(1,"div",1),s.ac(2,"h2"),s.Tc(3),s.nc(4,"translate"),s.Zb(),s.Zb(),s.ac(5,"div",2),s.ac(6,"button",3),s.ac(7,"mat-icon"),s.Tc(8,"more_vert"),s.Zb(),s.Zb(),s.Zb(),s.Zb(),s.ac(9,"cdk-virtual-scroll-viewport",4),s.ac(10,"mat-card"),s.ac(11,"mat-accordion"),s.Rc(12,dt,17,6,"mat-expansion-panel",5),s.Zb(),s.Zb(),s.Zb(),s.Rc(13,pt,5,3,"mat-card",6),s.ac(14,"mat-menu",null,7),s.ac(16,"button",8),s.ic("click",(function(){return e.onCsvExport()})),s.ac(17,"mat-icon"),s.Tc(18,"archive"),s.Zb(),s.ac(19,"span"),s.Tc(20),s.nc(21,"translate"),s.Zb(),s.Zb(),s.Rc(22,ft,6,3,"button",9),s.Zb(),s.Rc(23,Zt,24,20,"ng-template",null,10,s.Sc)),2&t){const t=s.Fc(15);s.uc("nav",!1)("hasMainButton",!0),s.Hb(3),s.Uc(s.oc(4,8,"Statute")),s.Hb(3),s.uc("matMenuTriggerFor",t),s.Hb(6),s.uc("cdkVirtualForOf",e.statuteParagraphs),s.Hb(1),s.uc("ngIf",0===e.statuteParagraphs.length),s.Hb(7),s.Uc(s.oc(21,10,"Export as CSV")),s.Hb(2),s.uc("osPerms","motions.can_manage")}},directives:[Z.a,T.b,ot.e,I.a,it.e,it.a,w.a,rt.a,it.d,c.t,ot.f,ot.c,st.a,rt.c,rt.g,rt.h,w.m,w.d,rt.d,o.g,nt.i,nt.f,tt.I,tt.t,tt.k,H.c,tt.c,lt.b,tt.s,tt.i,tt.D,ut.a,nt.c,nt.d,H.f],pipes:[l.j,bt.a],styles:[".statute-vscroll-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 64px)}.statute-vscroll-wrapper[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{margin-bottom:20px}.statute-vscroll-wrapper[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})(),pathMatch:"full"},{path:"import",component:W}];let Tt=(()=>{class t{}return t.\u0275mod=s.Sb({type:t}),t.\u0275inj=s.Rb({factory:function(e){return new(e||t)},imports:[[o.j.forChild(wt)],o.j]}),t})(),Ht=(()=>{class t{}return t.\u0275mod=s.Sb({type:t}),t.\u0275inj=s.Rb({factory:function(e){return new(e||t)},imports:[[c.c,Tt,n.a]]}),t})()},mksl:function(t,e,a){"use strict";a.d(e,"a",(function(){return C}));var c=a("fXoL"),n=a("VR2Q"),o=a("7dBR"),i=a("gsQk"),r=a("KL36"),s=a("tyNb"),l=a("/t3+"),u=a("ofXK"),b=a("bTqV"),m=a("NFeN"),d=a("Qu3c"),p=a("sYmb");function f(t,e){if(1&t){const t=c.bc();c.ac(0,"button",12),c.ic("click",(function(){return c.Jc(t),c.mc().clickHamburgerMenu()})),c.ac(1,"mat-icon"),c.Tc(2,"menu"),c.Zb(),c.Zb()}}function h(t,e){if(1&t){const t=c.bc();c.ac(0,"button",12),c.ic("click",(function(){return c.Jc(t),c.mc().onBackButton()})),c.ac(1,"mat-icon"),c.Tc(2,"arrow_back"),c.Zb(),c.Zb()}}function g(t,e){if(1&t){const t=c.bc();c.ac(0,"button",12),c.ic("click",(function(){c.Jc(t);const e=c.mc();return e.isCancelEditUsed?e.sendCancelEditEvent():e.sendMainEvent()})),c.ac(1,"mat-icon"),c.Tc(2,"close"),c.Zb(),c.Zb()}}function v(t,e){1&t&&(c.ac(0,"div",13),c.sc(1,1),c.Zb())}function Z(t,e){1&t&&c.Vb(0,"div",6)}function w(t,e){1&t&&(c.ac(0,"div",14),c.sc(1,2),c.Zb())}function T(t,e){if(1&t){const t=c.bc();c.ac(0,"button",12),c.ic("click",(function(){return c.Jc(t),c.mc().openSearch()})),c.ac(1,"mat-icon"),c.Tc(2,"search"),c.Zb(),c.Zb()}}function H(t,e){if(1&t){const t=c.bc();c.ac(0,"button",15),c.ic("click",(function(){return c.Jc(t),c.mc().sendMainEvent()})),c.nc(1,"translate"),c.ac(2,"mat-icon"),c.Tc(3),c.Zb(),c.Zb()}if(2&t){const t=c.mc();c.vc("matTooltip",c.oc(1,3,t.mainActionTooltip)),c.uc("disabled",!t.isMainButtonEnabled),c.Hb(3),c.Uc(t.mainButtonIcon)}}function x(t,e){if(1&t){const t=c.bc();c.ac(0,"button",16),c.ic("click",(function(){return c.Jc(t),c.mc().save()})),c.ac(1,"strong",17),c.Tc(2),c.nc(3,"translate"),c.Zb(),c.Zb()}if(2&t){const t=c.mc();c.uc("disabled",!t.isSaveButtonEnabled),c.Hb(2),c.Uc(c.oc(3,2,t.saveText))}}function k(t,e){1&t&&c.sc(0,3,["*ngIf","!editMode"])}function E(t,e){1&t&&(c.ac(0,"mat-icon"),c.Tc(1," add "),c.Zb())}function y(t,e){if(1&t&&(c.ac(0,"mat-icon"),c.Tc(1),c.Zb()),2&t){const t=c.mc(2);c.Hb(1),c.Vc(" ",t.mainButtonIcon," ")}}function S(t,e){if(1&t){const t=c.bc();c.ac(0,"button",18),c.ic("click",(function(){return c.Jc(t),c.mc().sendMainEvent()})),c.nc(1,"translate"),c.Rc(2,E,2,0,"mat-icon",10),c.Rc(3,y,2,1,"mat-icon",10),c.Zb()}if(2&t){const t=c.mc();c.vc("matTooltip",c.oc(1,4,t.mainActionTooltip)),c.uc("disabled",!t.isMainButtonEnabled),c.Hb(2),c.uc("ngIf","add_circle"===t.mainButtonIcon),c.Hb(1),c.uc("ngIf","add_circle"!==t.mainButtonIcon)}}const I=[[["",8,"extra-controls-slot"]],[["",8,"title-slot"]],[["",8,"central-info-slot"]],[["",8,"menu-slot"]]],U=[".extra-controls-slot",".title-slot",".central-info-slot",".menu-slot"];let C=(()=>{class t{constructor(t,e,a,n,o,i){this.vp=t,this.menu=e,this.router=a,this.route=n,this.routingState=o,this.overlayService=i,this.nav=!0,this.mainButtonIcon="add_circle",this.saveText="Save",this.editMode=!1,this.isSearchEnabled=!0,this.isSaveButtonEnabled=!0,this.multiSelectMode=!1,this.hasMainButton=!1,this.isMainButtonEnabled=!0,this.goBack=!1,this.prevUrl="../",this.mainEvent=new c.p,this.cancelEditEvent=new c.p,this.isCancelEditUsed=!1,this.saveEvent=new c.p}get showBackButton(){return!this.nav&&!this.multiSelectMode&&(this.routingState.isSafePrevUrl||!this.goBack)}ngOnInit(){this.isCancelEditUsed=this.cancelEditEvent.observers.length>0}sendMainEvent(){this.mainEvent.next()}sendCancelEditEvent(){this.cancelEditEvent.next()}clickHamburgerMenu(){this.menu.toggleMenu()}save(){this.saveEvent.next(!0)}openSearch(){this.overlayService.showSearch()}onBackButton(){this.goBack?this.routingState.goBack():this.router.navigate(this.routingState.customOrigin&&this.routingState.customOrigin!==this.router.url?[this.routingState.customOrigin]:[this.prevUrl],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(c.Ub(r.a),c.Ub(n.a),c.Ub(s.f),c.Ub(s.a),c.Ub(i.a),c.Ub(o.a))},t.\u0275cmp=c.Ob({type:t,selectors:[["os-head-bar"]],inputs:{nav:"nav",mainButtonIcon:"mainButtonIcon",saveText:"saveText",editMode:"editMode",isSearchEnabled:"isSearchEnabled",isSaveButtonEnabled:"isSaveButtonEnabled",multiSelectMode:"multiSelectMode",hasMainButton:"hasMainButton",isMainButtonEnabled:"isMainButtonEnabled",goBack:"goBack",prevUrl:"prevUrl",mainActionTooltip:"mainActionTooltip"},outputs:{mainEvent:"mainEvent",cancelEditEvent:"cancelEditEvent",saveEvent:"saveEvent"},ngContentSelectors:U,decls:16,vars:12,consts:[["color","primary",1,"sticky-toolbar",3,"ngClass"],[1,"toolbar-left"],["mat-icon-button","",3,"click",4,"ngIf"],["class","toolbar-left-text",4,"ngIf"],["class","spacer",4,"ngIf"],["class","toolbar-centered",4,"ngIf"],[1,"spacer"],[1,"toolbar-right"],["mat-icon-button","",3,"disabled","matTooltip","click",4,"ngIf"],["mat-button","",3,"disabled","click",4,"ngIf"],[4,"ngIf"],["mat-fab","","class","head-button",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"toolbar-left-text"],[1,"toolbar-centered"],["mat-icon-button","",3,"disabled","matTooltip","click"],["mat-button","",3,"disabled","click"],[1,"upper"],["mat-fab","",1,"head-button",3,"disabled","matTooltip","click"]],template:function(t,e){1&t&&(c.tc(I),c.ac(0,"mat-toolbar",0),c.ac(1,"div",1),c.Rc(2,f,3,0,"button",2),c.Rc(3,h,3,0,"button",2),c.Rc(4,g,3,0,"button",2),c.Rc(5,v,2,0,"div",3),c.Zb(),c.Rc(6,Z,1,0,"div",4),c.Rc(7,w,2,0,"div",5),c.Vb(8,"div",6),c.Rc(9,T,3,0,"button",2),c.ac(10,"div",7),c.sc(11),c.Rc(12,H,4,5,"button",8),c.Rc(13,x,4,4,"button",9),c.Rc(14,k,1,0,void 0,10),c.Zb(),c.Zb(),c.Rc(15,S,4,6,"button",11)),2&t&&(c.uc("ngClass",e.multiSelectMode?"multi-select":""),c.Hb(2),c.uc("ngIf",e.vp.isMobile&&!e.showBackButton&&!e.editMode),c.Hb(1),c.uc("ngIf",e.showBackButton&&!e.editMode),c.Hb(1),c.uc("ngIf",e.editMode),c.Hb(1),c.uc("ngIf",!e.multiSelectMode),c.Hb(1),c.uc("ngIf",!e.multiSelectMode),c.Hb(1),c.uc("ngIf",e.multiSelectMode),c.Hb(2),c.uc("ngIf",!e.editMode&&e.isSearchEnabled),c.Hb(3),c.uc("ngIf",e.hasMainButton&&!e.editMode&&!e.vp.isMobile&&!e.multiSelectMode),c.Hb(1),c.uc("ngIf",e.editMode),c.Hb(1),c.uc("ngIf",!e.editMode),c.Hb(1),c.uc("ngIf",e.hasMainButton&&!e.editMode&&e.vp.isMobile&&!e.multiSelectMode))},directives:[l.a,u.q,u.t,b.b,m.a,d.c],pipes:[p.j],styles:[".head-button{position:fixed;z-index:10;right:20px;bottom:55px}.sticky-toolbar{top:0;z-index:5;position:-webkit-sticky;position:sticky;height:64px!important}.sticky-toolbar .toolbar-left{display:-ms-flexbox;display:flex;max-width:calc(100% - 100px)}.sticky-toolbar .toolbar-left button{margin:12px 0}.sticky-toolbar .toolbar-left .toolbar-left-text{margin-left:10px;width:100%;overflow:hidden}.sticky-toolbar .toolbar-left .toolbar-left-text .title-slot{margin:16px 0;display:block}.sticky-toolbar .toolbar-left .toolbar-left-text .title-slot h2{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sticky-toolbar .toolbar-centered{margin:auto;vertical-align:baseline}.sticky-toolbar .toolbar-right,.sticky-toolbar .toolbar-right .extra-controls-slot{display:-ms-flexbox;display:flex}mat-toolbar.multi-select{background-color:#757575!important}"],encapsulation:2}),t})()}}]);