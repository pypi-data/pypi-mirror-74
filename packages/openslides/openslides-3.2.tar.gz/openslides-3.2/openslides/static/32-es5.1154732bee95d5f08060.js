function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,c=new Array(t);i<t;i++)c[i]=e[i];return c}function _get(e,t,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var c=_superPropBase(e,t);if(c){var n=Object.getOwnPropertyDescriptor(c,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var c=t[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,c=_getPrototypeOf(e);if(t){var n=_getPrototypeOf(this).constructor;i=Reflect.construct(c,arguments,n)}else i=c.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[32,36],{"0bnU":function(e,t,i){"use strict";i.r(t),i.d(t,"MediafilesModule",(function(){return nt}));var c,n,a,r=i("ofXK"),o=i("tyNb"),l=i("OwvW"),s=i("SSyl"),u=i("mV3u"),f=i("fXoL"),b=i("jhN1"),d=i("sYmb"),m=i("dNgK"),p=i("mksl"),g=i("bTqV"),h=i("STbY"),v=i("NFeN"),y=i("Wp6s"),k=i("GTZY"),Z=((c=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,c,n,a,r,o){var l;return _classCallCheck(this,i),(l=t.call(this,e,c,n)).location=a,l.route=r,l.repo=o,l.parallel=!0,l.directoryId=null,l}return _createClass(i,[{key:"ngOnInit",value:function(){var e=this;this.repo.getDirectoryIdByPath(this.route.snapshot.url.map((function(e){return e.path}))).then((function(t){e.directoryId=t}))}},{key:"uploadSuccess",value:function(){this.location.back()}},{key:"showError",value:function(e){this.raiseError(e)}},{key:"setUploadStrategy",value:function(e){this.parallel=e}}]),i}(u.a)).\u0275fac=function(e){return new(e||c)(f.Ub(b.d),f.Ub(d.k),f.Ub(m.a),f.Ub(r.n),f.Ub(o.a),f.Ub(s.a))},c.\u0275cmp=f.Ob({type:c,selectors:[["os-media-upload"]],features:[f.Eb],decls:19,vars:12,consts:[[3,"nav","goBack"],[1,"title-slot"],[1,"menu-slot"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],[1,"os-card"],[3,"parallel","directoryId","uploadSuccessEvent","errorEvent"],["uploadMenu","matMenu"],["mat-menu-item","",3,"click"],["color","accent"]],template:function(e,t){if(1&e&&(f.ac(0,"os-head-bar",0),f.ac(1,"div",1),f.ac(2,"h2"),f.Tc(3),f.nc(4,"translate"),f.Zb(),f.Zb(),f.ac(5,"div",2),f.ac(6,"button",3),f.ac(7,"mat-icon"),f.Tc(8,"more_vert"),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.ac(9,"mat-card",4),f.ac(10,"os-media-upload-content",5),f.ic("uploadSuccessEvent",(function(){return t.uploadSuccess()}))("errorEvent",(function(e){return t.showError(e)})),f.Zb(),f.Zb(),f.ac(11,"mat-menu",null,6),f.ac(13,"button",7),f.ic("click",(function(){return t.setUploadStrategy(!t.parallel)})),f.ac(14,"mat-icon",8),f.Tc(15),f.Zb(),f.ac(16,"span"),f.Tc(17),f.nc(18,"translate"),f.Zb(),f.Zb(),f.Zb()),2&e){var i=f.Fc(12);f.uc("nav",!1)("goBack",!0),f.Hb(3),f.Uc(f.oc(4,8,"Upload files")),f.Hb(3),f.uc("matMenuTriggerFor",i),f.Hb(4),f.uc("parallel",t.parallel)("directoryId",t.directoryId),f.Hb(5),f.Uc(t.parallel?"check_box":"check_box_outline_blank"),f.Hb(2),f.Uc(f.oc(18,10,"Parallel upload"))}},directives:[p.a,g.b,h.e,v.a,y.a,k.a,h.f,h.c],pipes:[d.j],styles:[""]}),c),_=i("mrSG"),w=i("3Pt+"),S=i("dRZP"),T=i("2Vo4"),H=i("HDdC"),M=i("AqIO"),R=i("R+Vs"),C=i("Hila"),F=i("+KbT"),I=((n=function(){function e(t,i){_classCallCheck(this,e),this.config=t,this.httpService=i}return _createClass(e,[{key:"setAs",value:function(e,t){return Object(_.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var c,n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return c="/rest/core/config/".concat(t,"/"),n=this.getMediaConfig(t),i.abrupt("return",this.httpService.put(c,{id:e.id,key:n.key,default:n.default,value:{display_name:n.display_name,key:n.key,default:n.default,path:n.path!==e.url?e.url:""}}));case 2:case"end":return i.stop()}}),i,this)})))}},{key:"isImageConfigObject",value:function(e){if(void 0!==e)return void 0!==e.path}},{key:"getLogoActions",value:function(){return this.config.get("logos_available")}},{key:"getFontActions",value:function(){return this.config.get("fonts_available")}},{key:"getMediaConfig",value:function(e){return this.config.instant(e)}}]),e}()).\u0275fac=function(e){return new(e||n)(f.ec(F.a),f.ec(C.a))},n.\u0275prov=f.Qb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),O=i("F48D"),D=i("KL36"),U=i("smbJ"),x=i("Izkr"),A=i("wL0i"),P=i("D/ll"),j=i("A6Ob"),E=((a=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,c,n){var a;return _classCallCheck(this,i),(a=t.call(this,e,c,n)).storageKey="MediafileList",a.mediafilesSortOptions=[{property:"title"},{property:"mimetype",label:a.translate.instant("Type")},{property:"filesize",label:a.translate.instant("Size")}],a}return _createClass(i,[{key:"getSortOptions",value:function(){return this.mediafilesSortOptions}},{key:"getDefaultDefinition",value:function(){return Object(_.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{sortProperty:"title",sortAscending:!0});case 1:case"end":return e.stop()}}),e)})))}}]),i}(j.a)).\u0275fac=function(e){return new(e||a)(f.ec(d.k),f.ec(M.a),f.ec(P.a))},a.\u0275prov=f.Qb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),B=i("0IaG"),L=i("3Xi6"),N=i("1yIO"),V=i("SOyc"),J=i("vYAO"),z=i("Qu3c"),G=i("f0Cb"),W=i("Tp2j"),q=i("kmnG"),$=i("qFsG"),K=i("IZUe"),X=i("oqD5"),Y=["fileEditForm"],Q=["fileEditDialog"];function ee(e,t){if(1&e){var i=f.bc();f.ac(0,"button",26),f.ic("click",(function(){f.Jc(i);var e=f.mc(2),t=f.Fc(34);return e.createNewFolder(t)})),f.ac(1,"mat-icon"),f.Tc(2,"create_new_folder"),f.Zb(),f.Zb()}}function te(e,t){if(1&e&&(f.ac(0,"div",23),f.Rc(1,ee,3,0,"button",24),f.ac(2,"button",25),f.ac(3,"mat-icon"),f.Tc(4,"more_vert"),f.Zb(),f.Zb(),f.Zb()),2&e){var i=f.mc(),c=f.Fc(28);f.Hb(1),f.uc("ngIf",!i.isMultiSelect),f.Hb(1),f.uc("matMenuTriggerFor",c)}}function ie(e,t){if(1&e){var i=f.bc();f.ac(0,"div",27),f.ac(1,"button",28),f.ic("click",(function(){return f.Jc(i),f.mc().toggleMultiSelect()})),f.ac(2,"mat-icon"),f.Tc(3,"arrow_back"),f.Zb(),f.Zb(),f.ac(4,"span"),f.Tc(5),f.Zb(),f.ac(6,"span"),f.Tc(7),f.nc(8,"translate"),f.Zb(),f.Zb()}if(2&e){var c=f.mc();f.Hb(5),f.Vc("",c.selectedRows.length,"\xa0"),f.Hb(2),f.Uc(f.oc(8,2,"selected"))}}function ce(e,t){if(1&e){var i=f.bc();f.ac(0,"button",6),f.ic("click",(function(){f.Jc(i);var e=f.mc().$implicit;return f.mc().changeDirectory(e.id)})),f.ac(1,"span",34),f.Tc(2),f.Zb(),f.Zb()}if(2&e){var c=f.mc().$implicit,n=f.mc();f.uc("disabled",n.isMultiSelect),f.Hb(2),f.Vc(" ",c.filename," ")}}var ne=function(e){return{mediafile:e}};function ae(e,t){if(1&e&&(f.ac(0,"button",35),f.ac(1,"os-icon-container",36),f.Tc(2),f.Zb(),f.Zb()),2&e){var i=f.mc().$implicit,c=f.mc(),n=f.Fc(25);f.uc("matMenuTriggerFor",n)("matMenuTriggerData",f.Ac(5,ne,i))("disabled",c.isMultiSelect),f.Hb(1),f.uc("noWrap",!0),f.Hb(1),f.Vc(" ",i.filename," ")}}function re(e,t){if(1&e&&(f.ac(0,"span",37),f.Tc(1),f.Zb()),2&e){var i=f.mc().$implicit;f.Hb(1),f.Vc(" ",i.filename," ")}}function oe(e,t){if(1&e&&(f.ac(0,"span",29),f.ac(1,"span",30),f.ac(2,"mat-icon"),f.Tc(3,"chevron_right"),f.Zb(),f.Zb(),f.Rc(4,ce,3,2,"button",31),f.Rc(5,ae,3,7,"button",32),f.Rc(6,re,2,1,"span",33),f.Zb()),2&e){var i=t.$implicit,c=t.last,n=f.mc();f.Hb(4),f.uc("ngIf",!c),f.Hb(1),f.uc("ngIf",c&&n.showFileMenu(i)),f.Hb(1),f.uc("ngIf",c&&!n.showFileMenu(i))}}function le(e,t){1&e&&(f.ac(0,"span"),f.Tc(1,", "),f.Zb())}function se(e,t){1&e&&(f.ac(0,"span"),f.Tc(1,"..."),f.Zb())}function ue(e,t){if(1&e&&(f.ac(0,"span"),f.ac(1,"span"),f.Tc(2),f.nc(3,"translate"),f.Zb(),f.Rc(4,le,2,0,"span",19),f.Rc(5,se,2,0,"span",19),f.Zb()),2&e){var i=t.$implicit,c=t.last,n=f.mc(2);f.Hb(2),f.Uc(f.oc(3,3,i.getTitle())),f.Hb(2),f.uc("ngIf",!c),f.Hb(1),f.uc("ngIf",c&&n.directory.inherited_access_groups.length>3)}}function fe(e,t){if(1&e){var i=f.bc();f.ac(0,"span",38),f.ac(1,"button",39),f.ic("click",(function(){f.Jc(i);var e=f.mc();return e.onEditFile(e.directory)})),f.ac(2,"os-icon-container",40),f.nc(3,"translate"),f.Rc(4,ue,6,5,"span",41),f.nc(5,"slice"),f.Zb(),f.Zb(),f.Zb()}if(2&e){var c=f.mc();f.Hb(2),f.vc("matTooltip",f.oc(3,2,"Allowed access groups for this directory")),f.Hb(2),f.uc("ngForOf",f.qc(5,4,c.directory.inherited_access_groups,0,3))}}function be(e,t){if(1&e&&f.Vb(0,"a",45),2&e){var i=f.mc().row;f.uc("routerLink",i.url)}}function de(e,t){if(1&e){var i=f.bc();f.ac(0,"a",46),f.ic("click",(function(){f.Jc(i);var e=f.mc().row;return f.mc().changeDirectory(e.id)})),f.Zb()}}function me(e,t){if(1&e&&(f.ac(0,"div",42),f.Rc(1,be,1,1,"a",43),f.Rc(2,de,1,0,"a",44),f.ac(3,"mat-icon",7),f.Tc(4),f.Zb(),f.Zb()),2&e){var i=t.row,c=f.mc();f.Hb(1),f.uc("ngIf",!i.is_directory&&!c.isMultiSelect),f.Hb(1),f.uc("ngIf",i.is_directory&&!c.isMultiSelect),f.Hb(2),f.Uc(i.getIcon())}}function pe(e,t){if(1&e&&f.Vb(0,"a",45),2&e){var i=f.mc().row;f.uc("routerLink",i.url)}}function ge(e,t){if(1&e){var i=f.bc();f.ac(0,"a",46),f.ic("click",(function(){f.Jc(i);var e=f.mc().row;return f.mc().changeDirectory(e.id)})),f.Zb()}}function he(e,t){if(1&e&&(f.ac(0,"div",50),f.ac(1,"span"),f.Tc(2),f.Zb(),f.Zb()),2&e){var i=f.mc().row,c=f.mc();f.Hb(2),f.Wc(" ",c.getDateFromTimestamp(i.timestamp)," \xb7 ",i.filesize," ")}}function ve(e,t){if(1&e&&(f.ac(0,"div",42),f.Rc(1,pe,1,1,"a",43),f.Rc(2,ge,1,0,"a",44),f.ac(3,"div",47),f.ac(4,"div",48),f.Tc(5),f.Zb(),f.Rc(6,he,3,2,"div",49),f.Zb(),f.Zb()),2&e){var i=t.row,c=f.mc();f.Hb(1),f.uc("ngIf",!i.is_directory&&!c.isMultiSelect),f.Hb(1),f.uc("ngIf",i.is_directory&&!c.isMultiSelect),f.Hb(3),f.Vc(" ",i.filename," "),f.Hb(1),f.uc("ngIf",!i.is_directory)}}function ye(e,t){1&e&&(f.ac(0,"span"),f.Tc(1,", "),f.Zb())}function ke(e,t){1&e&&(f.ac(0,"span"),f.Tc(1,"..."),f.Zb())}function Ze(e,t){if(1&e&&(f.ac(0,"span"),f.ac(1,"span"),f.Tc(2),f.nc(3,"translate"),f.Zb(),f.Rc(4,ye,2,0,"span",19),f.Rc(5,ke,2,0,"span",19),f.Zb()),2&e){var i=t.$implicit,c=t.last,n=f.mc(2).row;f.Hb(2),f.Uc(f.oc(3,3,i.getTitle())),f.Hb(2),f.uc("ngIf",!c),f.Hb(1),f.uc("ngIf",c&&n.access_groups.length>3)}}function _e(e,t){if(1&e&&(f.ac(0,"os-icon-container",53),f.Rc(1,Ze,6,5,"span",41),f.nc(2,"slice"),f.Zb()),2&e){var i=f.mc().row;f.Hb(1),f.uc("ngForOf",f.qc(2,1,i.access_groups,0,3))}}function we(e,t){if(1&e){var i=f.bc();f.ac(0,"div",51),f.ic("click",(function(){f.Jc(i);var e=t.row;return f.mc().onEditFile(e)})),f.Rc(1,_e,3,5,"os-icon-container",52),f.Zb()}if(2&e){var c=t.row;f.Hb(1),f.uc("ngIf",c.access_groups.length)}}function Se(e,t){1&e&&(f.ac(0,"mat-icon",7),f.Tc(1,"text_fields"),f.Zb())}function Te(e,t){1&e&&(f.ac(0,"mat-icon",7),f.Tc(1,"insert_photo"),f.Zb())}function He(e,t){if(1&e&&(f.ac(0,"div",56),f.Rc(1,Se,2,0,"mat-icon",57),f.Rc(2,Te,2,0,"mat-icon",57),f.Zb()),2&e){var i=f.mc().row,c=f.mc(),n=f.Fc(25);f.uc("matMenuTriggerFor",n)("matMenuTriggerData",f.Ac(5,ne,i))("matTooltip",c.formatIndicatorTooltip(i)),f.Hb(1),f.uc("ngIf",i.isFont()),f.Hb(1),f.uc("ngIf",i.isImage())}}function Me(e,t){if(1&e&&(f.ac(0,"div",54),f.Rc(1,He,3,7,"div",55),f.Zb()),2&e){var i=t.row,c=f.mc();f.Hb(1),f.uc("ngIf",c.getFileSettings(i).length>0)}}function Re(e,t){if(1&e&&(f.ac(0,"button",59),f.ac(1,"mat-icon"),f.Tc(2,"more_vert"),f.Zb(),f.Zb()),2&e){var i=f.mc().row,c=f.mc(),n=f.Fc(25);f.uc("matMenuTriggerFor",n)("matMenuTriggerData",f.Ac(3,ne,i))("disabled",c.isMultiSelect)}}function Ce(e,t){if(1&e&&(f.ac(0,"div",54),f.Rc(1,Re,3,5,"button",58),f.Zb()),2&e){var i=t.row,c=f.mc();f.Hb(1),f.uc("ngIf",c.showFileMenu(i))}}function Fe(e,t){1&e&&(f.ac(0,"div",60),f.ac(1,"span"),f.Tc(2),f.nc(3,"translate"),f.Zb(),f.Zb()),2&e&&(f.Hb(2),f.Uc(f.oc(3,1,"No data")))}function Ie(e,t){if(1&e){var i=f.bc();f.ac(0,"button",61),f.ic("click",(function(e){f.Jc(i);var c=t.mediafile,n=t.action;return f.mc().onManageButton(e,c,n)})),f.ac(1,"mat-icon",62),f.Tc(2),f.Zb(),f.ac(3,"span"),f.Tc(4),f.Zb(),f.Zb()}if(2&e){var c=t.mediafile,n=t.action,a=f.mc();f.Hb(2),f.Vc(" ",a.isUsedAs(c,n)?"check_box":"check_box_outline_blank"," "),f.Hb(2),f.Uc(a.getNameOfAction(n))}}function Oe(e,t){1&e&&f.Wb(0)}var De=function(e,t){return{mediafile:e,action:t}};function Ue(e,t){if(1&e&&(f.ac(0,"div"),f.Rc(1,Oe,1,0,"ng-container",65),f.Zb()),2&e){var i=t.$implicit,c=f.mc(3).mediafile;f.mc();var n=f.Fc(23);f.Hb(1),f.uc("ngTemplateOutlet",n)("ngTemplateOutletContext",f.Bc(2,De,c,i))}}function xe(e,t){if(1&e&&(f.ac(0,"div"),f.Rc(1,Ue,2,5,"div",41),f.Zb()),2&e){var i=f.mc(3);f.Hb(1),f.uc("ngForOf",i.logoActions)}}function Ae(e,t){1&e&&f.Wb(0)}function Pe(e,t){if(1&e&&(f.ac(0,"div"),f.Rc(1,Ae,1,0,"ng-container",65),f.Zb()),2&e){var i=t.$implicit,c=f.mc(3).mediafile;f.mc();var n=f.Fc(23);f.Hb(1),f.uc("ngTemplateOutlet",n)("ngTemplateOutletContext",f.Bc(2,De,c,i))}}function je(e,t){if(1&e&&(f.ac(0,"div"),f.Rc(1,Pe,2,5,"div",41),f.Zb()),2&e){var i=f.mc(3);f.Hb(1),f.uc("ngForOf",i.fontActions)}}function Ee(e,t){1&e&&f.Vb(0,"mat-divider")}function Be(e,t){if(1&e&&(f.ac(0,"div"),f.Rc(1,xe,2,1,"div",19),f.Rc(2,je,2,1,"div",19),f.Rc(3,Ee,1,0,"mat-divider",19),f.Zb()),2&e){var i=f.mc().mediafile;f.Hb(1),f.uc("ngIf",i.isImage()),f.Hb(1),f.uc("ngIf",i.isFont()),f.Hb(1),f.uc("ngIf",i.isFont()||i.isImage())}}function Le(e,t){if(1&e&&f.Vb(0,"os-projector-button",66),2&e){var i=f.mc().mediafile;f.uc("object",i)("menuItem",!0)}}function Ne(e,t){if(1&e){var i=f.bc();f.ac(0,"div"),f.ac(1,"button",61),f.ic("click",(function(){f.Jc(i);var e=f.mc().mediafile;return f.mc().onEditFile(e)})),f.ac(2,"mat-icon"),f.Tc(3,"edit"),f.Zb(),f.ac(4,"span"),f.Tc(5),f.nc(6,"translate"),f.Zb(),f.Zb(),f.ac(7,"button",61),f.ic("click",(function(){f.Jc(i);var e=f.mc().mediafile,t=f.mc(),c=f.Fc(36);return t.move(c,[e])})),f.ac(8,"mat-icon"),f.Tc(9,"near_me"),f.Zb(),f.ac(10,"span"),f.Tc(11),f.nc(12,"translate"),f.Zb(),f.Zb(),f.ac(13,"button",67),f.ic("click",(function(){f.Jc(i);var e=f.mc().mediafile;return f.mc().onDelete(e)})),f.ac(14,"mat-icon"),f.Tc(15,"delete"),f.Zb(),f.ac(16,"span"),f.Tc(17),f.nc(18,"translate"),f.Zb(),f.Zb(),f.Zb()}2&e&&(f.Hb(5),f.Uc(f.oc(6,3,"Edit")),f.Hb(6),f.Uc(f.oc(12,5,"Move")),f.Hb(6),f.Uc(f.oc(18,7,"Delete")))}function Ve(e,t){if(1&e&&(f.Rc(0,Be,4,3,"div",63),f.Rc(1,Le,1,2,"os-projector-button",64),f.Rc(2,Ne,19,9,"div",19)),2&e){var i=t.mediafile,c=f.mc();f.uc("osPerms","core.can_manage_logos_and_fonts"),f.Hb(1),f.uc("ngIf",i.isProjectable()),f.Hb(1),f.uc("ngIf",c.canEdit)}}function Je(e,t){if(1&e){var i=f.bc();f.ac(0,"button",61),f.ic("click",(function(){return f.Jc(i),f.mc(2).toggleMultiSelect()})),f.ac(1,"mat-icon"),f.Tc(2,"library_add"),f.Zb(),f.ac(3,"span"),f.Tc(4),f.nc(5,"translate"),f.Zb(),f.Zb()}2&e&&(f.Hb(4),f.Uc(f.oc(5,1,"Multiselect")))}function ze(e,t){1&e&&(f.ac(0,"div"),f.Rc(1,Je,6,3,"button",68),f.Zb()),2&e&&(f.Hb(1),f.uc("osPerms","mediafiles.can_manage"))}function Ge(e,t){if(1&e){var i=f.bc();f.ac(0,"button",69),f.ic("click",(function(){return f.Jc(i),f.mc(2).deleteSelected()})),f.ac(1,"mat-icon",71),f.Tc(2,"delete"),f.Zb(),f.ac(3,"span"),f.Tc(4),f.nc(5,"translate"),f.Zb(),f.Zb()}if(2&e){var c=f.mc(2);f.uc("disabled",!c.selectedRows.length),f.Hb(4),f.Uc(f.oc(5,2,"Delete"))}}function We(e,t){if(1&e){var i=f.bc();f.ac(0,"div"),f.ac(1,"button",69),f.ic("click",(function(){f.Jc(i);var e=f.mc(),t=f.Fc(36);return e.move(t,e.selectedRows)})),f.ac(2,"mat-icon"),f.Tc(3,"near_me"),f.Zb(),f.ac(4,"span"),f.Tc(5),f.nc(6,"translate"),f.Zb(),f.Zb(),f.Vb(7,"mat-divider"),f.ac(8,"button",61),f.ic("click",(function(){return f.Jc(i),f.mc().selectAll()})),f.ac(9,"mat-icon"),f.Tc(10,"done_all"),f.Zb(),f.ac(11,"span"),f.Tc(12),f.nc(13,"translate"),f.Zb(),f.Zb(),f.ac(14,"button",69),f.ic("click",(function(){return f.Jc(i),f.mc().deselectAll()})),f.ac(15,"mat-icon"),f.Tc(16,"clear"),f.Zb(),f.ac(17,"span"),f.Tc(18),f.nc(19,"translate"),f.Zb(),f.Zb(),f.Vb(20,"mat-divider"),f.Rc(21,Ge,6,4,"button",70),f.Zb()}if(2&e){var c=f.mc();f.Hb(1),f.uc("disabled",!c.selectedRows.length),f.Hb(4),f.Uc(f.oc(6,6,"Move")),f.Hb(7),f.Uc(f.oc(13,8,"Select all")),f.Hb(2),f.uc("disabled",!c.selectedRows.length),f.Hb(4),f.Uc(f.oc(19,10,"Deselect all")),f.Hb(3),f.uc("osPerms","mediafiles.can_manage")}}function qe(e,t){1&e&&(f.ac(0,"mat-error"),f.Tc(1),f.nc(2,"translate"),f.Zb()),2&e&&(f.Hb(1),f.Uc(f.oc(2,1,"Required")))}function $e(e,t){if(1&e){var i=f.bc();f.ac(0,"h1",72),f.Tc(1),f.nc(2,"translate"),f.Zb(),f.ac(3,"div",73),f.ac(4,"form",74),f.ac(5,"mat-form-field"),f.Vb(6,"input",75),f.nc(7,"translate"),f.Rc(8,qe,3,3,"mat-error",19),f.Zb(),f.ac(9,"mat-form-field"),f.Vb(10,"os-search-value-selector",76),f.nc(11,"translate"),f.Zb(),f.Zb(),f.Zb(),f.ac(12,"div",77),f.ac(13,"button",78),f.ic("click",(function(){f.Jc(i);var e=f.mc();return e.onSaveEditedFile(e.fileEditForm.value)})),f.ac(14,"span"),f.Tc(15),f.nc(16,"translate"),f.Zb(),f.Zb(),f.ac(17,"button",79),f.ac(18,"span"),f.Tc(19),f.nc(20,"translate"),f.Zb(),f.Zb(),f.Zb()}if(2&e){var c=f.mc();f.Hb(1),f.Uc(f.oc(2,11,"Edit details for")),f.Hb(3),f.uc("formGroup",c.fileEditForm),f.Hb(2),f.vc("placeholder",f.oc(7,13,"New file name")),f.Hb(2),f.uc("ngIf",c.fileEditForm.invalid),f.Hb(2),f.vc("placeholder",f.oc(11,15,"Access groups")),f.uc("multiple",!0)("inputListValues",c.groupsBehaviorSubject),f.Hb(3),f.uc("disabled",!c.fileEditForm.valid),f.Hb(2),f.Uc(f.oc(16,17,"Save")),f.Hb(2),f.uc("mat-dialog-close",null),f.Hb(2),f.Uc(f.oc(20,19,"Cancel"))}}function Ke(e,t){if(1&e&&(f.ac(0,"h1",72),f.Tc(1),f.nc(2,"translate"),f.Zb(),f.ac(3,"div",73),f.ac(4,"form",74),f.ac(5,"p"),f.Tc(6),f.nc(7,"translate"),f.Zb(),f.ac(8,"mat-form-field"),f.Vb(9,"input",80),f.nc(10,"translate"),f.Zb(),f.ac(11,"mat-form-field"),f.Vb(12,"os-search-value-selector",76),f.nc(13,"translate"),f.Zb(),f.Zb(),f.Zb(),f.ac(14,"div",77),f.ac(15,"button",81),f.ac(16,"span"),f.Tc(17),f.nc(18,"translate"),f.Zb(),f.Zb(),f.ac(19,"button",79),f.ac(20,"span"),f.Tc(21),f.nc(22,"translate"),f.Zb(),f.Zb(),f.Zb()),2&e){var i=f.mc();f.Hb(1),f.Uc(f.oc(2,12,"New directory")),f.Hb(3),f.uc("formGroup",i.newDirectoryForm),f.Hb(2),f.Uc(f.oc(7,14,"Please enter a name for the new directory:")),f.Hb(3),f.vc("placeholder",f.oc(10,16,"Title")),f.Hb(3),f.vc("placeholder",f.oc(13,18,"Access groups")),f.uc("multiple",!0)("inputListValues",i.groupsBehaviorSubject),f.Hb(3),f.uc("disabled",!i.newDirectoryForm.valid)("mat-dialog-close",!0),f.Hb(2),f.Uc(f.oc(18,20,"Save")),f.Hb(2),f.uc("mat-dialog-close",null),f.Hb(2),f.Uc(f.oc(22,22,"Cancel"))}}function Xe(e,t){if(1&e&&(f.ac(0,"h1",72),f.ac(1,"span"),f.Tc(2),f.nc(3,"translate"),f.Zb(),f.Zb(),f.ac(4,"div",82),f.ac(5,"p"),f.Tc(6),f.nc(7,"translate"),f.Zb(),f.ac(8,"mat-form-field"),f.Vb(9,"os-search-value-selector",83),f.nc(10,"translate"),f.Zb(),f.Zb(),f.ac(11,"div",77),f.ac(12,"button",84),f.ac(13,"span"),f.Tc(14),f.nc(15,"translate"),f.Zb(),f.Zb(),f.ac(16,"button",79),f.ac(17,"span"),f.Tc(18),f.nc(19,"translate"),f.Zb(),f.Zb(),f.Zb()),2&e){var i=f.mc();f.Hb(2),f.Uc(f.oc(3,11,"Move into directory")),f.Hb(2),f.uc("formGroup",i.moveForm),f.Hb(2),f.Uc(f.oc(7,13,"Please select the directory:")),f.Hb(3),f.vc("placeholder",f.oc(10,15,"Parent directory")),f.uc("includeNone",!0)("noneTitle","Base folder")("inputListValues",i.filteredDirectoryBehaviorSubject),f.Hb(3),f.uc("mat-dialog-close",!0),f.Hb(2),f.Uc(f.oc(15,17,"Move")),f.Hb(2),f.uc("mat-dialog-close",null),f.Hb(2),f.Uc(f.oc(19,19,"Cancel"))}}var Ye,Qe,et,tt=[{path:"",redirectTo:"files",pathMatch:"full"},{path:"files",children:[{path:"**",component:(Ye=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,c,n,a,r,o,l,s,u,f,b,d,m,p,g,h,v){var y,k;return _classCallCheck(this,i),(k=t.call(this,e,c,n,a)).translate=c,k.route=r,k.router=o,k.repo=l,k.mediaManage=s,k.promptService=u,k.vp=f,k.sortService=b,k.operator=d,k.dialog=m,k.fb=p,k.formBuilder=g,k.groupRepo=h,k.cd=v,k.filteredDirectoryBehaviorSubject=new T.a([]),k.tableColumnDefinition=[{prop:"selection",width:"40px"},{prop:"icon",label:"",width:"40px"},{prop:"title",width:"auto",minWidth:60},{prop:"info",width:"20%",minWidth:60},{prop:"indicator",label:"",width:"40px"},{prop:"menu",label:"",width:"40px"}],k.columnSet=(y=Object(S.p)()).table.apply(y,_toConsumableArray(k.tableColumnDefinition)).build(),k.directoryObservable=new H.a,k.canMultiSelect=!0,k.newDirectoryForm=k.formBuilder.group({title:["",w.G.required],access_groups_id:[]}),k.moveForm=k.formBuilder.group({directory_id:[]}),k.directoryBehaviorSubject=k.repo.getDirectoryBehaviorSubject(),k.groupsBehaviorSubject=k.groupRepo.getViewModelListBehaviorSubject(),k}return _createClass(i,[{key:"ngOnInit",value:function(){var e=this;_get(_getPrototypeOf(i.prototype),"setTitle",this).call(this,"Files"),this.repo.getDirectoryIdByPath(this.route.snapshot.url.map((function(e){return e.path}))).then((function(t){e.changeDirectory(t)})),this.mediaManage.getLogoActions().subscribe((function(t){e.logoActions=t})),this.mediaManage.getFontActions().subscribe((function(t){e.fontActions=t})),this.createDataSource()}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(i.prototype),"ngOnDestroy",this).call(this),this.clearSubscriptions(),this.cd.detach()}},{key:"showFileMenu",value:function(e){return e.isProjectable()&&this.operator.hasPerms(l.b.coreCanManageProjector)||e.isFont()&&this.operator.hasPerms(l.b.coreCanManageLogosAndFonts)||e.isImage()&&this.operator.hasPerms(l.b.coreCanManageLogosAndFonts)||this.canEdit}},{key:"getDateFromTimestamp",value:function(e){return new Date(e).toLocaleString(this.translate.currentLang)}},{key:"createDataSource",value:function(){var e=this;this.dataSource=Object(S.q)().onTrigger((function(){return e.directoryObservable})).create(),this.dataSource.selection.changed.subscribe((function(t){e.selectedRows=t.source.selected}))}},{key:"changeDirectory",value:function(e){var t=this;this.clearSubscriptions(),this.directoryObservable=this.repo.getListObservableDirectory(e),this.folderSubscription=this.directoryObservable.subscribe((function(e){e&&(t.dataSource.refresh(),t.cd.markForCheck())})),e?this.directorySubscription=this.repo.getViewModelObservable(e).subscribe((function(e){t.directory=e,e?(t.directoryChain=e.getDirectoryChain(),t.router.navigate(["/mediafiles/files/"+e.path],{replaceUrl:!0})):(t.directoryChain=[],t.router.navigate(["/mediafiles/files/"],{replaceUrl:!0}))})):(this.directory=null,this.directoryChain=[],this.router.navigate(["/mediafiles/files/"],{replaceUrl:!0}))}},{key:"onMainEvent",value:function(){this.router.navigate(["/mediafiles/upload/"+(this.directory?this.directory.path:"")])}},{key:"onEditFile",value:function(e){var t=this;this.isMultiSelect||(this.fileToEdit=e,this.fileEditForm=this.fb.group({title:[e.filename,w.G.required],access_groups_id:[e.access_groups_id]}),this.dialogRef=this.dialog.open(this.fileEditDialog,x.a),this.dialogRef.keydownEvents().subscribe((function(e){"Enter"===e.key&&e.shiftKey&&t.fileEditForm.valid&&t.onSaveEditedFile(t.fileEditForm.value)})))}},{key:"onSaveEditedFile",value:function(e){var t=this;this.repo.update(e,this.fileToEdit).then((function(){t.dialogRef.close()}),this.raiseError)}},{key:"onDelete",value:function(e){return Object(_.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.translate.instant("Are you sure you want to delete this file?"),c=e.getTitle(),t.next=3,this.promptService.open(i,c);case 3:if(t.t0=t.sent,!t.t0){t.next=6;break}this.repo.delete(e);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"deleteSelected",value:function(){return Object(_.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.translate.instant("Are you sure you want to delete all selected files and folders?"),e.next=3,this.promptService.open(t);case 3:if(e.t0=e.sent,!e.t0){e.next=8;break}return e.next=7,this.repo.bulkDelete(this.selectedRows);case 7:this.deselectAll();case 8:case"end":return e.stop()}}),e,this)})))}},{key:"getNameOfAction",value:function(e){return this.translate.instant(this.mediaManage.getMediaConfig(e).display_name)}},{key:"formatIndicatorTooltip",value:function(e){var t=this;return this.getFileSettings(e).map((function(e){return t.getNameOfAction(e)})).join("\n")}},{key:"isUsedAs",value:function(e,t){var i=this.mediaManage.getMediaConfig(t);return!!i&&i.path===e.url}},{key:"getFileSettings",value:function(e){var t=this,i=[];return e&&(e.isFont()?i=this.fontActions.filter((function(i){return t.isUsedAs(e,i)})):e.isImage()&&(i=this.logoActions.filter((function(i){return t.isUsedAs(e,i)})))),i}},{key:"onManageButton",value:function(e,t,i){var c=this;e.stopPropagation(),this.mediaManage.setAs(t,i).then((function(){c.cd.markForCheck()}))}},{key:"createNewFolder",value:function(e){var t=this;this.newDirectoryForm.reset(),this.dialog.open(e,x.a).afterClosed().subscribe((function(e){if(e){var i=new U.a(Object.assign(Object.assign({},t.newDirectoryForm.value),{parent_id:t.directory?t.directory.id:null,is_directory:!0}));t.repo.create(i).catch(t.raiseError)}}))}},{key:"move",value:function(e,t){var i=this;this.moveForm.reset(),t.some((function(e){return e.is_directory}))?this.filteredDirectoryBehaviorSubject.next(this.directoryBehaviorSubject.value.filter((function(e){return!t.some((function(t){return e.path.startsWith(t.path)}))}))):this.filteredDirectoryBehaviorSubject.next(this.directoryBehaviorSubject.value),this.dialog.open(e,x.a).afterClosed().subscribe((function(e){e&&i.repo.move(t,i.moveForm.value.directory_id).then((function(){i.dataSource.selection.clear(),i.cd.markForCheck()}),i.raiseError)}))}},{key:"onSelectRow",value:function(e){if(this.isMultiSelect){var t=e.row;this.dataSource.selection.isSelected(t)?this.dataSource.selection.deselect(t):this.dataSource.selection.select(t)}}},{key:"clearSubscriptions",value:function(){this.folderSubscription&&(this.folderSubscription.unsubscribe(),this.folderSubscription=null),this.directorySubscription&&(this.directorySubscription.unsubscribe(),this.directorySubscription=null)}},{key:"canEdit",get:function(){return this.operator.hasPerms(l.b.mediafilesCanManage)}},{key:"canAccessFileMenu",get:function(){return this.operator.hasPerms(l.b.coreCanManageProjector)||this.operator.hasPerms(l.b.agendaCanSeeListOfSpeakers)||this.operator.hasPerms(l.b.coreCanManageLogosAndFonts)||this.canEdit}},{key:"hiddenColumns",get:function(){var e=[];return this.canEdit||e.push("info"),this.isMultiSelect||e.push("selection"),this.canAccessFileMenu||e.push("menu"),e}}]),i}(A.a),Ye.\u0275fac=function(e){return new(e||Ye)(f.Ub(b.d),f.Ub(d.k),f.Ub(m.a),f.Ub(M.a),f.Ub(o.a),f.Ub(o.f),f.Ub(s.a),f.Ub(I),f.Ub(O.a),f.Ub(D.a),f.Ub(E),f.Ub(l.a),f.Ub(B.b),f.Ub(w.f),f.Ub(w.f),f.Ub(R.a),f.Ub(f.h))},Ye.\u0275cmp=f.Ob({type:Ye,selectors:[["os-mediafile-list"]],viewQuery:function(e,t){var i;1&e&&(f.Pc(Y,!0),f.Pc(Q,!0)),2&e&&(f.Ec(i=f.jc())&&(t.fileEditForm=i.first),f.Ec(i=f.jc())&&(t.fileEditDialog=i.first))},features:[f.Eb],decls:37,vars:20,consts:[[3,"hasMainButton","multiSelectMode","mainEvent"],[1,"title-slot"],["class","menu-slot",4,"osPerms"],["class","central-info-slot",4,"ngIf"],[1,"custom-table-header"],[1,"folder-nav-bar","h-scroller"],["mat-button","",1,"folder",3,"disabled","click"],[1,"file-icon"],["class","folder-section",4,"ngFor","ngForOf"],["class","visibility",4,"ngIf"],["showHeader","false","vScrollAuto","","matCheckboxSelection","selection",1,"file-manager-table",3,"dataSource","columns","hideColumns","rowClick"],["class","fill clickable",4,"pblNgridCellDef"],["class","fill clickable",3,"click",4,"pblNgridCellDef"],["class","fill",4,"pblNgridCellDef"],["class","pbl-ngrid-no-data",4,"pblNgridNoDataRef"],["manageButton",""],["singleMediafileMenu","matMenu"],["matMenuContent",""],["mediafilesMenu","matMenu"],[4,"ngIf"],["fileEditDialog",""],["newFolderDialog",""],["moveDialog",""],[1,"menu-slot"],["type","button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-icon-button","",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[1,"central-info-slot"],["mat-icon-button","",3,"click"],[1,"folder-section"],[1,"arrow"],["class","folder","mat-button","",3,"disabled","click",4,"ngIf"],["class","folder","mat-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled",4,"ngIf"],["class","folder fake-folder folder-text",4,"ngIf"],[1,"folder-text"],["mat-button","",1,"folder",3,"matMenuTriggerFor","matMenuTriggerData","disabled"],["icon","arrow_drop_down","swap","true","size","large",3,"noWrap"],[1,"folder","fake-folder","folder-text"],[1,"visibility"],["mat-button","",1,"visible-for",3,"click"],["icon","group",3,"matTooltip"],[4,"ngFor","ngForOf"],[1,"fill","clickable"],["class","detail-link","target","_blank",3,"routerLink",4,"ngIf"],["class","detail-link",3,"click",4,"ngIf"],["target","_blank",1,"detail-link",3,"routerLink"],[1,"detail-link",3,"click"],[1,"innerTable"],[1,"file-title","ellipsis-overflow"],["class","info-text",4,"ngIf"],[1,"info-text"],[1,"fill","clickable",3,"click"],["icon","group",4,"ngIf"],["icon","group"],[1,"fill"],[3,"matMenuTriggerFor","matMenuTriggerData","matTooltip",4,"ngIf"],[3,"matMenuTriggerFor","matMenuTriggerData","matTooltip"],["class","file-icon",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor","matMenuTriggerData","disabled"],[1,"pbl-ngrid-no-data"],["mat-menu-item","",3,"click"],["color","accent"],[4,"osPerms"],[3,"object","menuItem",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"object","menuItem"],["mat-menu-item","",1,"red-warning-text",3,"click"],["mat-menu-item","",3,"click",4,"osPerms"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"disabled","click",4,"osPerms"],["color","warn"],["mat-dialog-title",""],["mat-dialog-content","",1,"os-form-card-mobile"],[1,"edit-file-form",3,"formGroup"],["type","text","matInput","","osAutofocus","","required","","formControlName","title",3,"placeholder"],["formControlName","access_groups_id",3,"multiple","placeholder","inputListValues"],["mat-dialog-actions",""],["type","submit","mat-button","","color","accent",3,"disabled","click"],["type","button","mat-button","",3,"mat-dialog-close"],["matInput","","osAutofocus","","formControlName","title","required","",3,"placeholder"],["type","submit","mat-button","","color","accent",3,"disabled","mat-dialog-close"],["mat-dialog-content","",1,"os-form-card-mobile",3,"formGroup"],["formControlName","directory_id",3,"includeNone","noneTitle","placeholder","inputListValues"],["type","submit","mat-button","","color","accent",3,"mat-dialog-close"]],template:function(e,t){1&e&&(f.ac(0,"os-head-bar",0),f.ic("mainEvent",(function(){return t.onMainEvent()})),f.ac(1,"div",1),f.ac(2,"h2"),f.Tc(3),f.nc(4,"translate"),f.Zb(),f.Zb(),f.Rc(5,te,5,2,"div",2),f.Rc(6,ie,9,4,"div",3),f.Zb(),f.ac(7,"div"),f.ac(8,"div",4),f.ac(9,"span",5),f.ac(10,"button",6),f.ic("click",(function(){return t.changeDirectory(null)})),f.ac(11,"mat-icon",7),f.Tc(12,"home"),f.Zb(),f.Zb(),f.Rc(13,oe,7,3,"span",8),f.Zb(),f.Rc(14,fe,6,8,"span",9),f.Zb(),f.Zb(),f.ac(15,"pbl-ngrid",10),f.ic("rowClick",(function(e){return t.onSelectRow(e)})),f.Rc(16,me,5,3,"div",11),f.Rc(17,ve,7,4,"div",11),f.Rc(18,we,2,1,"div",12),f.Rc(19,Me,2,1,"div",13),f.Rc(20,Ce,2,1,"div",13),f.Rc(21,Fe,4,3,"div",14),f.Zb(),f.Rc(22,Ie,5,2,"ng-template",null,15,f.Sc),f.ac(24,"mat-menu",null,16),f.Rc(26,Ve,3,3,"ng-template",17),f.Zb(),f.ac(27,"mat-menu",null,18),f.Rc(29,ze,2,1,"div",19),f.Rc(30,We,22,12,"div",19),f.Zb(),f.Rc(31,$e,21,21,"ng-template",null,20,f.Sc),f.Rc(33,Ke,23,24,"ng-template",null,21,f.Sc),f.Rc(35,Xe,20,21,"ng-template",null,22,f.Sc)),2&e&&(f.uc("hasMainButton",t.canEdit)("multiSelectMode",t.isMultiSelect),f.Hb(3),f.Uc(f.oc(4,18,"Files")),f.Hb(2),f.uc("osPerms","mediafiles.can_manage"),f.Hb(1),f.uc("ngIf",t.isMultiSelect),f.Hb(4),f.uc("disabled",t.isMultiSelect),f.Hb(3),f.uc("ngForOf",t.directoryChain),f.Hb(1),f.uc("ngIf",t.canEdit&&t.directory&&t.directory.has_inherited_access_groups),f.Hb(1),f.uc("dataSource",t.dataSource)("columns",t.columnSet)("hideColumns",t.hiddenColumns),f.Hb(1),f.uc("pblNgridCellDef","icon"),f.Hb(1),f.uc("pblNgridCellDef","title"),f.Hb(1),f.uc("pblNgridCellDef","info"),f.Hb(1),f.uc("pblNgridCellDef","indicator"),f.Hb(1),f.uc("pblNgridCellDef","menu"),f.Hb(9),f.uc("ngIf",!t.isMultiSelect),f.Hb(1),f.uc("ngIf",t.isMultiSelect))},directives:[p.a,L.a,r.t,g.b,v.a,r.s,S.e,S.A,N.b,V.b,S.c,S.l,h.f,h.b,h.e,J.a,z.c,o.i,h.c,r.A,G.a,W.a,B.i,B.f,w.I,w.t,w.k,q.c,$.b,w.c,K.a,w.D,w.s,w.i,X.a,B.c,B.d,q.b],pipes:[d.j,r.E],styles:[".title-line{font-weight:500;font-size:16px}.title-line .icon-prefix .mat-icon{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;font-size:16px;height:16px;width:16px}.title-line .favorite-star{padding-right:3px}.mat-table{width:100%}.mat-table .mat-header-row .mat-column-anchor{display:none}.mat-table .mat-row{position:relative}.mat-table .mat-row .mat-column-anchor{position:absolute!important;top:0;right:0;bottom:0;left:0;opacity:.1;z-index:1}.mat-table .mat-row .mat-column-anchor a{display:block;height:100%;width:100%}.mat-table .mat-cell{position:relative}.mat-table .mat-cell .fill{position:absolute;display:inherit;height:100%;width:100%;line-height:0}.mat-table .mat-cell .fill *{margin-top:auto;margin-bottom:auto}.mat-table .mat-cell>*{z-index:2}.mat-table .mat-table-sticky{z-index:3!important}.folder-nav-bar{width:100%}.folder-nav-bar,.folder-section{display:-ms-flexbox;display:flex}.folder-section{white-space:nowrap}.folder-section .mat-button{padding:0}.arrow{height:64px}.arrow .mat-icon{line-height:64px;height:64px}.folder{height:64px}.folder>.content-node{white-space:nowrap}.fake-folder{padding:0 16px}.folder-text{font-size:16px;font-weight:500;margin:auto 5px;overflow:hidden}.visibility{display:-ms-flexbox;display:flex}.visibility .visible-for{width:-webkit-min-content;width:-moz-min-content;width:min-content}.file-manager-table{display:block;height:calc(100vh - 130px)}.file-manager-table .file-title{font-weight:500;font-size:16px}.file-manager-table .info-text{font-size:90%}.file-manager-table .pbl-ngrid-row,.file-manager-table .pbl-ngrid-row .pbl-ngrid-cell{height:60px!important}.file-manager-table .pbl-ngrid-row:last-of-type{margin-bottom:60px!important}"],encapsulation:2,changeDetection:0}),Ye)}],pathMatch:"prefix"},{path:"upload",data:{basePerm:l.b.mediafilesCanManage},children:[{path:"**",component:Z}],pathMatch:"prefix"}],it=((Qe=function e(){_classCallCheck(this,e)}).\u0275mod=f.Sb({type:Qe}),Qe.\u0275inj=f.Rb({factory:function(e){return new(e||Qe)},imports:[[o.j.forChild(tt)],o.j]}),Qe),ct=i("PCNd"),nt=((et=function e(){_classCallCheck(this,e)}).\u0275mod=f.Sb({type:et}),et.\u0275inj=f.Rb({factory:function(e){return new(e||et)},imports:[[r.c,it,ct.a]]}),et)},F48D:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var c=i("mrSG"),n=i("LBBb"),a=i("fXoL"),r=i("0IaG"),o=function(){var e=function(){function e(t){_classCallCheck(this,e),this.dialog=t}return _createClass(e,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.dialog.open(n.a,{width:"250px",data:{title:e,content:t}}).afterClosed().toPromise());case 1:case"end":return i.stop()}}),i,this)})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.ec(r.b))},e.\u0275prov=a.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},LBBb:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var c=i("0IaG"),n=i("fXoL"),a=i("ofXK"),r=i("bTqV"),o=i("sYmb");function l(e,t){if(1&e&&(n.ac(0,"div"),n.ac(1,"h2",1),n.Tc(2),n.Zb(),n.Vb(3,"mat-dialog-content",2),n.ac(4,"mat-dialog-actions"),n.ac(5,"button",3),n.Tc(6),n.nc(7,"translate"),n.Zb(),n.ac(8,"button",4),n.Tc(9),n.nc(10,"translate"),n.Zb(),n.Zb(),n.Zb()),2&e){var i=n.mc();n.Hb(2),n.Uc(i.data.title),n.Hb(1),n.uc("innerHTML",i.data.content,n.Kc),n.Hb(2),n.uc("mat-dialog-close",!0),n.Hb(1),n.Uc(n.oc(7,6,"Yes")),n.Hb(2),n.uc("mat-dialog-close",!1),n.Hb(1),n.Uc(n.oc(10,8,"Cancel"))}}var s=function(){var e=function e(t,i){_classCallCheck(this,e),this.dialogRef=t,this.data=i};return e.\u0275fac=function(t){return new(t||e)(n.Ub(c.h),n.Ub(c.a))},e.\u0275cmp=n.Ob({type:e,selectors:[["os-prompt-dialog"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(e,t){1&e&&n.Rc(0,l,11,10,"div",0),2&e&&n.uc("ngIf",t.data)},directives:[a.t,c.i,c.f,c.c,r.b,c.d],pipes:[o.j],encapsulation:2}),e}()},wL0i:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var c=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,c,n,a){var r;return _classCallCheck(this,i),(r=t.call(this,e,c,n)).storage=a,r.canMultiSelect=!1,r._multiSelectMode=!1,r.singleButtonWidth="40px",r.badgeButtonWidth="45px",r.selectedRows=[],r}return _createClass(i,[{key:"onDataSourceChange",value:function(e){this.dataSource=e}},{key:"toggleMultiSelect",value:function(){!this.canMultiSelect||this.isMultiSelect?(this._multiSelectMode=!1,this.deselectAll()):this._multiSelectMode=!0}},{key:"selectAll",value:function(){var e;(e=this.dataSource.selection).select.apply(e,_toConsumableArray(this.dataSource.filteredData))}},{key:"deselectAll",value:function(){this.dataSource&&this.dataSource.selection.clear()}},{key:"isMultiSelect",get:function(){return this._multiSelectMode}}]),i}(i("mV3u").a)}}]);