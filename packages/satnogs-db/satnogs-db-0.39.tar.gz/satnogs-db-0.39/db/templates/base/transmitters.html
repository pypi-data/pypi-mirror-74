{% extends "base.html" %}
{% load staticfiles %}
{% load tags %}

{% block title %} - Transmitters List{% endblock %}

{% block css %}
  <link rel="stylesheet" href="{% static 'lib/bootstrap-table/dist/bootstrap-table.min.css' %}">
  <link rel="stylesheet" href="{% static 'lib/bootstrap-table/dist/extensions/filter-control/bootstrap-table-filter-control.min.css' %}">
{% endblock css %}

{% block content %}
  <div class="row trans">
    <table data-sortable="true"
           data-filter-control="true"
           data-search="true"
           data-show-columns="true"
           data-show-columns-search="true"
           id="transmitters-table">
        <thead>
            <tr>
                <th data-visible="false">UUID</th>
                <th data-sortable="true">Satellite</th>
                <th data-field="type"
                    data-sortable="true"
                    data-filter-control="select">Type</th>
                <th data-sortable="true">Description</th>
                <th data-sortable="true" data-sorter="freqSorter">Downlink</th>
                <th data-sortable="true" data-visible="false">Downlink Drift</th>
                <th data-sortable="true" data-visible="false">Uplink</th>
                <th data-sortable="true" data-visible="false">Uplink Drift</th>
                <th data-sortable="true" data-visible="false">Inverted</th>
                <th data-field="mode" data-filter-control="select">Mode</th>
                <th data-sortable="true">Baud</th>
                <th data-field="service"
                    data-sortable="true"
                    data-filter-control="select">Service</th>
                <th data-field="status"
                    data-sortable="true"
                    data-filter-control="select">Status</th>
            </tr>
        </thead>
        <tbody>
            {% for trans in transmitters %}
            <tr>
                <td>{{ trans.uuid }}</td>
                <td>
                  <a href="{% url 'satellite' norad=trans.satellite.norad_cat_id %}">
                    {{ trans.satellite }}
                  </a>
                </td>
                <td>{{ trans.type }}</td>
                <td>{{ trans.description }}</td>
                <td class="frequency">{{ trans.downlink_low | frq }}</td>
                <td>{{ trans.downlink_drift }}</td>
                <td class="frequency">{{ trans.uplink }}</td>
                <td>{{ trans.uplink_drift }}</td>
                <td>{{ trans.invert }}</td>
                <td>{{ trans.downlink_mode }}</td>
                <td>{{ trans.baud | floatformat }}</td>
                <td>{{ trans.service }}</td>
                <td>{{ trans.status }}</td>
            </tr>
            {% endfor %}
        </tbody>
      </table>
  </div>

{% endblock %}

{% block javascript %}
  <script src="{% static 'lib/bootstrap-table/dist/bootstrap-table.min.js' %}"></script>
  <script src="{% static 'lib/bootstrap-table/dist/extensions/filter-control/bootstrap-table-filter-control.min.js' %}"></script>
  <script src="{% static 'js/transmitters.js' %}"></script>
{% endblock %}
