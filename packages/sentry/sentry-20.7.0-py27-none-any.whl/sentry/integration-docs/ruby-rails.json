{
  "html": "<p>In Rails, all uncaught exceptions will be automatically reported.</p>\n\n<p>We support Rails 4 and newer.</p>\n\n<h3 id=\"installation\">Installation</h3>\n\n<p>Install the SDK via Rubygems by adding it to your <code class=\"highlighter-rouge\">Gemfile</code>:</p>\n\n<pre class=\"highlight\"><code><span class=\"n\">gem</span> <span class=\"s2\">\"sentry-raven\"</span>\n</code></pre>\n\n<h3 id=\"configuration\">Configuration</h3>\n\n<p>Open up <code class=\"highlighter-rouge\">config/application.rb</code> and configure the DSN, and any other <a href=\"https://docs.sentry.io/clients/ruby/config/\"><em>settings</em></a> you need:</p>\n\n<pre class=\"highlight\"><code><span class=\"no\">Raven</span><span class=\"p\">.</span><span class=\"nf\">configure</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">config</span><span class=\"o\">|</span>\n  <span class=\"n\">config</span><span class=\"p\">.</span><span class=\"nf\">dsn</span> <span class=\"o\">=</span> <span class=\"s1\">'___DSN___'</span>\n<span class=\"k\">end</span>\n</code></pre>\n\n<p>If you have added items to <a href=\"http://guides.rubyonrails.org/action_controller_overview.html#parameters-filtering\">Rails\u2019 log filtering</a>, you can also make sure that those items are not sent to Sentry:</p>\n\n<pre class=\"highlight\"><code><span class=\"c1\"># in your application.rb:</span>\n<span class=\"n\">config</span><span class=\"p\">.</span><span class=\"nf\">filter_parameters</span> <span class=\"o\">&lt;&lt;</span> <span class=\"ss\">:password</span>\n\n<span class=\"c1\"># in an initializer, like sentry.rb</span>\n<span class=\"no\">Raven</span><span class=\"p\">.</span><span class=\"nf\">configure</span> <span class=\"k\">do</span> <span class=\"o\">|</span><span class=\"n\">config</span><span class=\"o\">|</span>\n  <span class=\"n\">config</span><span class=\"p\">.</span><span class=\"nf\">sanitize_fields</span> <span class=\"o\">=</span> <span class=\"no\">Rails</span><span class=\"p\">.</span><span class=\"nf\">application</span><span class=\"p\">.</span><span class=\"nf\">config</span><span class=\"p\">.</span><span class=\"nf\">filter_parameters</span><span class=\"p\">.</span><span class=\"nf\">map</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"ss\">:to_s</span><span class=\"p\">)</span>\n<span class=\"k\">end</span>\n</code></pre>\n\n<h3 id=\"params-and-sessions\">Params and sessions</h3>\n\n<pre class=\"highlight\"><code><span class=\"k\">class</span> <span class=\"nc\">ApplicationController</span> <span class=\"o\">&lt;</span> <span class=\"no\">ActionController</span><span class=\"o\">::</span><span class=\"no\">Base</span>\n  <span class=\"n\">before_action</span> <span class=\"ss\">:set_raven_context</span>\n\n  <span class=\"kp\">private</span>\n\n  <span class=\"k\">def</span> <span class=\"nf\">set_raven_context</span>\n    <span class=\"no\">Raven</span><span class=\"p\">.</span><span class=\"nf\">user_context</span><span class=\"p\">(</span><span class=\"ss\">id: </span><span class=\"n\">session</span><span class=\"p\">[</span><span class=\"ss\">:current_user_id</span><span class=\"p\">])</span> <span class=\"c1\"># or anything else in session</span>\n    <span class=\"no\">Raven</span><span class=\"p\">.</span><span class=\"nf\">extra_context</span><span class=\"p\">(</span><span class=\"ss\">params: </span><span class=\"n\">params</span><span class=\"p\">.</span><span class=\"nf\">to_unsafe_h</span><span class=\"p\">,</span> <span class=\"ss\">url: </span><span class=\"n\">request</span><span class=\"p\">.</span><span class=\"nf\">url</span><span class=\"p\">)</span>\n  <span class=\"k\">end</span>\n<span class=\"k\">end</span>\n</code></pre>\n\n<h3 id=\"caveats\">Caveats</h3>\n\n<p>Currently, custom exception applications (<em>config.exceptions_app</em>) are not supported. If you are using a custom exception app, you must manually integrate Raven yourself.\n<!-- TODO-ADD-VERIFICATION-EXAMPLE -->\n</p>", 
  "link": "https://docs.sentry.io/clients/ruby/integrations/rails/", 
  "id": "ruby-rails", 
  "name": "Rails"
}
