(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[115],{1639:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(635),a=r.n(n),i=r(489);function o(e,t){var r,n,o,s,c=t.routes,l=t.params,u=t.location,f=t.stepBack,p=c.map((function(e){return e.path||""}));"string"!=typeof e?(s=c.indexOf(e)+1,o=a()(p.slice(0,s),(function(e){return"/"===e[0]}))):o=a()(p,(function(e){return"/"===e[0]}));var d=p.slice(o,s);void 0!==f&&(d=d.slice(0,f));var b=null!==(r=null==u?void 0:u.search)&&void 0!==r?r:"",h=null!==(n=null==u?void 0:u.hash)&&void 0!==n?n:"",g="".concat(d.join("")).concat("string"!=typeof e?"":e).concat(b).concat(h);return Object(i.a)(g,l)}},1654:function(e,t,r){"use strict";var n=r(5),a=r.n(n),i=r(15),o=r.n(i),s=(r(1),r(48)),c=r.n(s),l=r(0);function u(e){var t=e.underlined,r=e.className,n=o()(e,["underlined","className"]),i=c()("nav nav-tabs",r,{"border-bottom":t});return Object(l.f)("ul",a()({className:i},n))}u.displayName="NavTabs",t.a=u},1665:function(e,t,r){"use strict";var n=r(5),a=r.n(n),i=r(9),o=r.n(i),s=r(10),c=r.n(s),l=r(11),u=r.n(l),f=r(12),p=r.n(f),d=r(6),b=r.n(d),h=r(2),g=r.n(h),v=r(1),m=r.n(v),j=r(186),y=r.n(j),O=r(7),x=r(48),k=r.n(x),w=r(0);function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var D=function(e){u()(n,e);var t,r=(t=n,function(){var e,r=b()(t);if(S()){var n=b()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return p()(this,e)});function n(){var e;o()(this,n);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=r.call.apply(r,[this].concat(a))).isActive=function(){var t=e.props,r=t.isActive,n=t.to,a=t.query,i=t.index;return(r||e.context.router.isActive)({pathname:n,query:a},i)},e.getClassName=function(){var t={},r=e.props,n=r.className,a=r.activeClassName;return n&&(t[n]=!0),e.isActive()&&(t[a]=!0),k()(t)},e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.index,r=e.children,n=y()(this.props,"activeClassName","isActive","index");return Object(w.f)("li",{className:this.getClassName()},Object(w.f)(O.Link,a()({},n,{onlyActiveOnIndex:t}),r))}}]),n}(m.a.Component);D.displayName="ListLink",D.displayName="ListLink",D.contextTypes={router:g.a.object.isRequired},D.defaultProps={activeClassName:"active",index:!1},t.a=D},1722:function(e,t,r){"use strict";var n=r(15),a=r.n(n),i=r(4),o=r(2),s=r.n(o),c=(r(1),r(8)),l=r(25),u=r(0),f={new:l.a.red400,strong:l.a.blue400,highlight:l.a.green400},p=Object(i.a)((function(e){e.priority;var t=e.text,r=a()(e,["priority","text"]);return Object(u.f)("span",r,t)}),{target:"eee69uk0",label:"Badge"})("display:inline-block;height:20px;min-width:20px;line-height:20px;border-radius:20px;padding:0 5px;margin-left:",Object(c.a)(.5),";font-size:75%;font-weight:600;text-align:center;color:#fff;background:",(function(e){return e.priority?f[e.priority]:l.a.gray400}),";transition:background 100ms linear;position:relative;top:-1px;");p.propTypes={text:s.a.oneOfType([s.a.string,s.a.number]),priority:s.a.oneOf(["strong","new","highlight"])},t.a=p},1723:function(e,t,r){"use strict";r.d(t,"b",(function(){return y})),r.d(t,"a",(function(){return O}));var n=r(9),a=r.n(n),i=r(10),o=r.n(i),s=r(11),c=r.n(s),l=r(12),u=r.n(l),f=r(6),p=r.n(f),d=r(4),b=r(1),h=r.n(b),g=r(0),v=r(189),m=r(41);function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){c()(n,e);var t,r=(t=n,function(){var e,r=p()(t);if(j()){var n=p()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return u()(this,e)});function n(){return a()(this,n),r.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.users,n=e.avatarSize,a=e.maxVisibleAvatars,i=e.renderTooltip,o=e.typeMembers,s=e.tooltipOptions,c=r.slice(0,a),l=r.length-c.length;return s.position||(s.position="top"),Object(g.f)(O,{className:t},!!l&&Object(g.f)(m.a,{title:"".concat(l," other ").concat(o)},Object(g.f)(w,{size:n},l<99&&Object(g.f)(S,null,"+"),l)),c.map((function(e){return Object(g.f)(k,{key:"".concat(e.id,"-").concat(e.email),user:e,size:n,renderTooltip:i,tooltipOptions:s,hasTooltip:!0})})))}}]),n}(h.a.Component);y.displayName="AvatarList",y.defaultProps={avatarSize:28,maxVisibleAvatars:5,typeMembers:"users",tooltipOptions:{}};var O=Object(d.a)("div",{target:"e1mtf41h0",label:"AvatarListWrapper"})({name:"l256j9",styles:"display:flex;flex-direction:row-reverse;"}),x={name:"1truf70-Circle",styles:"border-radius:50%;border:2px solid white;margin-left:-8px;cursor:default;&:hover{z-index:1;};label:Circle;"},k=Object(d.a)(v.a,{target:"e1mtf41h1",label:"StyledAvatar"})("overflow:hidden;",x,";"),w=Object(d.a)("div",{target:"e1mtf41h2",label:"CollapsedUsers"})("display:flex;align-items:center;justify-content:center;position:relative;text-align:center;font-weight:600;background-color:",(function(e){return e.theme.gray300}),";color:",(function(e){return e.theme.gray500}),";font-size:",(function(e){return Math.floor(e.size/2.3)}),"px;width:",(function(e){return e.size}),"px;height:",(function(e){return e.size}),"px;",x,";"),S=Object(d.a)("span",{target:"e1mtf41h3",label:"Plus"})({name:"3427wc",styles:"font-size:10px;margin-left:1px;margin-right:-1px;"})},1724:function(e,t,r){"use strict";var n=r(5),a=r.n(n),i=r(4),o=r(1),s=r.n(o),c=r(0),l=function(e){var t=e.forwardRef,r=e.size,n=void 0===r?"sm":r,a=e.isActive,i=e.isLoading,o=e.isDisabled,s=e.toggle,l=e.id,u=e.name,f=e.className;return Object(c.f)(b,{ref:t,id:l,name:u,type:"button",className:f,onClick:o?void 0:s,role:"checkbox","aria-checked":a,isLoading:i,isDisabled:o,isActive:a,size:n,"data-test-id":"switch"},Object(c.f)(h,{isDisabled:o,isActive:a,size:n}))};l.displayName="Switch";var u=function(e){return"sm"===e.size?16:24},f=function(e){return u(e)-("sm"===e.size?6:10)},p=function(e){return"sm"===e.size?2:4},d=function(e){return e.isActive?p(e)+u(e):p(e)},b=Object(i.a)("button",{target:"ezmyi9u0",label:"SwitchButton"})("display:inline-block;background:none;padding:0;border:1px solid ",(function(e){return e.isActive?e.theme.borderDark:e.theme.borderLight}),";position:relative;box-shadow:inset 0 1px 1px rgba(0,0,0,0.04);transition:0.15s border ease;cursor:",(function(e){return e.isLoading||e.isDisabled?"not-allowed":"pointer"}),";pointer-events:",(function(e){return e.isLoading||e.isDisabled?"none":null}),";height:",u,"px;width:",(function(e){return 2*u(e)}),"px;border-radius:",u,"px;&:hover,&:focus{outline:none;border-color:",(function(e){return e.theme.borderDark}),";}&:focus,&.focus-visible{outline:none;box-shadow:rgba(209,202,216,0.5) 0 0 0 3px;}"),h=Object(i.a)("span",{target:"ezmyi9u1",label:"Toggle"})("display:block;position:absolute;border-radius:50%;transition:0.25s all ease;top:",p,"px;transform:translateX(",d,"px);width:",f,"px;height:",f,"px;background:",(function(e){return e.isActive?e.theme.green400:e.theme.gray400}),";opacity:",(function(e){return e.isDisabled?.4:null}),";");t.a=s.a.forwardRef((function(e,t){return Object(c.f)(l,a()({},e,{forwardRef:t}))}))},1727:function(e,t,r){"use strict";var n=r(5),a=r.n(n),i=r(15),o=r.n(i),s=r(9),c=r.n(s),l=r(10),u=r.n(l),f=r(11),p=r.n(f),d=r(12),b=r.n(d),h=r(6),g=r.n(h),v=r(1),m=r.n(v),j=r(48),y=r.n(j),O=r(283),x=r(0);function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=function(e){p()(n,e);var t,r=(t=n,function(){var e,r=g()(t);if(k()){var n=g()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return b()(this,e)});function n(){return c()(this,n),r.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.disabled,n=e.title,i=e.children,s=o()(e,["className","disabled","title","children"]);return Object(x.f)(O.a,a()({},s,{disabled:r}),Object(x.f)("a",{href:"#",className:y()(t||"",{disabled:r}),title:n},i))}}]),n}(m.a.PureComponent);w.displayName="LinkWithConfirmation",t.a=w},1778:function(e,t,r){"use strict";var n=r(4);function a(e){var t=e.level,r=void 0===t?"":t,n=e.theme,a={error:n.orange400,info:n.blue400,warning:n.orange300,fatal:n.red400,sample:n.purple400};return"background-color: ".concat(a[r]||n.orange400,";")}var i=Object(n.a)("span",{target:"e142pgwl0",label:"ErrorLevel"})("padding:0;position:relative;width:",(function(e){return e.size||"13px"}),";height:",(function(e){return e.size||"13px"}),";text-indent:-9999em;display:inline-block;border-radius:50%;flex-shrink:0;",a);t.a=i},1891:function(e,t,r){"use strict";var n=r(5),a=r.n(n),i=r(15),o=r.n(i),s=(r(1),r(48)),c=r.n(s),l=r(0),u=function(e){var t=e.responsive,r=void 0!==t&&t,n=e.center,i=void 0===n||n,s=e.children,u=e.className,f=o()(e,["responsive","center","children","className"]),p=c()("spread-layout",u,{center:i,"allow-responsive":r});return Object(l.f)("div",a()({},f,{className:p}),s)};u.displayName="SpreadLayout",t.a=u},1937:function(e,t,r){"use strict";var n=r(4),a=(r(1),r(1778)),i=r(85),o=r(8),s=r(0),c=function(e){var t=e.className,r=e.level,n=e.levelIndicatorSize,a=e.message,i=e.annotations;return Object(s.f)("div",{className:t},r&&Object(s.f)(u,{size:n,level:r},r),a&&Object(s.f)(f,null,a),i)};c.displayName="EventMessage";var l=Object(n.a)(c,{target:"e1vuddz00",label:"StyledEventMessage"})("display:flex;align-items:center;position:relative;line-height:1.2;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){margin-bottom:",Object(o.a)(2),";}"),u=Object(n.a)(a.a,{target:"e1vuddz01",label:"StyledErrorLevel"})("margin-right:",Object(o.a)(1),";"),f=Object(n.a)("span",{target:"e1vuddz02",label:"Message"})(i.a," width:auto;max-height:38px;");t.a=l},1945:function(e,t,r){"use strict";var n=r(4),a=r(1),i=r.n(a),o=r(48),s=r.n(o),c=r(46),l=r.n(c),u=r(3),f=r(18),p=r(142),d=r(1723),b=r(37),h=r(41),g=r(8),v=r(0),m=function(e){var t=e.avatarSize,r=void 0===t?28:t,n=e.seenBy,a=void 0===n?[]:n,o=e.iconTooltip,c=void 0===o?Object(u.b)("People who have viewed this"):o,g=e.maxVisibleAvatars,m=void 0===g?10:g,O=e.iconPosition,x=void 0===O?"left":O,k=e.className,w=b.default.get("user"),S=a.filter((function(e){return w.id!==e.id}));return 0===S.length?null:Object(v.f)(j,{iconPosition:x,className:s()("seen-by",k)},Object(v.f)(d.b,{users:S,avatarSize:r,maxVisibleAvatars:m,renderTooltip:function(e){return Object(v.f)(i.a.Fragment,null,Object(p.g)(e),Object(v.f)("br",null),l()(e.lastSeen).format("LL"))}}),Object(v.f)(y,{iconPosition:x},Object(v.f)(h.a,{title:c},Object(v.f)(f.lb,{size:"sm",color:"gray400"}))))};m.displayName="SeenByList";var j=Object(n.a)("div",{target:"e13v00xx0",label:"SeenByWrapper"})("display:flex;margin-top:15px;float:right;",(function(e){return"left"===e.iconPosition?"flex-direction: row-reverse":""}),";"),y=Object(n.a)("div",{target:"e13v00xx1",label:"IconWrapper"})("background-color:transparent;color:",(function(e){return e.theme.gray700}),";height:28px;width:24px;line-height:26px;text-align:center;padding-top:",Object(g.a)(.5),";",(function(e){return"left"===e.iconPosition?"margin-right: 10px":""}),";");t.a=m},1946:function(e,t,r){"use strict";var n=r(4),a=r(2),i=r.n(a),o=Object(n.a)("div",{target:"e1uibv5p0",label:"FlowLayout"})("display:flex;flex:1;align-items:center;flex-direction:",(function(e){return e.vertical?"column":null}),";justify-content:",(function(e){return e.center?"center":null}),";overflow:",(function(e){return e.truncate?"hidden":null}),";");o.propTypes={center:i.a.bool,vertical:i.a.bool,truncate:i.a.bool},o.defaultProps={truncate:!0},t.a=o},2885:function(e,t,r){"use strict";r.r(t);var n=r(5),a=r.n(n),i=r(15),o=r.n(i),s=r(9),c=r.n(s),l=r(10),u=r.n(l),f=r(11),p=r.n(f),d=r(12),b=r.n(d),h=r(6),g=r.n(h),v=r(1),m=r.n(v),j=r(34),y=r(389),O=r(80),x=r(20),k=r.n(x),w=r(16),S=r.n(w),D=r(28),N=r.n(D),R=r(282),C=r.n(R),z=r(2),P=r.n(z),A=r(7),I=r(45),L=r(372),T=r(223),U=r(65),M=r(3),E=r(640),B=r(66),q=r(187),_=r(52),F=r(288),G=r(166),W=r(1639),H=r(56),V="GROUP_NOT_FOUND",J=r(4),Y=r(186),Q=r.n(Y),X=r(491),$=r(828),K=r(384),Z=r(687),ee=r(1937),te=r(688),re=r(338),ne=r(1665),ae=r(1654),ie=r(393),oe=r(1945),se=r(673),ce=r(41),le=r(1722),ue=r(8),fe=r(29),pe=r.n(fe),de=r(32),be=r(107),he=r(175),ge=r(31),ve=r(152),me=r(1658),je=r(188),ye=r(643),Oe=r(87),xe=r(839),ke=r(18),we=r(104),Se=r(1727),De=r(75),Ne=r(840),Re=r(38),Ce=r.n(Re),ze=r(48),Pe=r.n(ze),Ae=r(385),Ie=r(651),Le=r(631),Te=r(283),Ue=r(1946),Me=r(1891),Ee=r(1724),Be=r(0);function qe(e){return function(){var t,r=g()(e);if(_e()){var n=g()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return b()(this,t)}}function _e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Fe=function(e){p()(r,e);var t=qe(r);function r(){var e;c()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleCopyClick=function(){e.urlRef&&Object(Ae.a)(Ce.a.findDOMNode(e.urlRef))},e.handleUrlMount=function(t){e.urlRef=t,e.urlRef&&Object(Ae.a)(Ce.a.findDOMNode(e.urlRef))},e}return u()(r,[{key:"render",value:function(){var e=this.props,t=e.isSharing,r=e.busy,n=e.shareUrl,a=e.onConfirming,i=e.onCancel,o=e.onShare,s=!r&&t?n:"Not shared";return Object(Be.f)(Ue.a,{style:{flex:"none",alignItems:"stretch",border:"1px solid ".concat("#dad5df"),borderRadius:4}},Object(Be.f)("div",{style:{position:"relative",display:"flex",flex:1,backgroundColor:t?"transparent":"#f9f7f9",borderRight:"1px solid ".concat("#dad5df"),maxWidth:288}},Object(Be.f)(Ie.a,{ref:this.handleUrlMount,style:{flex:1,border:"none",padding:"4px 6px 4px 10px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},s)),Object(Be.f)(Ue.a,{style:{alignItems:"stretch"}},Object(Be.f)(Le.a,{hideUnsupported:!0,value:s},Object(Be.f)(ge.a,{borderless:!0,size:"xsmall",onClick:this.handleCopyClick,style:{borderRadius:0,borderRight:"1px solid ".concat("#dad5df")}},Object(Be.f)(ke.p,null))),Object(Be.f)(Te.a,{message:Object(M.b)("You are about to regenerate a new shared URL. Your previously shared URL will no longer work. Do you want to continue?"),onCancel:i,onConfirming:a,onConfirm:o},Object(Be.f)(ge.a,{borderless:!0,size:"xsmall"},Object(Be.f)(ke.fb,null)))))}}]),r}(m.a.Component);Fe.displayName="ShareUrlContainer";var Ge=function(e){var t=e.children,r=o()(e,["children"]);return Object(Be.f)("h6",a()({},r,{style:{margin:0,paddingRight:30,whiteSpace:"nowrap"}}),t)};Ge.displayName="SmallHeading";var We=function(e){var t=e.active;return Object(Be.f)("span",{style:{display:"inline-block",marginRight:4,borderRadius:"50%",width:10,height:10,background:t?"#57be8c":"#dfdbe4"}})};We.displayName="IndicatorDot";var He=function(e){p()(r,e);var t=qe(r);function r(e){var n;return c()(this,r),(n=t.call(this,e)).handleToggleShare=function(e){e.preventDefault(),n.setState({busy:!0},(function(){return n.props.onToggle()}))},n.handleShare=function(){var e=n.props.onShare;n.setState({busy:!0},(function(){return e()})),n.hasConfirmModal=!1},n.handleOpen=function(){n.props.isSharing||n.handleShare()},n.handleConfirmCancel=function(){return n.hasConfirmModal=!1},n.handleConfirmReshare=function(){return n.hasConfirmModal=!0},n.hasConfirmModal=!1,n.state={busy:!1},n}return u()(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.state.busy||this.props.shareUrl===e.shareUrl&&this.props.isSharing===e.isSharing||this.setState({busy:!1})}},{key:"render",value:function(){var e=this,t=this.props,r=t.className,n=t.isSharing,i=this.state.busy,o=Pe()("share-issue btn-sm btn btn-default",r),s=Object(Be.f)("div",{style:{marginRight:4}},Object(Be.f)(Ue.a,{center:!0},Object(Be.f)(We,{active:n}),"Share"));return Object(Be.f)(ve.a,{className:o,shouldIgnoreClickOutside:function(){return e.hasConfirmModal},title:s,onOpen:this.handleOpen,keepMenuOpen:!0},Object(Be.f)("li",{style:{padding:"12px 18px"},ref:function(t){return e.container=t}},Object(Be.f)(Me.a,{style:{marginBottom:i||n?12:void 0}},Object(Be.f)(Ge,null,Object(M.b)("Enable public share link")),Object(Be.f)(Ee.a,{isActive:n,size:"sm",toggle:this.handleToggleShare})),i&&Object(Be.f)(Ue.a,{center:!0},Object(Be.f)(_.default,{mini:!0})),!i&&n&&Object(Be.f)(Fe,a()({},this.props,{onCancel:this.handleConfirmCancel,onConfirming:this.handleConfirmReshare,onShare:this.handleShare}))))}}]),r}(m.a.Component);He.displayName="ShareIssue";var Ve=He;function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){S()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Xe=function(e){p()(n,e);var t,r=(t=n,function(){var e,r=g()(t);if(Qe()){var n=g()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return b()(this,e)});function n(){var e;c()(this,n);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=r.call.apply(r,[this].concat(a))).renderDiscardDisabled=function(e){return(0,e.children)(Ye({},o()(e,["children"]),{renderDisabled:function(e){var t=e.features;return Object(Be.f)(ye.a,{alert:!0,featureName:"Discard and Delete",features:t})}}))},e.renderDiscardModal=function(t){var r=t.Body,n=t.closeModal;return Object(Be.f)(je.a,{features:["projects:discard-groups"],hookName:"feature-disabled:discard-groups",organization:e.props.organization,project:e.props.project,renderDisabled:e.renderDiscardDisabled},(function(t){var a=t.hasFeature,i=t.renderDisabled,s=o()(t,["hasFeature","renderDisabled"]);return Object(Be.f)(m.a.Fragment,null,Object(Be.f)(r,null,!a&&i(Ye({hasFeature:a},s)),Object(M.b)("Discarding this event will result in the deletion of most data associated with this issue and future events being discarded before reaching your stream. Are you sure you wish to continue?")),Object(Be.f)("div",{className:"modal-footer"},Object(Be.f)(ge.a,{onClick:n},Object(M.b)("Cancel")),Object(Be.f)(ge.a,{style:{marginLeft:Object(ue.a)(1)},priority:"primary",onClick:e.props.onDiscard,disabled:!a},Object(M.b)("Discard Future Events"))))}))},e.openDiscardModal=function(){Object(be.i)(e.renderDiscardModal),Object(j.a)("feature.discard_group.modal_opened",{org_id:parseInt(e.props.organization.id,10)})},e}return u()(n,[{key:"render",value:function(){return Object(Be.f)("div",{className:"btn-group"},Object(Be.f)(Se.a,{className:"group-remove btn btn-default btn-sm",title:Object(M.b)("Delete"),message:Object(M.b)("Deleting this issue is permanent. Are you sure you wish to continue?"),onConfirm:this.props.onDelete},Object(Be.f)(Ke,null,Object(Be.f)(ke.q,{size:"xs"}))),Object(Be.f)(ve.a,{caret:!0,className:"group-delete btn btn-default btn-sm"},Object(Be.f)(De.a,{onClick:this.openDiscardModal},Object(Be.f)("span",null,Object(M.b)("Delete and discard future events")))))}}]),n}(m.a.Component);Xe.displayName="DeleteActions";var $e=pe()({displayName:"GroupDetailsActions",getInitialState:function(){return{ignoreModal:null,shareBusy:!1}},getShareUrl:function(e,t){if(!e)return"";var r="/share/issue/".concat(e,"/");if(!t)return r;var n=window.location,a=n.host,i=n.protocol;return"".concat(i,"//").concat(a).concat(r)},getDiscoverUrl:function(){var e=this.props,t=e.group,r=e.project,n=e.organization,a={id:void 0,name:t.title||t.type,fields:["title","release","environment","user","timestamp"],orderby:"-timestamp",query:"issue.id:".concat(t.id),projects:[r.id],version:2,range:"90d"};return me.a.fromSavedQuery(a).getResultsViewUrlTarget(n.slug)},onDelete:function(){var e=this.props,t=e.group,r=e.project,n=e.organization;Object(de.b)(Object(M.b)("Delete event…")),this.props.api.bulkDelete({orgId:n.slug,projectId:r.slug,itemIds:[t.id]},{complete:function(){Object(de.e)(),A.browserHistory.push("/".concat(n.slug,"/").concat(r.slug,"/"))}})},onUpdate:function(e){var t=this.props,r=t.group,n=t.project,a=t.organization;Object(de.b)(Object(M.b)("Saving changes…")),this.props.api.bulkUpdate({orgId:a.slug,projectId:n.slug,itemIds:[r.id],data:e},{complete:function(){Object(de.e)()}})},onShare:function(e){var t=this,r=this.props,n=r.group,a=r.project,i=r.organization;this.setState({shareBusy:!0}),this.props.api.bulkUpdate({orgId:i.slug,projectId:a.slug,itemIds:[n.id],data:{isPublic:e}},{error:function(){Object(de.a)(Object(M.b)("Error sharing"))},complete:function(){t.setState({shareBusy:!1})}})},onToggleShare:function(){this.onShare(!this.props.group.isPublic)},onToggleBookmark:function(){this.onUpdate({isBookmarked:!this.props.group.isBookmarked})},onDiscard:function(){var e=this.props,t=e.group,r=e.project,n=e.organization,a=Object(he.a)();Object(de.b)(Object(M.b)("Discarding event…")),Oe.a.discard(a,t.id),this.props.api.request("/issues/".concat(t.id,"/"),{method:"PUT",data:{discard:!0},success:function(e){Oe.a.discardSuccess(a,t.id,e),A.browserHistory.push("/".concat(n.slug,"/").concat(r.slug,"/"))},error:function(e){Oe.a.discardError(a,t.id,e)},complete:function(){Object(de.e)()}})},render:function(){var e=this,t=this.props,r=t.group,n=t.project,a=t.organization,i=new Set(a.features),o="group-bookmark ".concat("btn btn-default btn-sm");r.isBookmarked&&(o+=" active");var s=new Set(n.features).has("releases"),c="resolved"===r.status,l="ignored"===r.status;return Object(Be.f)("div",{className:"group-actions"},Object(Be.f)(re.a,{target:"resolve",position:"bottom",offset:Object(ue.a)(3)},Object(Be.f)(Ne.a,{hasRelease:s,latestRelease:n.latestRelease,onUpdate:this.onUpdate,orgId:a.slug,projectId:n.slug,isResolved:c,isAutoResolved:c&&r.statusDetails.autoResolved})),Object(Be.f)(re.a,{target:"ignore_delete_discard",position:"bottom",offset:Object(ue.a)(3)},Object(Be.f)(xe.a,{isIgnored:l,onUpdate:this.onUpdate})),Object(Be.f)("div",{className:"btn-group"},Object(Be.f)("div",{className:o,title:Object(M.b)("Bookmark"),onClick:this.onToggleBookmark},Object(Be.f)(Ke,null,Object(Be.f)(ke.qb,{isSolid:!0,size:"xs"})))),Object(Be.f)(Xe,{organization:a,project:n,onDelete:this.onDelete,onDiscard:this.onDiscard}),i.has("shared-issues")&&Object(Be.f)("div",{className:"btn-group"},Object(Be.f)(Ve,{shareUrl:this.getShareUrl(r.shareId,!0),isSharing:r.isPublic,group:r,onToggle:this.onToggleShare,onShare:function(){return e.onShare(!0)},busy:this.state.shareBusy})),i.has("discover-basic")&&Object(Be.f)("div",{className:"btn-group"},Object(Be.f)(we.a,{className:"btn btn-default btn-sm",title:Object(M.b)("Open in Discover"),to:this.getDiscoverUrl()},Object(M.b)("Open in Discover"))))}}),Ke=Object(J.a)("span",{target:"e1tvj8qd0",label:"IconWrapper"})({name:"w98cyk",styles:"position:relative;top:1px;"}),Ze=Object(H.a)(Object(O.a)($e));function et(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var tt=function(e){p()(n,e);var t,r=(t=n,function(){var e,r=g()(t);if(et()){var n=g()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return b()(this,e)});function n(){var e;c()(this,n);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=r.call.apply(r,[this].concat(a))).state={memberList:null},e}return u()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.context.organization,r=this.props.group.project;Object(X.a)(this.props.api,t.slug,r.id).then((function(t){var r=t.map((function(e){return e.user}));e.setState({memberList:r})}))}},{key:"getMessage",value:function(){var e=this.props.group,t=e.metadata;switch(e.type){case"error":return t.value;case"csp":return t.message;default:return this.props.group.culprit||""}}},{key:"render",value:function(){var e=this.props,t=e.project,r=e.group,n=this.context,a=n.organization,i=n.location,o=new Set(t?t.features:[]),s=new Set(a?a.features:[]),c=r.userCount,l="group-detail";r.isBookmarked&&(l+=" isBookmarked"),r.hasSeen&&(l+=" hasSeen"),"resolved"===r.status&&(l+=" isResolved");var u=this.state.memberList,f=r.id,p=a.slug,d=this.getMessage(),b=o.has("similarity-view"),h=s.has("event-attachments"),g="/organizations/".concat(p,"/issues/"),v=Q()(i.query,"query"),j={pathname:"".concat(g).concat(f,"/events/"),query:v};return Object(Be.f)("div",{className:l},Object(Be.f)("div",{className:"row"},Object(Be.f)("div",{className:"col-sm-7"},Object(Be.f)("h3",null,Object(Be.f)(te.a,{hasGuideAnchor:!0,data:r})),Object(Be.f)(ee.a,{message:d,level:r.level,annotations:Object(Be.f)(m.a.Fragment,null,r.logger&&Object(Be.f)(nt,null,Object(Be.f)(A.Link,{to:{pathname:g,query:{query:"logger:"+r.logger}}},r.logger)),r.annotations.map((function(e,t){return Object(Be.f)(nt,{key:t,dangerouslySetInnerHTML:{__html:e}})})))})),Object(Be.f)("div",{className:"col-sm-5 stats"},Object(Be.f)("div",{className:"flex flex-justify-right"},r.shortId&&Object(Be.f)(re.a,{target:"issue_number",position:"bottom"},Object(Be.f)("div",{className:"short-id-box count align-right"},Object(Be.f)("h6",{className:"nav-header"},Object(Be.f)(ce.a,{title:Object(M.b)("This identifier is unique across your organization, and can be used to reference an issue in various places, like commit messages."),position:"bottom"},Object(Be.f)("a",{className:"help-link",href:"https://docs.sentry.io/learn/releases/#resolving-issues-via-commits"},Object(M.b)("Issue #")))),Object(Be.f)(se.a,{shortId:r.shortId,avatar:Object(Be.f)(rt,{project:t,avatarSize:20,hideName:!0})}))),Object(Be.f)("div",{className:"count align-right m-l-1"},Object(Be.f)("h6",{className:"nav-header"},Object(M.b)("Events")),Object(Be.f)(A.Link,{to:j},Object(Be.f)(K.a,{className:"count",value:r.count}))),Object(Be.f)("div",{className:"count align-right m-l-1"},Object(Be.f)("h6",{className:"nav-header"},Object(M.b)("Users")),0!==c?Object(Be.f)(A.Link,{to:"".concat(g).concat(f,"/tags/user/").concat(i.search)},Object(Be.f)(K.a,{className:"count",value:c})):Object(Be.f)("span",null,"0")),Object(Be.f)("div",{className:"assigned-to m-l-1"},Object(Be.f)("h6",{className:"nav-header"},Object(M.b)("Assignee")),Object(Be.f)($.a,{id:r.id,memberList:u}))))),Object(Be.f)(oe.a,{seenBy:r.seenBy,iconTooltip:Object(M.b)("People who have viewed this issue")}),Object(Be.f)(Ze,{group:r,project:t}),Object(Be.f)(ae.a,null,Object(Be.f)(ne.a,{to:"".concat(g).concat(f,"/").concat(i.search),isActive:function(){var e="".concat(g).concat(f,"/"),t=i.pathname;return t===e||/events\/\w+\/$/.test(t)}},Object(M.b)("Details")),Object(Be.f)(ne.a,{to:"".concat(g).concat(f,"/activity/").concat(i.search),isActive:function(){return i.pathname.includes("/activity/")}},Object(M.b)("Comments")," ",Object(Be.f)(le.a,{text:r.numComments})),Object(Be.f)(ne.a,{to:"".concat(g).concat(f,"/feedback/").concat(i.search),isActive:function(){return i.pathname.includes("/feedback/")}},Object(M.b)("User Feedback")," ",Object(Be.f)(le.a,{text:r.userReportCount})),h&&Object(Be.f)(ne.a,{to:"".concat(g).concat(f,"/attachments/").concat(i.search),isActive:function(){return i.pathname.includes("/attachments/")}},Object(M.b)("Attachments")),Object(Be.f)(ne.a,{to:"".concat(g).concat(f,"/tags/").concat(i.search),isActive:function(){return i.pathname.includes("/tags/")}},Object(M.b)("Tags")),Object(Be.f)(ne.a,{to:j,isActive:function(){return i.pathname.endsWith("/events/")}},Object(M.b)("Events")),Object(Be.f)(ne.a,{to:"".concat(g).concat(f,"/merged/").concat(i.search),isActive:function(){return i.pathname.includes("/merged/")}},Object(M.b)("Merged")),b&&Object(Be.f)(ne.a,{to:"".concat(g).concat(f,"/similar/").concat(i.search),isActive:function(){return i.pathname.includes("/similar/")}},Object(M.b)("Similar Issues"))))}}]),n}(m.a.Component);tt.displayName="GroupHeader",tt.contextTypes={location:P.a.object,organization:G.a.Organization};var rt=Object(J.a)(ie.a,{target:"e13kvrof0",label:"StyledProjectBadge"})({name:"6su6fj",styles:"flex-shrink:0;"}),nt=Object(J.a)(Z.a,{target:"e13kvrof1",label:"EventAnnotationWithSpace"})("margin-left:",Object(ue.a)(1),";"),at=Object(H.a)(tt);function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?it(Object(r),!0).forEach((function(t){S()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function st(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ct=function(e){p()(a,e);var t,r,n=(t=a,function(){var e,r=g()(t);if(st()){var n=g()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return b()(this,e)});function a(){var e;c()(this,a);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).state=e.initialState,e.remountComponent=function(){e.setState(e.initialState),e.fetchData()},e.listener=B.a.listen((function(t){return e.onGroupChange(t)})),e}return u()(a,[{key:"getChildContext",value:function(){return{group:this.state.group,location:this.props.location}}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){e.isGlobalSelectionReady!==this.props.isGlobalSelectionReady&&this.fetchData()}},{key:"componentWillUnmount",value:function(){Object(U.a)(this.listener)}},{key:"fetchData",value:(r=N()(k.a.mark((function e(){var t,r,n,a,i,o,s,c,l,u,f;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,r=t.environments,n=t.api,t.isGlobalSelectionReady){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,n.requestPromise(this.groupDetailsEndpoint,{query:ot({},r?{environment:r}:{})});case 6:if(a=e.sent,this.props.params.groupId===a.id){e.next=11;break}return i=this.props,o=i.routes,s=i.params,c=i.location,A.browserHistory.push(Object(W.a)("",{routes:o,location:c,params:ot({},s,{groupId:a.id})})),e.abrupt("return");case 11:(l=a.project)?(void 0===(u=ot({},this.props.location)).query.project&&void 0===u.query._allp&&(u.query.project=l.id),delete u.query._allp,A.browserHistory.replace(u)):I.m((function(){I.c(new Error("Project not found"))})),this.setState({error:!1,loading:!1,errorType:null,project:l}),B.a.loadInitialData([a]),e.next=26;break;case 17:e.prev=17,e.t0=e.catch(3),f=null,e.t1=null===e.t0||void 0===e.t0?void 0:e.t0.status,e.next=404===e.t1?23:25;break;case 23:return f=V,e.abrupt("break",25);case 25:this.setState({loading:!1,error:!0,errorType:f});case 26:case"end":return e.stop()}}),e,this,[[3,17]])}))),function(){return r.apply(this,arguments)})},{key:"onGroupChange",value:function(e){var t=this.props.params.groupId;if(e.has(t)){var r=B.a.get(t);if(r){if(r.stale)return void this.fetchData();this.setState({group:r})}}}},{key:"getTitle",value:function(){var e=this.state.group;if(!e)return"Sentry";switch(e.type){case"error":return e.metadata.type&&e.metadata.value?"".concat(e.metadata.type,": ").concat(e.metadata.value):e.metadata.type||e.metadata.value||"Sentry";case"csp":return e.metadata.message||"Sentry";case"expectct":case"expectstaple":case"hpkp":return e.metadata.message||"Sentry";case"default":return e.metadata.title||"Sentry";default:return""}}},{key:"renderContent",value:function(e){var t=this.props,r=t.children,n=t.environments,a=this.state.group;return Object(Be.f)(m.a.Fragment,null,Object(Be.f)(at,{project:e,group:a}),m.a.isValidElement(r)?m.a.cloneElement(r,{environments:n,group:a,project:e}):r)}},{key:"renderError",value:function(){if(!this.state.error)return null;switch(this.state.errorType){case V:return Object(Be.f)(q.a,{message:Object(M.b)("The issue you were looking for was not found.")});default:return Object(Be.f)(q.a,{onRetry:this.remountComponent})}}},{key:"render",value:function(){var e=this,t=this.props.organization,r=this.state,n=r.error,a=r.group,i=r.project,o=n,s=r.loading||!a&&!o;return Object(Be.f)(C.a,{title:this.getTitle()},Object(Be.f)(m.a.Fragment,null,Object(Be.f)(E.a,{skipLoadLastUsed:!0,forceProject:i,showDateSelector:!1,shouldForceProject:!0,lockedMessageSubject:Object(M.b)("issue"),showIssueStreamLink:!0,showProjectSettingsLink:!0},Object(Be.f)(T.b,null,s?Object(Be.f)(_.default,null):o?this.renderError():Object(Be.f)(F.a,{orgId:t.slug,slugs:[i.slug]},(function(t){var r=t.projects,n=t.initiallyLoaded,a=t.fetchError;return n?a?Object(Be.f)(q.a,{message:Object(M.b)("Error loading the specified project")}):e.renderContent(r[0]):Object(Be.f)(_.default,null)}))))))}},{key:"initialState",get:function(){return{group:null,loading:!0,error:!1,errorType:null,project:null}}},{key:"groupDetailsEndpoint",get:function(){return"/issues/".concat(this.props.params.groupId,"/")}}]),a}(m.a.Component);ct.displayName="GroupDetails",ct.childContextTypes={group:G.a.Group,location:P.a.object};var lt=Object(H.a)(L.c(ct));function ut(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ft=function(e){p()(n,e);var t,r=(t=n,function(){var e,r=g()(t);if(ut()){var n=g()(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return b()(this,e)});function n(e){var t;return c()(this,n),(t=r.call(this,e)).startMetricCollection(),t}return u()(n,[{key:"componentDidMount",value:function(){Object(j.a)("issue_page.viewed",{group_id:parseInt(this.props.params.groupId,10),org_id:parseInt(this.props.organization.id,10)})}},{key:"startMetricCollection",value:function(){var e=Object(O.b)(this.props.organization)?"cold-start":"warm-start";j.c.mark({name:"page-issue-details-start",data:{start_type:e}})}},{key:"render",value:function(){var e=this.props,t=e.selection,r=o()(e,["selection"]);return Object(Be.f)(lt,a()({key:"".concat(this.props.params.groupId,"-envs:").concat(t.environments.join(",")),environments:t.environments},r))}}]),n}(m.a.Component);ft.displayName="OrganizationGroupDetails";t.default=Object(O.a)(Object(y.a)(ft))}}]);
//# sourceMappingURL=OrganizationGroupDetails.js.map