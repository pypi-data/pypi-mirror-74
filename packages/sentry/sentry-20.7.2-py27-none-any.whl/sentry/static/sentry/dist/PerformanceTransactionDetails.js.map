{"version":3,"sources":["webpack:///./app/components/sentryDocumentTitle.tsx","webpack:///./app/components/charts/styles.tsx","webpack:///./app/components/layouts/thirds.tsx","webpack:///./app/components/breadcrumbs.tsx","webpack:///./app/views/performance/utils.tsx","webpack:///./app/components/events/opsBreakdown.tsx","webpack:////workspace/node_modules/lodash/isFinite.js","webpack:///./app/components/events/eventMetadata.tsx","webpack:///./app/components/tagsTable.tsx","webpack:///./app/views/performance/breadcrumb.tsx","webpack:///./app/views/performance/transactionDetails/content.tsx","webpack:///./app/views/performance/transactionDetails/index.tsx"],"names":["SentryDocumentTitle","props","_title","title","objSlug","children","ChartControls","space","p","theme","borderLight","SectionHeading","gray600","fontSizeMedium","SectionValue","InlineContainer","Body","white","breakpoints","HeaderContent","HeaderActions","Title","headerFontSize","gray700","overflowEllipsis","Header","borderDark","Main","fullWidth","Side","Breadcrumbs","crumbs","linkLastItem","length","to","BreadcrumbList","map","index","label","preserveGlobalSelection","key","labelKey","mapKey","Fragment","BreadcrumbLink","BreadcrumbItem","BreadcrumbDividerIcon","size","direction","getBreadcrumbListItemStyles","gray500","IconChevron","getPerformanceLandingUrl","organization","slug","getTransactionDetailsUrl","eventSlug","transaction","query","pathname","OpsBreakdown","event","this","type","getTransactionEvent","traceContext","contexts","trace","spanEntry","entries","find","entry","spans","data","operationNameIntervals","op","timestamp","endTimestamp","start_timestamp","startTimestamp","trace_id","span_id","reduce","intervals","span","operationName","cover","operationNameInterval","Array","isArray","push","sort","first","second","merged","currentInterval","lastInterval","lastIntervalEnd","currentIntervalStart","currentIntervalEnd","Math","max","mergeInterval","operationNameCoverage","Object","acc","duration","sum","start","end","abs","sortedOpsBreakdown","firstDuration","secondDuration","breakdown","slice","name","percentage","totalInterval","other","accOther","t","total","operationNameGroup","forEach","generateStats","StyledBreakdown","BreakdownHeader","position","containerDisplayMode","currOp","durLabel","round","pctLabel","isFinite","opsColor","pickSpanBarColour","OpsLine","OpsNameContainer","OpsDot","style","backgroundColor","OpsName","OpsContent","Dur","Pct","React","Component","nativeIsFinite","module","exports","value","EventMetadata","projectId","eventJsonUrl","eventID","MetaDataID","MetadataContainer","data-test-id","date","getDynamicText","dateCreated","fixed","orgId","slugs","project","projects","StyledProjectBadge","avatarSize","MetadataJSON","href","className","bytes","ExternalLink","ProjectBadge","TagsTable","generateUrl","tags","StyledTagsTable","StyledTable","tag","tagInQuery","includes","target","undefined","renderTagValue","version","anchor","withPackage","StyledTr","TagKey","TagValue","gray100","Breadcrumb","location","transactionName","performanceTarget","summaryTarget","transactionSummaryRouteWithQuery","orgSlug","projectID","decodeScalar","getCrumbs","EventDetailsContent","state","loading","reloading","error","errors","isSidebarVisible","toggleSidebar","setState","generateTagUrl","newQuery","appendTagCondition","params","renderContent","api","trackAnalyticsEvent","eventKey","eventName","event_type","organization_id","parseInt","id","onClick","getViewChildTransactionTarget","childTransactionProps","showExampleCommit","showTagSummary","notFound","values","resp","status","permissionDenied","message","split","AsyncComponent","withApi","EventDetails","getEventSlug","trim","documentTitle","StyledPageContent","withOrganization","PageContent"],"mappings":"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","file":"PerformanceTransactionDetails.js","sourcesContent":["import React, {FunctionComponent} from 'react';\nimport DocumentTitle from 'react-document-title';\n\ntype DocumentTitleProps = {\n  // Main page title\n  title: string;\n  // Organization or project slug to give title some context\n  objSlug: string;\n  children?: React.ReactNode;\n};\n\nconst SentryDocumentTitle: FunctionComponent<DocumentTitleProps> = (\n  props: DocumentTitleProps\n) => {\n  const _title = `${props.title} - ${props.objSlug} - Sentry`;\n  return <DocumentTitle title={_title}>{props.children}</DocumentTitle>;\n};\n\nexport default SentryDocumentTitle;\n","import styled from '@emotion/styled';\n\nimport space from 'app/styles/space';\n\nexport const ChartControls = styled('div')`\n  display: flex;\n  justify-content: space-between;\n  padding: ${space(1)} ${space(3)};\n  border-top: 1px solid ${p => p.theme.borderLight};\n`;\n\nexport const SubHeading = styled('h3')`\n  font-size: ${p => p.theme.fontSizeLarge};\n  font-weight: normal;\n  color: ${p => p.theme.gray800};\n  margin: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nexport const SectionHeading = styled('h4')`\n  display: inline-grid;\n  grid-auto-flow: column;\n  grid-gap: ${space(1)};\n  color: ${p => p.theme.gray600};\n  font-size: ${p => p.theme.fontSizeMedium};\n  margin: ${space(1)} 0;\n  line-height: 1.3;\n`;\n\nexport const SectionValue = styled('span')`\n  color: ${p => p.theme.gray600};\n  font-size: ${p => p.theme.fontSizeMedium};\n  margin-right: ${space(1)};\n`;\n\nexport const InlineContainer = styled('div')`\n  display: flex;\n  align-items: center;\n  margin-right: ${space(2)};\n\n  > h4 {\n    margin-right: ${space(1)};\n  }\n\n  &:last-child {\n    margin-right: 0;\n  }\n`;\n","import styled from '@emotion/styled';\n\nimport space from 'app/styles/space';\nimport overflowEllipsis from 'app/styles/overflowEllipsis';\n\n/**\n * Base container for 66/33 containers.\n */\nexport const Body = styled('div')`\n  padding: ${space(2)} ${space(4)};\n  margin: 0;\n  background-color: ${p => p.theme.white};\n  flex-grow: 1;\n\n  @media (min-width: ${p => p.theme.breakpoints[1]}) {\n    display: grid;\n    grid-template-columns: 66% auto;\n    align-content: start;\n    grid-gap: ${space(3)};\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints[2]}) {\n    grid-template-columns: minmax(100px, auto) 325px;\n  }\n`;\n\n/**\n * Use HeaderContent to create horizontal regions in the header\n * that contain a heading/breadcrumbs and a button group.\n */\nexport const HeaderContent = styled('div')`\n  display: flex;\n  flex-direction: column;\n  justify-content: normal;\n  margin-bottom: ${space(2)};\n  overflow: hidden;\n\n  @media (max-width: ${p => p.theme.breakpoints[1]}) {\n    margin-bottom: ${space(1)};\n  }\n`;\n\n/**\n * Container for action buttons and secondary information that\n * flows on the top right of the header.\n */\nexport const HeaderActions = styled('div')`\n  display: flex;\n  flex-direction: column;\n  justify-content: normal;\n  min-width: max-content;\n\n  @media (max-width: ${p => p.theme.breakpoints[1]}) {\n    width: max-content;\n    margin-bottom: ${space(2)};\n  }\n`;\n\n/**\n * Heading container that includes margins.\n */\nexport const Title = styled('h2')`\n  font-size: ${p => p.theme.headerFontSize};\n  font-weight: normal;\n  line-height: 1.2;\n  color: ${p => p.theme.gray700};\n  margin-top: ${space(3)};\n  /* TODO(bootstrap) Remove important when bootstrap headings are removed */\n  margin-bottom: 0 !important;\n  min-height: 30px;\n  align-self: center;\n  ${overflowEllipsis};\n\n  @media (max-width: ${p => p.theme.breakpoints[1]}) {\n    margin-top: ${space(1)};\n  }\n`;\n\n/**\n * Header container for header content and header actions.\n *\n * Uses a horizontal layout in wide viewports to put space between\n * the headings and the actions container. In narrow viewports these elements\n * are stacked vertically.\n */\nexport const Header = styled('div')`\n  display: flex;\n  flex-direction: row;\n  flex-grow: 0;\n  justify-content: space-between;\n  padding: ${space(2)} ${space(4)} 0 ${space(4)};\n  margin: 0;\n\n  background-color: transparent;\n  border-bottom: 1px solid ${p => p.theme.borderDark};\n\n  @media (max-width: ${p => p.theme.breakpoints[1]}) {\n    flex-direction: column;\n  }\n`;\n\n/**\n * Containers for two column 66/33 layout.\n */\nexport const Main = styled('section')<{fullWidth?: boolean}>`\n  grid-column: ${p => (p.fullWidth ? '1/3' : '1/2')};\n  max-width: 100%;\n`;\nexport const Side = styled('aside')`\n  grid-column: 2/3;\n`;\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport space from 'app/styles/space';\nimport {IconChevron} from 'app/icons';\nimport Link from 'app/components/links/link';\nimport GlobalSelectionLink from 'app/components/globalSelectionLink';\nimport overflowEllipsis from 'app/styles/overflowEllipsis';\nimport {Theme} from 'app/utils/theme';\n\nexport type Crumb = {\n  /**\n   * Label of the crumb\n   */\n  label: React.ReactNode;\n\n  /**\n   * Link of the crumb\n   */\n  to?: React.ComponentProps<typeof Link>['to'] | null;\n\n  /**\n   * It will keep the global selection values (projects, environments, time) in the\n   * querystring when navigating (GlobalSelectionLink)\n   */\n  preserveGlobalSelection?: boolean;\n\n  /**\n   * Component will try to come up with unique key, but you can provide your own\n   * (used when mapping over crumbs)\n   */\n  key?: string;\n};\n\ntype Props = React.HTMLAttributes<HTMLDivElement> & {\n  /**\n   * Array of crumbs that will be rendered\n   */\n  crumbs: Crumb[];\n\n  /**\n   * As a general rule of thumb we don't want the last item to be link as it most likely\n   * points to the same page we are currently on. This is by default false, so that\n   * people don't have to check if crumb is last in the array and then manually\n   * assign `to: null/undefined` when passing props to this component.\n   */\n  linkLastItem?: boolean;\n};\n\n/**\n * Page breadcrumbs used for navigation, not to be confused with sentry's event breadcrumbs\n */\nconst Breadcrumbs = ({crumbs, linkLastItem = false, ...props}: Props) => {\n  if (crumbs.length === 0) {\n    return null;\n  }\n\n  if (!linkLastItem) {\n    crumbs[crumbs.length - 1].to = null;\n  }\n\n  return (\n    <BreadcrumbList {...props}>\n      {crumbs.map(({label, to, preserveGlobalSelection, key}, index) => {\n        const labelKey = typeof label === 'string' ? label : '';\n        const mapKey =\n          key ?? typeof to === 'string' ? `${labelKey}${to}` : `${labelKey}${index}`;\n\n        return (\n          <React.Fragment key={mapKey}>\n            {to ? (\n              <BreadcrumbLink to={to} preserveGlobalSelection={preserveGlobalSelection}>\n                {label}\n              </BreadcrumbLink>\n            ) : (\n              <BreadcrumbItem>{label}</BreadcrumbItem>\n            )}\n\n            {index < crumbs.length - 1 && (\n              <BreadcrumbDividerIcon size=\"xs\" direction=\"right\" />\n            )}\n          </React.Fragment>\n        );\n      })}\n    </BreadcrumbList>\n  );\n};\n\nconst getBreadcrumbListItemStyles = (p: {theme: Theme}) => `\n  color: ${p.theme.gray500};\n  ${overflowEllipsis};\n  width: auto;\n\n  &:last-child {\n    color: ${p.theme.gray700};\n  }\n`;\n\nconst BreadcrumbList = styled('div')`\n  display: flex;\n  align-items: center;\n  padding: ${space(1)} 0;\n`;\n\nconst BreadcrumbLink = styled(({preserveGlobalSelection, ...props}) =>\n  preserveGlobalSelection ? <GlobalSelectionLink {...props} /> : <Link {...props} />\n)`\n  ${getBreadcrumbListItemStyles}\n\n  &:hover,\n  &:active {\n    color: ${p => p.theme.gray600};\n  }\n`;\n\nconst BreadcrumbItem = styled('span')`\n  ${getBreadcrumbListItemStyles}\n`;\n\nconst BreadcrumbDividerIcon = styled(IconChevron)`\n  color: ${p => p.theme.gray500};\n  margin: 0 ${space(1)};\n  flex-shrink: 0;\n`;\n\nexport default Breadcrumbs;\n","import {LocationDescriptor, Query} from 'history';\n\nimport {OrganizationSummary} from 'app/types';\n\nexport function getPerformanceLandingUrl(organization: OrganizationSummary): string {\n  return `/organizations/${organization.slug}/performance/`;\n}\n\nexport function getTransactionDetailsUrl(\n  organization: OrganizationSummary,\n  eventSlug: string,\n  transaction: string,\n  query: Query\n): LocationDescriptor {\n  return {\n    pathname: `/organizations/${organization.slug}/performance/${eventSlug}/`,\n    query: {\n      ...query,\n      transaction,\n    },\n  };\n}\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport isFinite from 'lodash/isFinite';\n\nimport {Event, SentryTransactionEvent} from 'app/types';\nimport {\n  SpanEntry,\n  RawSpanType,\n  TraceContextType,\n} from 'app/components/events/interfaces/spans/types';\nimport QuestionTooltip from 'app/components/questionTooltip';\nimport {SectionHeading} from 'app/components/charts/styles';\nimport {pickSpanBarColour} from 'app/components/events/interfaces/spans/utils';\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\n\ntype StartTimestamp = number;\ntype EndTimestamp = number;\ntype Duration = number;\n\ntype TimeWindowSpan = [StartTimestamp, EndTimestamp];\n\ntype OperationName = string;\n\n// mapping an operation name to a disjoint set of time intervals (start/end timestamp).\n// this is an intermediary data structure to help calculate the coverage of an operation name\n// with respect to the root transaction span's operation lifetime\ntype OperationNameIntervals = Record<OperationName, Array<TimeWindowSpan>>;\ntype OperationNameCoverage = Record<OperationName, Duration>;\n\ntype OpStats = {name: string; percentage: number; totalInterval: number};\n\nconst TOP_N_SPANS = 4;\n\ntype OpBreakdownType = OpStats[];\n\ntype Props = {\n  event: Event;\n};\n\nclass OpsBreakdown extends React.Component<Props> {\n  getTransactionEvent(): SentryTransactionEvent | undefined {\n    const {event} = this.props;\n\n    if (event.type === 'transaction') {\n      return event as SentryTransactionEvent;\n    }\n\n    return undefined;\n  }\n\n  generateStats(): OpBreakdownType {\n    const event = this.getTransactionEvent();\n\n    if (!event) {\n      return [];\n    }\n\n    const traceContext: TraceContextType | undefined = event?.contexts?.trace;\n\n    if (!traceContext) {\n      return [];\n    }\n\n    const spanEntry: SpanEntry | undefined = event.entries.find(\n      (entry: {type: string}) => entry.type === 'spans'\n    );\n\n    let spans: RawSpanType[] = spanEntry?.data ?? [];\n\n    spans =\n      spans.length > 0\n        ? spans\n        : // if there are no descendent spans, then use the transaction root span\n          [\n            {\n              op: traceContext.op,\n              timestamp: event.endTimestamp,\n              start_timestamp: event.startTimestamp,\n              trace_id: traceContext.trace_id || '',\n              span_id: traceContext.span_id || '',\n              data: {},\n            },\n          ];\n\n    const operationNameIntervals = spans.reduce(\n      (intervals: Partial<OperationNameIntervals>, span: RawSpanType) => {\n        let startTimestamp = span.start_timestamp;\n        let endTimestamp = span.timestamp;\n\n        if (endTimestamp < startTimestamp) {\n          // reverse timestamps\n          startTimestamp = span.timestamp;\n          endTimestamp = span.start_timestamp;\n        }\n\n        // invariant: startTimestamp <= endTimestamp\n\n        let operationName = span.op;\n\n        if (typeof operationName !== 'string') {\n          // a span with no operation name is considered an 'unknown' op\n          operationName = 'unknown';\n        }\n\n        const cover: TimeWindowSpan = [startTimestamp, endTimestamp];\n\n        const operationNameInterval = intervals[operationName];\n\n        if (!Array.isArray(operationNameInterval)) {\n          intervals[operationName] = [cover];\n\n          return intervals;\n        }\n\n        operationNameInterval.push(cover);\n\n        intervals[operationName] = mergeInterval(operationNameInterval);\n\n        return intervals;\n      },\n      {}\n    ) as OperationNameIntervals;\n\n    const operationNameCoverage = Object.entries(operationNameIntervals).reduce(\n      (\n        acc: Partial<OperationNameCoverage>,\n        [operationName, intervals]: [OperationName, TimeWindowSpan[]]\n      ) => {\n        const duration = intervals.reduce((sum: number, [start, end]) => {\n          return sum + Math.abs(end - start);\n        }, 0);\n\n        acc[operationName] = duration;\n\n        return acc;\n      },\n      {}\n    ) as OperationNameCoverage;\n\n    const sortedOpsBreakdown = Object.entries(operationNameCoverage).sort(\n      (first: [OperationName, Duration], second: [OperationName, Duration]) => {\n        const firstDuration = first[1];\n        const secondDuration = second[1];\n\n        if (firstDuration === secondDuration) {\n          return 0;\n        }\n\n        if (firstDuration < secondDuration) {\n          // sort second before first\n          return 1;\n        }\n\n        // otherwise, sort first before second\n        return -1;\n      }\n    );\n\n    const breakdown = sortedOpsBreakdown\n      .slice(0, TOP_N_SPANS)\n      .map(([operationName, duration]: [OperationName, Duration]) => {\n        return {\n          name: operationName,\n          // percentage to be recalculated after the ops breakdown group is decided\n          percentage: 0,\n          totalInterval: duration,\n        };\n      });\n\n    const other = sortedOpsBreakdown.slice(TOP_N_SPANS).reduce(\n      (accOther: OpStats, [_operationName, duration]: [OperationName, Duration]) => {\n        accOther.totalInterval += duration;\n\n        return accOther;\n      },\n      {\n        name: t('Other'),\n        // percentage to be recalculated after the ops breakdown group is decided\n        percentage: 0,\n        totalInterval: 0,\n      }\n    );\n\n    if (other.totalInterval > 0) {\n      breakdown.push(other);\n    }\n\n    // calculate breakdown total duration\n\n    const total = breakdown.reduce((sum: number, operationNameGroup) => {\n      return sum + operationNameGroup.totalInterval;\n    }, 0);\n\n    // recalculate percentage values\n\n    breakdown.forEach(operationNameGroup => {\n      operationNameGroup.percentage = operationNameGroup.totalInterval / total;\n    });\n\n    return breakdown;\n  }\n\n  render() {\n    const event = this.getTransactionEvent();\n\n    if (!event) {\n      return null;\n    }\n\n    const breakdown = this.generateStats();\n\n    return (\n      <StyledBreakdown>\n        <BreakdownHeader>\n          <SectionHeading>{t('Ops Breakdown')}</SectionHeading>\n          <QuestionTooltip\n            position=\"top\"\n            size=\"sm\"\n            containerDisplayMode=\"block\"\n            title={t(\n              'Durations are calculated by summing span durations over the course of the transaction. Percentages are then calculated by dividing the individual op duration by the sum of total op durations. Overlapping/parallel spans are only counted once.'\n            )}\n          />\n        </BreakdownHeader>\n        {breakdown.map(currOp => {\n          const {name, percentage, totalInterval} = currOp;\n          const durLabel = Math.round(totalInterval * 1000 * 100) / 100;\n          const pctLabel = isFinite(percentage) ? Math.round(percentage * 100) : 'âˆž';\n          const opsColor: string = pickSpanBarColour(name);\n\n          return (\n            <OpsLine key={name}>\n              <OpsNameContainer>\n                <OpsDot style={{backgroundColor: opsColor}} />\n                <OpsName>{name}</OpsName>\n              </OpsNameContainer>\n              <OpsContent>\n                <Dur>{durLabel}ms</Dur>\n                <Pct>{pctLabel}%</Pct>\n              </OpsContent>\n            </OpsLine>\n          );\n        })}\n      </StyledBreakdown>\n    );\n  }\n}\n\nconst StyledBreakdown = styled('div')`\n  color: ${p => p.theme.gray600};\n  font-size: ${p => p.theme.fontSizeMedium};\n  margin-bottom: ${space(4)};\n`;\n\nconst OpsLine = styled('div')`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: ${space(0.5)};\n\n  * + * {\n    margin-left: ${space(0.5)};\n  }\n`;\n\nconst OpsDot = styled('div')`\n  content: '';\n  display: block;\n  width: 8px;\n  min-width: 8px;\n  height: 8px;\n  margin-right: ${space(1)};\n  border-radius: 100%;\n`;\n\nconst OpsContent = styled('div')`\n  display: flex;\n  align-items: center;\n`;\n\nconst OpsNameContainer = styled(OpsContent)`\n  overflow: hidden;\n`;\n\nconst OpsName = styled('div')`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst Dur = styled('div')`\n  color: ${p => p.theme.gray500};\n`;\n\nconst Pct = styled('div')`\n  min-width: 40px;\n  text-align: right;\n`;\n\nconst BreakdownHeader = styled('div')`\n  display: flex;\n  align-items: center;\n`;\n\nfunction mergeInterval(intervals: TimeWindowSpan[]): TimeWindowSpan[] {\n  // sort intervals by start timestamps\n  intervals.sort((first: TimeWindowSpan, second: TimeWindowSpan) => {\n    if (first[0] < second[0]) {\n      // sort first before second\n      return -1;\n    }\n\n    if (second[0] < first[0]) {\n      // sort second before first\n      return 1;\n    }\n\n    return 0;\n  });\n\n  // array of disjoint intervals\n  const merged: TimeWindowSpan[] = [];\n\n  for (const currentInterval of intervals) {\n    if (merged.length === 0) {\n      merged.push(currentInterval);\n      continue;\n    }\n\n    const lastInterval = merged[merged.length - 1];\n    const lastIntervalEnd = lastInterval[1];\n\n    const [currentIntervalStart, currentIntervalEnd] = currentInterval;\n\n    if (lastIntervalEnd < currentIntervalStart) {\n      // if currentInterval does not overlap with lastInterval,\n      // then add currentInterval\n      merged.push(currentInterval);\n      continue;\n    }\n\n    // currentInterval and lastInterval overlaps; so we merge these intervals\n\n    // invariant: lastIntervalStart <= currentIntervalStart\n\n    lastInterval[1] = Math.max(lastIntervalEnd, currentIntervalEnd);\n  }\n\n  return merged;\n}\n\nexport default OpsBreakdown;\n","var root = require('./_root');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsFinite = root.isFinite;\n\n/**\n * Checks if `value` is a finite primitive number.\n *\n * **Note:** This method is based on\n * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n * @example\n *\n * _.isFinite(3);\n * // => true\n *\n * _.isFinite(Number.MIN_VALUE);\n * // => true\n *\n * _.isFinite(Infinity);\n * // => false\n *\n * _.isFinite('3');\n * // => false\n */\nfunction isFinite(value) {\n  return typeof value == 'number' && nativeIsFinite(value);\n}\n\nmodule.exports = isFinite;\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {t} from 'app/locale';\nimport {Event, OrganizationSummary} from 'app/types';\nimport {SectionHeading} from 'app/components/charts/styles';\nimport DateTime from 'app/components/dateTime';\nimport ExternalLink from 'app/components/links/externalLink';\nimport FileSize from 'app/components/fileSize';\nimport ProjectBadge from 'app/components/idBadge/projectBadge';\nimport space from 'app/styles/space';\nimport getDynamicText from 'app/utils/getDynamicText';\nimport Projects from 'app/utils/projects';\n\ntype Props = {\n  event: Event;\n  organization: OrganizationSummary;\n  projectId: string;\n};\n\n/**\n * Render metadata about the event and provide a link to the JSON blob.\n * Used in the sidebar of performance event details and discover2 event details.\n */\nfunction EventMetadata({event, organization, projectId}: Props) {\n  const eventJsonUrl = `/api/0/projects/${organization.slug}/${projectId}/events/${event.eventID}/json/`;\n\n  return (\n    <MetaDataID>\n      <SectionHeading>{t('Event ID')}</SectionHeading>\n      <MetadataContainer data-test-id=\"event-id\">{event.eventID}</MetadataContainer>\n      <MetadataContainer>\n        <DateTime\n          date={getDynamicText({\n            value: event.dateCreated || (event.endTimestamp || 0) * 1000,\n            fixed: 'Dummy timestamp',\n          })}\n        />\n      </MetadataContainer>\n      <Projects orgId={organization.slug} slugs={[projectId]}>\n        {({projects}) => {\n          const project = projects.find(p => p.slug === projectId);\n          return (\n            <StyledProjectBadge\n              project={project ? project : {slug: projectId}}\n              avatarSize={16}\n            />\n          );\n        }}\n      </Projects>\n      <MetadataJSON href={eventJsonUrl} className=\"json-link\">\n        {t('Preview JSON')} (<FileSize bytes={event.size} />)\n      </MetadataJSON>\n    </MetaDataID>\n  );\n}\n\nconst MetaDataID = styled('div')`\n  margin-bottom: ${space(4)};\n`;\n\nconst MetadataContainer = styled('div')`\n  display: flex;\n  justify-content: space-between;\n  color: ${p => p.theme.gray600};\n  font-size: ${p => p.theme.fontSizeMedium};\n`;\n\nconst MetadataJSON = styled(ExternalLink)`\n  font-size: ${p => p.theme.fontSizeMedium};\n`;\n\nconst StyledProjectBadge = styled(ProjectBadge)`\n  margin-bottom: ${space(2)};\n`;\n\nexport default EventMetadata;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport {LocationDescriptor} from 'history';\n\nimport {SectionHeading} from 'app/components/charts/styles';\nimport Link from 'app/components/links/link';\nimport Tooltip from 'app/components/tooltip';\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport overflowEllipsis from 'app/styles/overflowEllipsis';\nimport {Event, EventTag} from 'app/types';\nimport Version from 'app/components/version';\n\ntype Props = {\n  event: Event;\n  query: string;\n  generateUrl: (tag: EventTag) => LocationDescriptor;\n  title?: React.ReactNode;\n};\n\nconst TagsTable = ({\n  event,\n  query,\n  generateUrl,\n  title = t('Event Tag Details'),\n}: Props) => {\n  const tags = event.tags;\n\n  return (\n    <StyledTagsTable>\n      <SectionHeading>{title}</SectionHeading>\n      <StyledTable>\n        <tbody>\n          {tags.map(tag => {\n            const tagInQuery = query.includes(`${tag.key}:`);\n            const target = tagInQuery ? undefined : generateUrl(tag);\n\n            const renderTagValue = () => {\n              switch (tag.key) {\n                case 'release':\n                  return <Version version={tag.value} anchor={false} withPackage />;\n                default:\n                  return tag.value;\n              }\n            };\n\n            return (\n              <StyledTr key={tag.key}>\n                <TagKey>{tag.key}</TagKey>\n                <TagValue>\n                  {tagInQuery ? (\n                    <Tooltip title={t('This tag is in the current filter conditions')}>\n                      <span>{renderTagValue()}</span>\n                    </Tooltip>\n                  ) : (\n                    <Link to={target || ''}>{renderTagValue()}</Link>\n                  )}\n                </TagValue>\n              </StyledTr>\n            );\n          })}\n        </tbody>\n      </StyledTable>\n    </StyledTagsTable>\n  );\n};\n\nconst StyledTagsTable = styled('div')`\n  margin-bottom: ${space(3)};\n`;\n\nconst StyledTable = styled('table')`\n  table-layout: fixed;\n  width: 100%;\n  max-width: 100%;\n`;\n\nconst StyledTr = styled('tr')`\n  &:nth-child(2n + 1) td {\n    background-color: ${p => p.theme.gray100};\n  }\n`;\n\nconst TagKey = styled('td')`\n  color: ${p => p.theme.gray600};\n  padding: ${space(0.5)} ${space(1)};\n  font-size: ${p => p.theme.fontSizeMedium};\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst TagValue = styled(TagKey)`\n  text-align: right;\n  ${overflowEllipsis};\n`;\n\nexport default TagsTable;\n","import React from 'react';\nimport {Location, LocationDescriptor} from 'history';\n\nimport {t} from 'app/locale';\nimport {Organization} from 'app/types';\nimport Breadcrumbs, {Crumb} from 'app/components/breadcrumbs';\nimport {decodeScalar} from 'app/utils/queryString';\n\nimport {getPerformanceLandingUrl} from './utils';\nimport {transactionSummaryRouteWithQuery} from './transactionSummary/utils';\n\ntype Props = {\n  organization: Organization;\n  location: Location;\n  transactionName?: string;\n  eventSlug?: string;\n};\n\nclass Breadcrumb extends React.Component<Props> {\n  getCrumbs() {\n    const crumbs: Crumb[] = [];\n    const {organization, location, transactionName, eventSlug} = this.props;\n\n    const performanceTarget: LocationDescriptor = {\n      pathname: getPerformanceLandingUrl(organization),\n      query: {\n        ...location.query,\n        // clear out the transaction name\n        transaction: undefined,\n      },\n    };\n\n    crumbs.push({\n      to: performanceTarget,\n      label: t('Performance'),\n      preserveGlobalSelection: true,\n    });\n\n    if (transactionName) {\n      const summaryTarget = transactionSummaryRouteWithQuery({\n        orgSlug: organization.slug,\n        transaction: transactionName,\n        projectID: decodeScalar(location.query.project),\n        query: location.query,\n      });\n\n      crumbs.push({\n        to: summaryTarget,\n        label: t('Transaction Summary'),\n        preserveGlobalSelection: true,\n      });\n    }\n\n    if (transactionName && eventSlug) {\n      crumbs.push({\n        to: '',\n        label: t('Event Details'),\n      });\n    }\n\n    return crumbs;\n  }\n\n  render() {\n    return <Breadcrumbs crumbs={this.getCrumbs()} />;\n  }\n}\n\nexport default Breadcrumb;\n","import React from 'react';\nimport {Params} from 'react-router/lib/Router';\nimport {Location} from 'history';\nimport PropTypes from 'prop-types';\n\nimport {t} from 'app/locale';\nimport {trackAnalyticsEvent} from 'app/utils/analytics';\nimport {Client} from 'app/api';\nimport withApi from 'app/utils/withApi';\nimport {Organization, Event, EventTag} from 'app/types';\nimport SentryTypes from 'app/sentryTypes';\nimport EventMetadata from 'app/components/events/eventMetadata';\nimport {BorderlessEventEntries} from 'app/components/events/eventEntries';\nimport * as SpanEntryContext from 'app/components/events/interfaces/spans/context';\nimport Button from 'app/components/button';\nimport LoadingError from 'app/components/loadingError';\nimport NotFound from 'app/components/errors/notFound';\nimport AsyncComponent from 'app/components/asyncComponent';\nimport SentryDocumentTitle from 'app/components/sentryDocumentTitle';\nimport OpsBreakdown from 'app/components/events/opsBreakdown';\nimport TagsTable from 'app/components/tagsTable';\nimport Projects from 'app/utils/projects';\nimport * as Layout from 'app/components/layouts/thirds';\nimport Breadcrumb from 'app/views/performance/breadcrumb';\nimport {decodeScalar, appendTagCondition} from 'app/utils/queryString';\n\nimport {transactionSummaryRouteWithQuery} from '../transactionSummary/utils';\nimport {getTransactionDetailsUrl} from '../utils';\n\ntype Props = {\n  organization: Organization;\n  location: Location;\n  params: Params;\n  api: Client;\n  eventSlug: string;\n};\n\ntype State = {\n  event: Event | undefined;\n  isSidebarVisible: boolean;\n} & AsyncComponent['state'];\n\nclass EventDetailsContent extends AsyncComponent<Props, State> {\n  static propTypes: any = {\n    organization: SentryTypes.Organization.isRequired,\n    eventSlug: PropTypes.string.isRequired,\n    location: PropTypes.object.isRequired,\n  };\n\n  state: State = {\n    // AsyncComponent state\n    loading: true,\n    reloading: false,\n    error: false,\n    errors: [],\n    event: undefined,\n\n    // local state\n    isSidebarVisible: true,\n  };\n\n  toggleSidebar = () => {\n    this.setState({isSidebarVisible: !this.state.isSidebarVisible});\n  };\n\n  getEndpoints(): Array<[string, string]> {\n    const {organization, params} = this.props;\n    const {eventSlug} = params;\n\n    const url = `/organizations/${organization.slug}/events/${eventSlug}/`;\n\n    return [['event', url]];\n  }\n\n  get projectId() {\n    return this.props.eventSlug.split(':')[0];\n  }\n\n  generateTagUrl = (tag: EventTag) => {\n    const {location, organization} = this.props;\n    const {event} = this.state;\n    if (!event) {\n      return '';\n    }\n    const query = decodeScalar(location.query.query) || '';\n    const newQuery = {\n      ...location.query,\n      query: appendTagCondition(query, tag.key, tag.value),\n    };\n    return transactionSummaryRouteWithQuery({\n      orgSlug: organization.slug,\n      transaction: event.title,\n      projectID: decodeScalar(location.query.project),\n      query: newQuery,\n    });\n  };\n\n  renderBody() {\n    const {event} = this.state;\n\n    if (!event) {\n      return <NotFound />;\n    }\n\n    return this.renderContent(event);\n  }\n\n  renderContent(event: Event) {\n    const {api, organization, location, eventSlug} = this.props;\n\n    // metrics\n    trackAnalyticsEvent({\n      eventKey: 'performance.event_details',\n      eventName: 'Performance: Opened Event Details',\n      event_type: event.type,\n      organization_id: parseInt(organization.id, 10),\n    });\n\n    const {isSidebarVisible} = this.state;\n    const transactionName = event.title;\n    const query = decodeScalar(location.query.query) || '';\n\n    return (\n      <React.Fragment>\n        <Layout.Header>\n          <Layout.HeaderContent>\n            <Breadcrumb\n              organization={organization}\n              location={location}\n              transactionName={transactionName}\n              eventSlug={eventSlug}\n            />\n            <Layout.Title data-test-id=\"event-header\">{event.title}</Layout.Title>\n          </Layout.HeaderContent>\n          <Layout.HeaderActions>\n            <Button onClick={this.toggleSidebar}>\n              {isSidebarVisible ? 'Hide Details' : 'Show Details'}\n            </Button>\n          </Layout.HeaderActions>\n        </Layout.Header>\n        <Layout.Body>\n          <Layout.Main fullWidth={!isSidebarVisible}>\n            <Projects orgId={organization.slug} slugs={[this.projectId]}>\n              {({projects}) => (\n                <SpanEntryContext.Provider\n                  value={{\n                    getViewChildTransactionTarget: childTransactionProps => {\n                      return getTransactionDetailsUrl(\n                        organization,\n                        childTransactionProps.eventSlug,\n                        childTransactionProps.transaction,\n                        location.query\n                      );\n                    },\n                  }}\n                >\n                  <BorderlessEventEntries\n                    api={api}\n                    organization={organization}\n                    event={event}\n                    project={projects[0]}\n                    location={location}\n                    showExampleCommit={false}\n                    showTagSummary={false}\n                  />\n                </SpanEntryContext.Provider>\n              )}\n            </Projects>\n          </Layout.Main>\n          {isSidebarVisible && (\n            <Layout.Side>\n              <EventMetadata\n                event={event}\n                organization={organization}\n                projectId={this.projectId}\n              />\n              <OpsBreakdown event={event} />\n              <TagsTable event={event} query={query} generateUrl={this.generateTagUrl} />\n            </Layout.Side>\n          )}\n        </Layout.Body>\n      </React.Fragment>\n    );\n  }\n\n  renderError(error: Error) {\n    const notFound = Object.values(this.state.errors).find(\n      resp => resp && resp.status === 404\n    );\n    const permissionDenied = Object.values(this.state.errors).find(\n      resp => resp && resp.status === 403\n    );\n\n    if (notFound) {\n      return <NotFound />;\n    }\n    if (permissionDenied) {\n      return (\n        <LoadingError message={t('You do not have permission to view that event.')} />\n      );\n    }\n\n    return super.renderError(error, true, true);\n  }\n\n  renderComponent() {\n    const {organization} = this.props;\n\n    return (\n      <SentryDocumentTitle\n        title={t('Performance - Event Details')}\n        objSlug={organization.slug}\n      >\n        {super.renderComponent()}\n      </SentryDocumentTitle>\n    );\n  }\n}\n\nexport default withApi(EventDetailsContent);\n","import {Params} from 'react-router/lib/Router';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from '@emotion/styled';\nimport {Location} from 'history';\n\nimport {Organization} from 'app/types';\nimport {PageContent} from 'app/styles/organization';\nimport {t} from 'app/locale';\nimport LightWeightNoProjectMessage from 'app/components/lightWeightNoProjectMessage';\nimport SentryDocumentTitle from 'app/components/sentryDocumentTitle';\nimport SentryTypes from 'app/sentryTypes';\nimport withOrganization from 'app/utils/withOrganization';\n\nimport EventDetailsContent from './content';\n\ntype Props = {\n  organization: Organization;\n  location: Location;\n  params: Params;\n};\n\nclass EventDetails extends React.Component<Props> {\n  static propTypes: any = {\n    organization: SentryTypes.Organization.isRequired,\n    location: PropTypes.object.isRequired,\n  };\n\n  getEventSlug = (): string => {\n    const {eventSlug} = this.props.params;\n    return typeof eventSlug === 'string' ? eventSlug.trim() : '';\n  };\n\n  render() {\n    const {organization, location, params} = this.props;\n    const documentTitle = t('Performance Details');\n\n    return (\n      <SentryDocumentTitle title={documentTitle} objSlug={organization.slug}>\n        <StyledPageContent>\n          <LightWeightNoProjectMessage organization={organization}>\n            <EventDetailsContent\n              organization={organization}\n              location={location}\n              params={params}\n              eventSlug={this.getEventSlug()}\n            />\n          </LightWeightNoProjectMessage>\n        </StyledPageContent>\n      </SentryDocumentTitle>\n    );\n  }\n}\n\nexport default withOrganization(EventDetails);\n\nconst StyledPageContent = styled(PageContent)`\n  padding: 0;\n`;\n"],"sourceRoot":""}