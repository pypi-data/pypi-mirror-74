{
  "html": "<p>To manually instrument a specific region of your code, you can create a transaction to capture it.</p>\n\n<p>The following example creates a transaction for a part of the code that contains an expensive operation (for example, <code class=\"highlighter-rouge\">processItem</code>), and sends the result to Sentry:</p>\n\n<pre class=\"highlight\"><code><span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"nx\">processItems</span><span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">item</span> <span class=\"o\">=</span> <span class=\"nx\">getFromQueue</span><span class=\"p\">();</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">transaction</span> <span class=\"o\">=</span> <span class=\"nx\">Sentry</span><span class=\"p\">.</span><span class=\"nx\">startTransaction</span><span class=\"p\">({</span>\n      <span class=\"na\">op</span><span class=\"p\">:</span> <span class=\"dl\">\"</span><span class=\"s2\">task</span><span class=\"dl\">\"</span><span class=\"p\">,</span>\n      <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"nx\">item</span><span class=\"p\">.</span><span class=\"nx\">getTransaction</span><span class=\"p\">()</span>\n  <span class=\"p\">})</span>\n\n  <span class=\"c1\">// processItem may create more spans internally (see next examples)</span>\n  <span class=\"nx\">processItem</span><span class=\"p\">(</span><span class=\"nx\">item</span><span class=\"p\">,</span> <span class=\"nx\">transaction</span><span class=\"p\">).</span><span class=\"nx\">then</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n      <span class=\"nx\">transaction</span><span class=\"p\">.</span><span class=\"nx\">finish</span><span class=\"p\">();</span>\n      <span class=\"nx\">next</span><span class=\"p\">();</span>\n  <span class=\"p\">})</span>\n<span class=\"p\">});</span>\n</code></pre>", 
  "link": "https://docs.sentry.io/performance-monitoring/getting-started/?platform=node", 
  "id": "node-tracing", 
  "name": "Node.js"
}
