{"version":3,"sources":["webpack:///./app/components/links/listLink.tsx","webpack:///./app/views/admin/adminLayout.jsx"],"names":["isActive","to","query","index","context","router","pathname","getClassName","_classNames","className","activeClassName","render","children","carriedProps","this","props","onlyActiveOnIndex","displayName","contextTypes","object","isRequired","defaultProps","Component","SidebarWithLatest","withLatestContext","Sidebar","AdminLayout","getTitle","hooksManage","HookStore","get","forEach","cb","push","state","title","paddingTop","React"],"mappings":"iLAoBA,yE,OAYE,EAAAA,SAAW,WACH,cAACA,EAAA,EAAAA,SAAUC,EAAA,EAAAA,GAAIC,EAAA,EAAAA,MAAOC,EAAA,EAAAA,MAE5B,OAAQH,GAAY,EAAKI,QAAQC,OAAOL,UAAU,CAACM,SAAUL,EAAIC,MAAK,GAAGC,IAG3E,EAAAI,aAAe,WACb,IAAMC,EAAc,GACd,UAACC,EAAA,EAAAA,UAAWC,EAAA,EAAAA,gBAUlB,OARID,IACFD,EAAYC,IAAa,GAGvB,EAAKT,aACPQ,EAAYE,IAAmB,GAG1B,IAAWF,I,EAetB,OA7CuB,iBAiCrB,YAAAG,OAAA,WACQ,iBAACR,EAAA,EAAAA,MAAOS,EAAA,EAAAA,SACRC,EAAe,IAAKC,KAAKC,MAAO,kBAAmB,WAAY,SAErE,OACE,wBAAIN,UAAWK,KAAKP,gBAClB,kBAAC,OAAI,eAAKM,EAAY,CAAEG,kBAAmBb,IACxCS,KAvCF,EAAAK,YAAc,WAEd,EAAAC,aAAe,CACpBb,OAAQ,IAAUc,OAAOC,YAGpB,EAAAC,aAA+B,CACpCX,gBAAiB,SACjBP,OAAO,GAoCX,EA7CA,CAAuB,IAAMmB,WA+Cd,O,6PC1DTC,EAAoBC,YAAkBC,KAEvBC,E,YACnB,WAAYX,GAAO,mBACjB,4BAAMA,KAYRY,SAAW,WACT,MAAO,gBAXP,IAAMC,EAAc,GAHH,OAIjBC,IAAUC,IAAI,wBAAwBC,SAAQ,SAAAC,GAC5CJ,EAAYK,KAAKD,QAGnB,EAAKE,MAAQ,CACXN,eATe,E,sDAkBjB,OACE,kBAAC,IAAD,CAAeO,MAAOrB,KAAKa,YACzB,iDAA0B,CAACS,WAAY,KAAvC,QACE,kBAACb,EAAD,MACA,yBAAKd,UAAU,aACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,YACb,wBAAIA,UAAU,cAAd,UACA,wBAAIA,UAAU,mBACZ,kBAAC,IAAD,CAAUN,OAAK,EAACF,GAAG,YAAnB,YAGA,kBAAC,IAAD,CAAUE,OAAK,EAACF,GAAG,mBAAnB,UAGA,kBAAC,IAAD,CAAUE,OAAK,EAACF,GAAG,kBAAnB,SAGA,kBAAC,IAAD,CAAUE,OAAK,EAACF,GAAG,mBAAnB,UAGA,kBAAC,IAAD,CAAUE,OAAK,EAACF,GAAG,+BAAnB,eAGA,kBAAC,IAAD,CAAUE,OAAK,EAACF,GAAG,4BAAnB,YAGA,kBAAC,IAAD,CAAUE,OAAK,EAACF,GAAG,wBAAnB,QAGA,kBAAC,IAAD,CAAUE,OAAK,EAACF,GAAG,4BAAnB,YAGA,kBAAC,IAAD,CAAUE,OAAK,EAACF,GAAG,qBAAnB,aAKF,wBAAIQ,UAAU,cAAd,UACA,wBAAIA,UAAU,mBACZ,kBAAC,IAAD,CAAUR,GAAG,0BAAb,iBACA,kBAAC,IAAD,CAAUA,GAAG,qBAAb,YACA,kBAAC,IAAD,CAAUA,GAAG,kBAAb,SACCa,KAAKoB,MAAMN,cAGhB,yBAAKnB,UAAU,aAAaK,KAAKC,MAAMH,aAI7C,kBAAC,IAAD,Y,GAtE+ByB,IAAMf,WAA1BI,E","file":"AdminLayout.js","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport omit from 'lodash/omit';\nimport {Link} from 'react-router';\nimport classNames from 'classnames';\nimport {LocationDescriptor} from 'history';\n\ntype Props = {\n  to: LocationDescriptor;\n  index: boolean;\n  activeClassName: string;\n  className?: string;\n  query?: string;\n  onClick?: () => void;\n  // If supplied by parent component, decides whether link element\n  // is \"active\" or not ... overriding default behavior of strict\n  // route matching\n  isActive?: (location: LocationDescriptor, indexOnly?: boolean) => boolean;\n};\n\nclass ListLink extends React.Component<Props> {\n  static displayName = 'ListLink';\n\n  static contextTypes = {\n    router: PropTypes.object.isRequired,\n  };\n\n  static defaultProps: Partial<Props> = {\n    activeClassName: 'active',\n    index: false,\n  };\n\n  isActive = () => {\n    const {isActive, to, query, index} = this.props;\n\n    return (isActive || this.context.router.isActive)({pathname: to, query}, index);\n  };\n\n  getClassName = () => {\n    const _classNames = {};\n    const {className, activeClassName} = this.props;\n\n    if (className) {\n      _classNames[className] = true;\n    }\n\n    if (this.isActive()) {\n      _classNames[activeClassName] = true;\n    }\n\n    return classNames(_classNames);\n  };\n\n  render() {\n    const {index, children} = this.props;\n    const carriedProps = omit(this.props, 'activeClassName', 'isActive', 'index');\n\n    return (\n      <li className={this.getClassName()}>\n        <Link {...carriedProps} onlyActiveOnIndex={index}>\n          {children}\n        </Link>\n      </li>\n    );\n  }\n}\n\nexport default ListLink;\n","import DocumentTitle from 'react-document-title';\nimport React from 'react';\n\nimport Footer from 'app/components/footer';\nimport HookStore from 'app/stores/hookStore';\nimport ListLink from 'app/components/links/listLink';\nimport Sidebar from 'app/components/sidebar';\nimport withLatestContext from 'app/utils/withLatestContext';\n\nconst SidebarWithLatest = withLatestContext(Sidebar);\n\nexport default class AdminLayout extends React.Component {\n  constructor(props) {\n    super(props);\n    // Allow injection via getsentry et all\n    const hooksManage = [];\n    HookStore.get('admin:sidebar:manage').forEach(cb => {\n      hooksManage.push(cb());\n    });\n\n    this.state = {\n      hooksManage,\n    };\n  }\n\n  getTitle = () => {\n    return 'Sentry Admin';\n  };\n\n  render() {\n    return (\n      <DocumentTitle title={this.getTitle()}>\n        <div className=\"app\" css={{paddingTop: 20}}>\n          <SidebarWithLatest />\n          <div className=\"container\">\n            <div className=\"content\">\n              <div className=\"row\">\n                <div className=\"col-md-2\">\n                  <h6 className=\"nav-header\">System</h6>\n                  <ul className=\"nav nav-stacked\">\n                    <ListLink index to=\"/manage/\">\n                      Overview\n                    </ListLink>\n                    <ListLink index to=\"/manage/buffer/\">\n                      Buffer\n                    </ListLink>\n                    <ListLink index to=\"/manage/queue/\">\n                      Queue\n                    </ListLink>\n                    <ListLink index to=\"/manage/quotas/\">\n                      Quotas\n                    </ListLink>\n                    <ListLink index to=\"/manage/status/environment/\">\n                      Environment\n                    </ListLink>\n                    <ListLink index to=\"/manage/status/packages/\">\n                      Packages\n                    </ListLink>\n                    <ListLink index to=\"/manage/status/mail/\">\n                      Mail\n                    </ListLink>\n                    <ListLink index to=\"/manage/status/warnings/\">\n                      Warnings\n                    </ListLink>\n                    <ListLink index to=\"/manage/settings/\">\n                      Settings\n                    </ListLink>\n                  </ul>\n\n                  <h6 className=\"nav-header\">Manage</h6>\n                  <ul className=\"nav nav-stacked\">\n                    <ListLink to=\"/manage/organizations/\">Organizations</ListLink>\n                    <ListLink to=\"/manage/projects/\">Projects</ListLink>\n                    <ListLink to=\"/manage/users/\">Users</ListLink>\n                    {this.state.hooksManage}\n                  </ul>\n                </div>\n                <div className=\"col-md-10\">{this.props.children}</div>\n              </div>\n            </div>\n          </div>\n          <Footer />\n        </div>\n      </DocumentTitle>\n    );\n  }\n}\n"],"sourceRoot":""}