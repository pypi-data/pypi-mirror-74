(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[17],{1609:function(e,t,n){"use strict";var r,a,o=n(2),i=n(44),s=n.n(i),u=n(1),l=n.n(u),c=n(0),d=n.n(c),p=n(35),h=n(289),m=n(47),b=n(28),f=n(4),y=n(5),g=n(105),O=n.n(g),j=n(3),v=n(336),E=n(50),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={query:"",busy:!1},t.immediateQuery=function(e){return Object(o.b)(t,void 0,void 0,(function(){var t,n,r,a,i,s;return Object(o.e)(this,(function(u){switch(u.label){case 0:t=this.props,n=t.location,r=t.api,this.setState({busy:!0}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,r.requestPromise(""+this.props.url,{includeAllArgs:!0,method:"GET",query:Object(o.a)(Object(o.a)({},n.query),{query:e})})];case 2:return a=o.g.apply(void 0,[u.sent(),3]),i=a[0],s=a[2],this.state.query===e&&this.props.onSuccess(i,s),[3,4];case 3:return u.sent(),this.props.onError(),[3,4];case 4:return this.setState({busy:!1}),[2]}}))}))},t.query=O()(t.immediateQuery,t.props.debounceWait),t.handleChange=function(e){t.query(e),t.setState({query:e})},t.handleInputChange=function(e){return t.handleChange(e.target.value)},t.handleSearch=function(e){var n=t.props,r=n.updateRoute,a=n.onSearchSubmit;if(e.preventDefault(),r){var o=t.props,i=o.router,s=o.location;i.push({pathname:s.pathname,query:{query:t.state.query}})}"function"==typeof a&&a(t.state.query,e)},t}return Object(o.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.children,r=e.className,a=this.state,o=a.busy,i=a.query,s=d.a.createElement(w,{onSubmit:this.handleSearch},d.a.createElement(v.a,{value:i,onChange:this.handleInputChange,className:r,placeholder:t}),o&&d.a.createElement(R,{size:18,hideMessage:!0,mini:!0}));return void 0===n?s:n({defaultSearchBar:s,busy:o,value:i,handleChange:this.handleChange})},t.defaultProps={placeholder:"Search...",debounceWait:200},t}(d.a.Component),R=Object(j.c)(E.default,{target:"e6xwo0"})(r||(r=Object(o.f)(["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"],["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"]))),w=Object(j.c)("form",{target:"e6xwo1"})(a||(a=Object(o.f)(["\n  position: relative;\n"],["\n  position: relative;\n"]))),q=y.withRouter(S),k=n(159),P=n(6),x=n.n(P),T=n(7),D=n.n(T),C=n(9),V=n.n(C),F=n(8),L=n.n(F),M=n(10),B=n.n(M),A=n(251),N=n.n(A),U=n(104),_=n(73),z=function(e){function t(){return x()(this,t),V()(this,L()(t).apply(this,arguments))}return B()(t,e),D()(t,[{key:"componentDidMount",value:function(){var e=this.props.routes,t=this.context,n=t.organization,r=t.project,a=Object(_.a)(e);p.l((function(e){e.setFingerprint(["Permission Denied",a]),e.setExtra("route",a),e.setExtra("orgFeatures",n&&n.features||[]),e.setExtra("orgAccess",n&&n.access||[]),e.setExtra("projectFeatures",r&&r.features||[]),p.c(new Error("".concat("Permission Denied").concat(a?" : ".concat(a):"")))}))}},{key:"render",value:function(){return d.a.createElement(N.a,{title:Object(f.b)("Permission Denied")},d.a.createElement(k.a,{message:Object(f.c)("Your role does not have the necessary permissions to access this resource, please read more about [link:organizational roles]",{link:d.a.createElement(U.a,{href:"https://docs.sentry.io/learn/membership/"})})}))}}]),t}(d.a.Component);z.displayName="PermissionDenied",z.contextTypes={organization:l.a.object,project:l.a.object};var I=Object(y.withRouter)(z),W=n(569);function H(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,Object(o.i)(n))}catch(t){return console.error(t),setTimeout((function(){throw t})),e.setState({error:t}),null}}}var K=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.reloadOnVisible=!1,r.shouldReloadOnVisible=!1,r.shouldReload=!1,r.shouldRenderBadRequests=!1,r.api=new m.a,r.markShouldMeasure=function(e){var t=void 0===e?{}:e,n=t.remainingRequests,a=t.error;r._measurement.hasMeasured||(r._measurement.finished=0===n,r._measurement.error=a||r._measurement.error)},r.remountComponent=function(){r.shouldReload?r.reloadData():r.setState(r.getDefaultState(),r.fetchData)},r.visibilityReloader=function(){return r.shouldReloadOnVisible&&!r.state.loading&&!document.hidden&&r.reloadData()},r.fetchData=function(e){var t=r.getEndpoints();t.length?(r.api.clear(),r.setState(Object(o.a)({loading:!0,error:!1,remainingRequests:t.length},e)),t.forEach((function(e){var t=Object(o.g)(e,4),n=t[0],a=t[1],i=t[2],s=t[3];s=s||{};var u=r.props.location&&r.props.location.query||{},l=i&&i.query||{};(s.paginate||u.cursor)&&(l=Object(o.a)(Object(o.a)({},u),l)),r.api.request(a,Object(o.a)(Object(o.a)({method:"GET"},i),{query:l,success:function(e,t,a){r.handleRequestSuccess({stateKey:n,data:e,jqXHR:a},!0)},error:function(e){s.allowError&&s.allowError(e)&&(e=null),r.handleError(e,[n,a,i,s])}}))}))):r.setState({loading:!1,error:!1})},r.fetchData=H(r,r.fetchData.bind(r)),r.render=H(r,r.render.bind(r)),r.state=r.getDefaultState(),r._measurement={hasMeasured:!1},t.routes&&t.routes&&b.b.mark("async-component-"+Object(_.a)(t.routes)),r}return Object(o.d)(t,e),t.prototype.componentWillMount=function(){this.api=new m.a,this.fetchData(),this.reloadOnVisible&&document.addEventListener("visibilitychange",this.visibilityReloader)},t.prototype.componentWillReceiveProps=function(e,t){},t.prototype.componentDidUpdate=function(e,t){var n=!!t.router,r=void 0!==e.location,a=r?this.props.location:n?this.context.router.location:null,o=r?e.location:n?t.router.location:null;if(a&&o){if(!this._measurement.hasMeasured&&this._measurement.finished&&this.props.routes){var i=Object(_.a)(this.props.routes);b.b.measure({name:"app.component.async-component",start:"async-component-"+i,data:{route:i,error:this._measurement.error}}),this._measurement.hasMeasured=!0,"function"==typeof this.props.finishProfile&&this.props.finishProfile()}s()(this.props.params,e.params)&&a.search===o.search&&a.state===o.state||this.remountComponent()}},t.prototype.componentWillUnmount=function(){this.api.clear(),document.removeEventListener("visibilitychange",this.visibilityReloader)},t.prototype.getDefaultState=function(){var e=this.getEndpoints(),t={loading:!0,reloading:!1,error:!1,errors:{}};return e.forEach((function(e){var n=Object(o.g)(e,2),r=n[0];n[1];t[r]=null})),t},t.prototype.reloadData=function(){this.fetchData({reloading:!0})},t.prototype.onRequestSuccess=function(e){},t.prototype.onRequestError=function(e,t){},t.prototype.handleRequestSuccess=function(e,t){var n=this,r=e.stateKey,a=e.data,o=e.jqXHR;this.setState((function(e){var i,s=((i={})[r]=a,i[r+"PageLinks"]=o&&o.getResponseHeader("Link"),i);return t&&(s.remainingRequests=e.remainingRequests-1,s.loading=e.remainingRequests>1,s.reloading=e.reloading&&s.loading,n.markShouldMeasure({remainingRequests:s.remainingRequests})),s})),this.onRequestSuccess({stateKey:r,data:a,jqXHR:o})},t.prototype.handleError=function(e,t){var n=this,r=Object(o.g)(t,1)[0];e&&e.responseText&&p.a({message:e.responseText,category:"xhr",level:h.a.Error}),this.setState((function(t){var a,i,s=t.remainingRequests>1,u=((a={})[r]=null,a.errors=Object(o.a)(Object(o.a)({},t.errors),((i={})[r]=e,i)),a.error=t.error||!!e,a.remainingRequests=t.remainingRequests-1,a.loading=s,a.reloading=t.reloading&&s,a);return n.markShouldMeasure({remainingRequests:u.remainingRequests,error:!0}),u})),this.onRequestError(e,t)},t.prototype.getEndpointParams=function(){return console.warn("getEndpointParams is deprecated"),{}},t.prototype.getEndpoint=function(){return console.warn("getEndpoint is deprecated"),null},t.prototype.getEndpoints=function(){var e=this.getEndpoint();return e?[["data",e,this.getEndpointParams()]]:[]},t.prototype.renderSearchInput=function(e){var t=this,n=e.stateKey,r=e.url,a=Object(o.h)(e,["stateKey","url"]),i=Object(o.g)(this.getEndpoints()||[null],1)[0],s=n||i&&i[0],u=r||i&&i[1];return d.a.createElement(q,Object(o.a)({url:u},a,{api:this.api,onSuccess:function(e,n){t.handleRequestSuccess({stateKey:s,data:e,jqXHR:n})},onError:function(){t.renderError(new Error("Error with AsyncComponentSearchInput"))}}))},t.prototype.renderLoading=function(){return d.a.createElement(E.default,null)},t.prototype.renderError=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=this.state.errors,a=Object.values(r).find((function(e){return e&&401===e.status})),o=Object.values(r).find((function(e){return e&&403===e.status})),i=!!Object.values(r).find((function(e){return e&&0!==e.status}))||t;if(a)return d.a.createElement(k.a,{message:Object(f.b)("You are not authorized to access this resource.")});if(o)return d.a.createElement(I,null);if(this.shouldRenderBadRequests){var s=Object.values(r).filter((function(e){return e&&400===e.status&&e.responseJSON&&e.responseJSON.detail})).map((function(e){return e.responseJSON.detail}));if(s.length)return d.a.createElement(k.a,{message:s.join("\n")})}return d.a.createElement(W.a,{error:e,component:this,disableLogSentry:!i,disableReport:n,onRetry:this.remountComponent})},t.prototype.renderComponent=function(){return!this.state.loading||this.shouldReload&&this.state.reloading?this.state.error?this.renderError(new Error("Unable to load all required endpoints")):this.renderBody():this.renderLoading()},t.prototype.renderBody=function(){throw new Error("Not implemented")},t.prototype.render=function(){return this.renderComponent()},t.propTypes={location:l.a.object,router:l.a.object},t.contextTypes={router:l.a.object},t}(d.a.Component);t.a=K},1610:function(e,t,n){"use strict";var r=n(2),a=n(251),o=n.n(a),i=n(0),s=n.n(i),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.getTitle=function(){return""},t.prototype.render=function(){var e=this.getTitle();return s.a.createElement(o.a,{title:(e?e+" - ":"")+"Sentry"},this.renderComponent())},t}(n(1609).a);t.a=u},1834:function(e,t,n){var r=n(579),a=n(799)((function(e,t,n){r(e,n,t)}));e.exports=a},2082:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return E})),n.d(t,"a",(function(){return R}));var r=n(12),a=n.n(r),o=n(16),i=n.n(o),s=n(0),u=n.n(s),l=n(1834),c=n.n(l),d=n(33),p=n(4),h=n(29);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var b=[{key:"system"},{key:"mail",heading:Object(p.b)("Outbound email")},{key:"auth",heading:Object(p.b)("Authentication")},{key:"beacon",heading:Object(p.b)("Beacon")}],f=[{key:"system.url-prefix",label:Object(p.b)("Root URL"),placeholder:"https://sentry.example.com",help:Object(p.b)("The root web address which is used to communicate with the Sentry backend."),defaultValue:function(){return"".concat(document.location.protocol,"//").concat(document.location.host)}},{key:"system.admin-email",label:Object(p.b)("Admin Email"),placeholder:"admin@example.com",help:Object(p.b)("The technical contact for this Sentry installation."),component:h.EmailField,defaultValue:function(){return d.default.get("user").email}},{key:"system.support-email",label:Object(p.b)("Support Email"),placeholder:"support@example.com",help:Object(p.b)("The support contact for this Sentry installation."),component:h.EmailField,defaultValue:function(){return d.default.get("user").email}},{key:"system.security-email",label:Object(p.b)("Security Email"),placeholder:"security@example.com",help:Object(p.b)("The security contact for this Sentry installation."),component:h.EmailField,defaultValue:function(){return d.default.get("user").email}},{key:"system.rate-limit",label:Object(p.b)("Rate Limit"),placeholder:"e.g. 500",help:Object(p.b)("The maximum number of events the system should accept per minute. A value of 0 will disable the default rate limit.")},{key:"auth.allow-registration",label:Object(p.b)("Allow Registration"),help:Object(p.b)("Allow anyone to create an account and access this Sentry installation."),component:h.BooleanField,defaultValue:function(){return!1}},{key:"auth.ip-rate-limit",label:Object(p.b)("IP Rate Limit"),placeholder:"e.g. 10",help:Object(p.b)("The maximum number of times an authentication attempt may be made by a single IP address in a 60 second window.")},{key:"auth.user-rate-limit",label:Object(p.b)("User Rate Limit"),placeholder:"e.g. 10",help:Object(p.b)("The maximum number of times an authentication attempt may be made against a single account in a 60 second window.")},{key:"api.rate-limit.org-create",label:"Organization Creation Rate Limit",placeholder:"e.g. 5",help:Object(p.b)("The maximum number of organizations which may be created by a single account in a one hour window.")},{key:"beacon.anonymous",label:"Usage Statistics",component:h.RadioBooleanField,noLabel:"Send my contact information along with usage statistics",yesLabel:"Please keep my usage information anonymous",yesFirst:!1,help:Object(p.c)("If enabled, any stats reported to sentry.io will exclude identifying information (such as your administrative email address). By anonymizing your installation the Sentry team will be unable to contact you about security updates. For more information on what data is sent to Sentry, see the [link:documentation].",{link:u.a.createElement("a",{href:"https://docs.sentry.io/server/beacon/"})})},{key:"mail.from",label:Object(p.b)("Email From"),component:h.EmailField,defaultValue:function(){return"sentry@".concat(document.location.hostname)},help:Object(p.b)("Email address to be used in From for all outbound email.")},{key:"mail.host",label:Object(p.b)("SMTP Host"),placeholder:"localhost",defaultValue:function(){return"localhost"}},{key:"mail.port",label:Object(p.b)("SMTP Port"),placeholder:"25",defaultValue:function(){return"25"}},{key:"mail.username",label:Object(p.b)("SMTP Username"),defaultValue:function(){return""}},{key:"mail.password",label:Object(p.b)("SMTP Password"),defaultValue:function(){return""}},{key:"mail.use-tls",label:Object(p.b)("Use TLS?"),component:h.BooleanField,defaultValue:function(){return!1}}],y=c()(f,(function(e){return e.key})),g={diskPriority:"This setting is defined in config.yml and may not be changed via the web UI.",smtpDisabled:"SMTP mail has been disabled, so this option is unavailable"};function O(e){return y[e]}function j(e){var t=O(e);return t.defaultValue?t.defaultValue():void 0}function v(e){return f.filter((function(t){return t.key.split(".")[0]===e.key}))}function E(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},O(e),{},t),r=n.component||h.TextField;return u.a.createElement(r,a()({},n,{name:e,key:e,defaultValue:j(e),required:n.required&&!n.allowEmpty,disabledReason:n.disabledReason&&g[n.disabledReason]}))}function S(e,t){return u.a.createElement("fieldset",{key:e.key},e.heading&&u.a.createElement("legend",null,e.heading),t)}function R(e){var t=[],n=!0,r=!1,a=void 0;try{for(var o,i=b[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value,u=[],l=!0,c=!1,d=void 0;try{for(var p,h=v(s)[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var m=p.value;e[m.key]&&u.push(e[m.key])}}catch(e){c=!0,d=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw d}}u.length&&t.push(S(s,u))}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return t}E.displayName="getOptionField",S.displayName="getSectionFieldSet"}}]);
//# sourceMappingURL=AdminSettings~InstallWizard.js.map