(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[55],{1609:function(e,t,n){"use strict";var r,i,o=n(2),a=n(44),s=n.n(a),u=n(1),c=n.n(u),l=n(0),p=n.n(l),h=n(35),d=n(289),f=n(47),m=n(28),b=n(4),y=n(5),g=n(105),v=n.n(g),O=n(3),E=n(336),j=n(50),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={query:"",busy:!1},t.immediateQuery=function(e){return Object(o.b)(t,void 0,void 0,(function(){var t,n,r,i,a,s;return Object(o.e)(this,(function(u){switch(u.label){case 0:t=this.props,n=t.location,r=t.api,this.setState({busy:!0}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,r.requestPromise(""+this.props.url,{includeAllArgs:!0,method:"GET",query:Object(o.a)(Object(o.a)({},n.query),{query:e})})];case 2:return i=o.g.apply(void 0,[u.sent(),3]),a=i[0],s=i[2],this.state.query===e&&this.props.onSuccess(a,s),[3,4];case 3:return u.sent(),this.props.onError(),[3,4];case 4:return this.setState({busy:!1}),[2]}}))}))},t.query=v()(t.immediateQuery,t.props.debounceWait),t.handleChange=function(e){t.query(e),t.setState({query:e})},t.handleInputChange=function(e){return t.handleChange(e.target.value)},t.handleSearch=function(e){var n=t.props,r=n.updateRoute,i=n.onSearchSubmit;if(e.preventDefault(),r){var o=t.props,a=o.router,s=o.location;a.push({pathname:s.pathname,query:{query:t.state.query}})}"function"==typeof i&&i(t.state.query,e)},t}return Object(o.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.children,r=e.className,i=this.state,o=i.busy,a=i.query,s=p.a.createElement(x,{onSubmit:this.handleSearch},p.a.createElement(E.a,{value:a,onChange:this.handleInputChange,className:r,placeholder:t}),o&&p.a.createElement(w,{size:18,hideMessage:!0,mini:!0}));return void 0===n?s:n({defaultSearchBar:s,busy:o,value:a,handleChange:this.handleChange})},t.defaultProps={placeholder:"Search...",debounceWait:200},t}(p.a.Component),w=Object(O.c)(j.default,{target:"e6xwo0"})(r||(r=Object(o.f)(["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"],["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"]))),x=Object(O.c)("form",{target:"e6xwo1"})(i||(i=Object(o.f)(["\n  position: relative;\n"],["\n  position: relative;\n"]))),R=y.withRouter(q),M=n(159),S=n(6),k=n.n(S),_=n(7),C=n.n(_),P=n(9),D=n.n(P),T=n(8),B=n.n(T),H=n(10),U=n.n(H),F=n(251),Q=n.n(F),A=n(104),I=n(73),L=function(e){function t(){return k()(this,t),D()(this,B()(t).apply(this,arguments))}return U()(t,e),C()(t,[{key:"componentDidMount",value:function(){var e=this.props.routes,t=this.context,n=t.organization,r=t.project,i=Object(I.a)(e);h.l((function(e){e.setFingerprint(["Permission Denied",i]),e.setExtra("route",i),e.setExtra("orgFeatures",n&&n.features||[]),e.setExtra("orgAccess",n&&n.access||[]),e.setExtra("projectFeatures",r&&r.features||[]),h.c(new Error("".concat("Permission Denied").concat(i?" : ".concat(i):"")))}))}},{key:"render",value:function(){return p.a.createElement(Q.a,{title:Object(b.b)("Permission Denied")},p.a.createElement(M.a,{message:Object(b.c)("Your role does not have the necessary permissions to access this resource, please read more about [link:organizational roles]",{link:p.a.createElement(A.a,{href:"https://docs.sentry.io/learn/membership/"})})}))}}]),t}(p.a.Component);L.displayName="PermissionDenied",L.contextTypes={organization:c.a.object,project:c.a.object};var N=Object(y.withRouter)(L),W=n(569);function z(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,Object(o.i)(n))}catch(t){return console.error(t),setTimeout((function(){throw t})),e.setState({error:t}),null}}}var $=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.reloadOnVisible=!1,r.shouldReloadOnVisible=!1,r.shouldReload=!1,r.shouldRenderBadRequests=!1,r.api=new f.a,r.markShouldMeasure=function(e){var t=void 0===e?{}:e,n=t.remainingRequests,i=t.error;r._measurement.hasMeasured||(r._measurement.finished=0===n,r._measurement.error=i||r._measurement.error)},r.remountComponent=function(){r.shouldReload?r.reloadData():r.setState(r.getDefaultState(),r.fetchData)},r.visibilityReloader=function(){return r.shouldReloadOnVisible&&!r.state.loading&&!document.hidden&&r.reloadData()},r.fetchData=function(e){var t=r.getEndpoints();t.length?(r.api.clear(),r.setState(Object(o.a)({loading:!0,error:!1,remainingRequests:t.length},e)),t.forEach((function(e){var t=Object(o.g)(e,4),n=t[0],i=t[1],a=t[2],s=t[3];s=s||{};var u=r.props.location&&r.props.location.query||{},c=a&&a.query||{};(s.paginate||u.cursor)&&(c=Object(o.a)(Object(o.a)({},u),c)),r.api.request(i,Object(o.a)(Object(o.a)({method:"GET"},a),{query:c,success:function(e,t,i){r.handleRequestSuccess({stateKey:n,data:e,jqXHR:i},!0)},error:function(e){s.allowError&&s.allowError(e)&&(e=null),r.handleError(e,[n,i,a,s])}}))}))):r.setState({loading:!1,error:!1})},r.fetchData=z(r,r.fetchData.bind(r)),r.render=z(r,r.render.bind(r)),r.state=r.getDefaultState(),r._measurement={hasMeasured:!1},t.routes&&t.routes&&m.b.mark("async-component-"+Object(I.a)(t.routes)),r}return Object(o.d)(t,e),t.prototype.componentWillMount=function(){this.api=new f.a,this.fetchData(),this.reloadOnVisible&&document.addEventListener("visibilitychange",this.visibilityReloader)},t.prototype.componentWillReceiveProps=function(e,t){},t.prototype.componentDidUpdate=function(e,t){var n=!!t.router,r=void 0!==e.location,i=r?this.props.location:n?this.context.router.location:null,o=r?e.location:n?t.router.location:null;if(i&&o){if(!this._measurement.hasMeasured&&this._measurement.finished&&this.props.routes){var a=Object(I.a)(this.props.routes);m.b.measure({name:"app.component.async-component",start:"async-component-"+a,data:{route:a,error:this._measurement.error}}),this._measurement.hasMeasured=!0,"function"==typeof this.props.finishProfile&&this.props.finishProfile()}s()(this.props.params,e.params)&&i.search===o.search&&i.state===o.state||this.remountComponent()}},t.prototype.componentWillUnmount=function(){this.api.clear(),document.removeEventListener("visibilitychange",this.visibilityReloader)},t.prototype.getDefaultState=function(){var e=this.getEndpoints(),t={loading:!0,reloading:!1,error:!1,errors:{}};return e.forEach((function(e){var n=Object(o.g)(e,2),r=n[0];n[1];t[r]=null})),t},t.prototype.reloadData=function(){this.fetchData({reloading:!0})},t.prototype.onRequestSuccess=function(e){},t.prototype.onRequestError=function(e,t){},t.prototype.handleRequestSuccess=function(e,t){var n=this,r=e.stateKey,i=e.data,o=e.jqXHR;this.setState((function(e){var a,s=((a={})[r]=i,a[r+"PageLinks"]=o&&o.getResponseHeader("Link"),a);return t&&(s.remainingRequests=e.remainingRequests-1,s.loading=e.remainingRequests>1,s.reloading=e.reloading&&s.loading,n.markShouldMeasure({remainingRequests:s.remainingRequests})),s})),this.onRequestSuccess({stateKey:r,data:i,jqXHR:o})},t.prototype.handleError=function(e,t){var n=this,r=Object(o.g)(t,1)[0];e&&e.responseText&&h.a({message:e.responseText,category:"xhr",level:d.a.Error}),this.setState((function(t){var i,a,s=t.remainingRequests>1,u=((i={})[r]=null,i.errors=Object(o.a)(Object(o.a)({},t.errors),((a={})[r]=e,a)),i.error=t.error||!!e,i.remainingRequests=t.remainingRequests-1,i.loading=s,i.reloading=t.reloading&&s,i);return n.markShouldMeasure({remainingRequests:u.remainingRequests,error:!0}),u})),this.onRequestError(e,t)},t.prototype.getEndpointParams=function(){return console.warn("getEndpointParams is deprecated"),{}},t.prototype.getEndpoint=function(){return console.warn("getEndpoint is deprecated"),null},t.prototype.getEndpoints=function(){var e=this.getEndpoint();return e?[["data",e,this.getEndpointParams()]]:[]},t.prototype.renderSearchInput=function(e){var t=this,n=e.stateKey,r=e.url,i=Object(o.h)(e,["stateKey","url"]),a=Object(o.g)(this.getEndpoints()||[null],1)[0],s=n||a&&a[0],u=r||a&&a[1];return p.a.createElement(R,Object(o.a)({url:u},i,{api:this.api,onSuccess:function(e,n){t.handleRequestSuccess({stateKey:s,data:e,jqXHR:n})},onError:function(){t.renderError(new Error("Error with AsyncComponentSearchInput"))}}))},t.prototype.renderLoading=function(){return p.a.createElement(j.default,null)},t.prototype.renderError=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=this.state.errors,i=Object.values(r).find((function(e){return e&&401===e.status})),o=Object.values(r).find((function(e){return e&&403===e.status})),a=!!Object.values(r).find((function(e){return e&&0!==e.status}))||t;if(i)return p.a.createElement(M.a,{message:Object(b.b)("You are not authorized to access this resource.")});if(o)return p.a.createElement(N,null);if(this.shouldRenderBadRequests){var s=Object.values(r).filter((function(e){return e&&400===e.status&&e.responseJSON&&e.responseJSON.detail})).map((function(e){return e.responseJSON.detail}));if(s.length)return p.a.createElement(M.a,{message:s.join("\n")})}return p.a.createElement(W.a,{error:e,component:this,disableLogSentry:!a,disableReport:n,onRetry:this.remountComponent})},t.prototype.renderComponent=function(){return!this.state.loading||this.shouldReload&&this.state.reloading?this.state.error?this.renderError(new Error("Unable to load all required endpoints")):this.renderBody():this.renderLoading()},t.prototype.renderBody=function(){throw new Error("Not implemented")},t.prototype.render=function(){return this.renderComponent()},t.propTypes={location:c.a.object,router:c.a.object},t.contextTypes={router:c.a.object},t}(p.a.Component);t.a=$},1610:function(e,t,n){"use strict";var r=n(2),i=n(251),o=n.n(i),a=n(0),s=n.n(a),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.getTitle=function(){return""},t.prototype.render=function(){var e=this.getTitle();return s.a.createElement(o.a,{title:(e?e+" - ":"")+"Sentry"},this.renderComponent())},t}(n(1609).a);t.a=u},1617:function(e,t,n){var r=n(1619);e.exports=function(e,t){if(t=t||{},"string"==typeof e&&(e=document.querySelector(e)),e)return r(0,function(e,t,n){var r,i=document.body,o=document.documentElement,a=e.getBoundingClientRect(),s=o.clientHeight,u=Math.max(i.scrollHeight,i.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight);t=t||0,r="bottom"===n?a.bottom-s:"middle"===n?a.bottom-s/2-a.height/2:a.top;var c=u-s;return Math.min(r+t+window.pageYOffset,c)}(e,t.offset,t.align),t)}},1619:function(e,t,n){var r=n(1620),i=n(1623);e.exports=function(e,t,n){n=n||{};var o={top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft},a=r(o).ease(n.ease||"out-circ").to({top:t,left:e}).duration(n.duration||1e3);function s(){i(s),a.update()}return a.update((function(e){window.scrollTo(0|e.left,0|e.top)})),a.on("end",(function(){s=function(){}})),s(),a}},1620:function(e,t,n){var r=n(1621);function i(e){if(!(this instanceof i))return new i(e);this._from=e,this.ease("linear"),this.duration(500)}n(1622)(i.prototype),i.prototype.reset=function(){return this.isArray="[object Array]"===Object.prototype.toString.call(this._from),this._curr=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({},this._from),this._done=!1,this._start=Date.now(),this},i.prototype.to=function(e){return this.reset(),this._to=e,this},i.prototype.duration=function(e){return this._duration=e,this},i.prototype.ease=function(e){if(!(e="function"==typeof e?e:r[e]))throw new TypeError("invalid easing function");return this._ease=e,this},i.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this},i.prototype.step=function(){if(!this._done){var e=this._duration,t=Date.now();if(t-this._start>=e)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var n=this._from,r=this._to,i=this._curr,o=(0,this._ease)((t-this._start)/e);if(this.isArray){for(var a=0;a<n.length;++a)i[a]=n[a]+(r[a]-n[a])*o;return this._update(i),this}for(var s in n)i[s]=n[s]+(r[s]-n[s])*o;return this._update(i),this}},i.prototype.update=function(e){return 0==arguments.length?this.step():(this._update=e,this)},e.exports=i},1621:function(e,t){t.linear=function(e){return e},t.inQuad=function(e){return e*e},t.outQuad=function(e){return e*(2-e)},t.inOutQuad=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},t.inCube=function(e){return e*e*e},t.outCube=function(e){return--e*e*e+1},t.inOutCube=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},t.inQuart=function(e){return e*e*e*e},t.outQuart=function(e){return 1- --e*e*e*e},t.inOutQuart=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},t.inQuint=function(e){return e*e*e*e*e},t.outQuint=function(e){return--e*e*e*e*e+1},t.inOutQuint=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},t.inSine=function(e){return 1-Math.cos(e*Math.PI/2)},t.outSine=function(e){return Math.sin(e*Math.PI/2)},t.inOutSine=function(e){return.5*(1-Math.cos(Math.PI*e))},t.inExpo=function(e){return 0==e?0:Math.pow(1024,e-1)},t.outExpo=function(e){return 1==e?e:1-Math.pow(2,-10*e)},t.inOutExpo=function(e){return 0==e?0:1==e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},t.inCirc=function(e){return 1-Math.sqrt(1-e*e)},t.outCirc=function(e){return Math.sqrt(1- --e*e)},t.inOutCirc=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.inBack=function(e){var t=1.70158;return e*e*((t+1)*e-t)},t.outBack=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},t.inOutBack=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},t.inBounce=function(e){return 1-t.outBounce(1-e)},t.outBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.inOutBounce=function(e){return e<.5?.5*t.inBounce(2*e):.5*t.outBounce(2*e-1)+.5},t.inElastic=function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},t.outElastic=function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},t.inOutElastic=function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)},t["in-quad"]=t.inQuad,t["out-quad"]=t.outQuad,t["in-out-quad"]=t.inOutQuad,t["in-cube"]=t.inCube,t["out-cube"]=t.outCube,t["in-out-cube"]=t.inOutCube,t["in-quart"]=t.inQuart,t["out-quart"]=t.outQuart,t["in-out-quart"]=t.inOutQuart,t["in-quint"]=t.inQuint,t["out-quint"]=t.outQuint,t["in-out-quint"]=t.inOutQuint,t["in-sine"]=t.inSine,t["out-sine"]=t.outSine,t["in-out-sine"]=t.inOutSine,t["in-expo"]=t.inExpo,t["out-expo"]=t.outExpo,t["in-out-expo"]=t.inOutExpo,t["in-circ"]=t.inCirc,t["out-circ"]=t.outCirc,t["in-out-circ"]=t.inOutCirc,t["in-back"]=t.inBack,t["out-back"]=t.outBack,t["in-out-back"]=t.inOutBack,t["in-bounce"]=t.inBounce,t["out-bounce"]=t.outBounce,t["in-out-bounce"]=t.inOutBounce,t["in-elastic"]=t.inElastic,t["out-elastic"]=t.outElastic,t["in-out-elastic"]=t.inOutElastic},1622:function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length},e.exports=r},1623:function(e,t,n){(function(t){for(var r=n(1624),i="undefined"==typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],u=i["cancel"+a]||i["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=i[o[c]+"Request"+a],u=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!s||!u){var l=0,p=0,h=[];s=function(e){if(0===h.length){var t=r(),n=Math.max(0,1e3/60-(t-l));l=n+t,setTimeout((function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return h.push({handle:++p,callback:e,cancelled:!1}),p},u=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){u.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=u}}).call(this,n(123))},1624:function(e,t,n){(function(t){(function(){var n,r,i,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(574))},1628:function(e,t,n){"use strict";var r=n(2),i=n(144),o=n(1),a=n.n(o),s=n(0),u=n.n(s),c=n(35),l=n(1617),p=n.n(l),h=n(571),d=n(1625),f=n(250),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.title,i=t.fields,o=t.access,a=t.disabled,s=t.additionalFieldProps,c=t.renderFooter,l=t.renderHeader,p=Object(r.h)(t,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader"]);return u.a.createElement(f.a,{key:n,id:Object(h.a)(n)},n&&u.a.createElement(f.e,null,n),u.a.createElement(f.c,null,"function"==typeof l&&l({title:n,fields:i}),i.map((function(t){if("function"==typeof t)return t();t.defaultValue;var n=Object(r.h)(t,["defaultValue"]);return!0===a&&(n.disabled=!0,n.disabledReason=void 0),u.a.createElement(d.a,Object(r.a)({access:o,disabled:a,key:t.name},p,s,{field:n,highlighted:e.props.highlighted==="#"+t.name}))})),"function"==typeof c&&c({title:n,fields:i})))},t}(u.a.Component),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={highlighted:y(t.props,t.context).hash},t}return Object(r.d)(t,e),t.prototype.componentDidMount=function(){this.scrollToHash()},t.prototype.componentWillReceiveProps=function(e){if(y(this.props,this.context).hash!==y(e,this.context).hash){var t=y(e,this.context).hash;this.scrollToHash(t),this.setState({highlighted:t})}},t.prototype.scrollToHash=function(e){var t=e||y(this.props,this.context).hash;if(t)try{p()(Object(h.a)(decodeURIComponent(t)),{align:"middle",offset:-100})}catch(e){c.c(e)}},t.prototype.render=function(){var e=this.props,t=e.forms,n=e.title,o=e.fields,a=e.access,s=e.disabled,c=e.features,l=e.additionalFieldProps,p=e.renderFooter,h=e.renderHeader,d=(e.location,Object(r.h)(e,["forms","title","fields","access","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),f={access:a,disabled:s,features:c,additionalFieldProps:l,renderFooter:p,renderHeader:h,highlighted:this.state.highlighted};return u.a.createElement(i.a,Object(r.a)({},d),void 0!==t&&t.map((function(e){return u.a.createElement(m,Object(r.a)({key:e.title,title:e.title,fields:e.fields},f))})),void 0===t&&void 0!==o&&u.a.createElement(m,Object(r.a)({title:n,fields:o},f)))},t.propTypes={forms:a.a.arrayOf(a.a.shape({title:a.a.string,fields:a.a.arrayOf(a.a.oneOfType([a.a.func,d.a.propTypes.field]))})),fields:a.a.arrayOf(a.a.oneOfType([a.a.func,d.a.propTypes.field])),title:a.a.oneOfType([a.a.string,a.a.object]),access:a.a.object,features:a.a.object,renderFooter:a.a.func,renderHeader:a.a.func,disabled:a.a.bool},t.defaultProps={additionalFieldProps:{}},t.contextTypes={location:a.a.object},t}(u.a.Component);t.a=b;function y(e,t){return e.location||t.location||{}}},2600:function(e,t,n){"use strict";n.r(t);var r=n(12),i=n.n(r),o=n(23),a=n.n(o),s=n(6),u=n.n(s),c=n(7),l=n.n(c),p=n(9),h=n.n(p),d=n(8),f=n.n(d),m=n(10),b=n.n(m),y=n(5),g=n(0),v=n.n(g),O=n(3),E=n(51),j=n(83),q=n(4),w=n(1610),x=n(27),R=n(1616),M=n(1635),S=n(1628),k=n(1808),_=n(11),C={title:"User details",fields:[{name:"name",type:"string",required:!0,label:Object(q.b)("Name")},{name:"username",type:"string",required:!0,label:Object(q.b)("Username"),help:Object(q.b)("The username is the unique id of the user in the system")},{name:"email",type:"string",required:!0,label:Object(q.b)("Email"),help:Object(q.b)("The users primary email address")},{name:"isActive",type:"boolean",required:!0,label:Object(q.b)("Active"),help:Object(q.b)("Designates whether this user should be treated as active. Unselect this instead of deleting accounts.")},{name:"isStaff",type:"boolean",required:!0,label:Object(q.b)("Admin"),help:Object(q.b)("Designates whether this user can perform administrative functions.")},{name:"isSuperuser",type:"boolean",required:!0,label:Object(q.b)("Superuser"),help:Object(q.b)("Designates whether this user has all permissions without explicitly assigning them.")}]},P={disable:Object(q.b)("Disable User"),delete:Object(q.b)("Permanently Delete User")},D=function(e){function t(){var e,n;u()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=h()(this,(e=f()(t)).call.apply(e,[this].concat(i)))).state={deleteType:"disable"},n.onRemove=function(){n.props.onRemove(n.state.deleteType),n.props.closeModal()},n}return b()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props.user,n=this.state.deleteType;return v.a.createElement(v.a.Fragment,null,v.a.createElement("p",null,Object(q.c)("Removing user [user]",{user:v.a.createElement("strong",null,t.email)})),v.a.createElement(k.a,{value:n,onChange:function(t){return e.setState({deleteType:t})},choices:[["disable",Object(q.b)("Disable the account.")],["delete",Object(q.b)("Permanently remove the user and their data.")]]}),v.a.createElement(B,null,v.a.createElement(x.a,{priority:"danger",onClick:this.onRemove},P[n]),v.a.createElement(x.a,{onClick:this.props.closeModal},Object(q.b)("Nevermind"))))}}]),t}(v.a.Component);D.displayName="RemoveUserModal";var T=function(e){function t(){var e,n;u()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=h()(this,(e=f()(t)).call.apply(e,[this].concat(i)))).removeUser=function(e){return"delete"===e?n.deleteUser():n.deactivateUser()},n.formModel=new M.a,n}return b()(t,e),l()(t,[{key:"getEndpoints",value:function(){return[["user",this.userEndpoint]]}},{key:"deleteUser",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(this.api.requestPromise(this.userEndpoint,{method:"DELETE",data:{hardDelete:!0,organizations:[]}}));case 2:Object(E.d)(Object(q.b)("%s's account has been deleted.",this.state.user.email)),y.browserHistory.replace("/manage/users/");case 4:case"end":return e.stop()}}),null,this)}},{key:"deactivateUser",value:function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(this.api.requestPromise(this.userEndpoint,{method:"PUT",data:{isActive:!1}}));case 2:e=t.sent,this.setState({user:e}),this.formModel.setInitialData(e),Object(E.d)(Object(q.b)("%s's account has been deactivated.",e.email));case 6:case"end":return t.stop()}}),null,this)}},{key:"renderBody",value:function(){var e=this,t=this.state.user;return v.a.createElement(v.a.Fragment,null,v.a.createElement("h3",null,Object(q.b)("Users")),v.a.createElement("p",null,Object(q.b)("Editing user: %s",t.email)),v.a.createElement(R.a,{model:this.formModel,initialData:t,apiMethod:"PUT",apiEndpoint:this.userEndpoint,requireChanges:!0,onSubmitError:E.a,onSubmitSuccess:function(t){e.setState({user:t}),Object(E.d)("User account updated.")},extraButton:v.a.createElement(x.a,{type:"button",onClick:function(){return Object(j.k)((function(n){return v.a.createElement(D,i()({user:t,onRemove:e.removeUser},n))}))},style:{marginLeft:Object(_.a)(1)},priority:"danger"},Object(q.b)("Remove User"))},v.a.createElement(S.a,{forms:[C]})))}},{key:"userEndpoint",get:function(){var e=this.props.params;return"/users/".concat(e.id,"/")}}]),t}(w.a),B=Object(O.c)("div",{target:"e1fsmxla0"})("display:grid;grid-auto-flow:column;grid-gap:",Object(_.a)(1),";justify-content:end;padding:20px 30px;margin:20px -30px -30px;border-top:1px solid ",(function(e){return e.theme.borderLight}),";");t.default=T}}]);
//# sourceMappingURL=AdminUserEdit.js.map