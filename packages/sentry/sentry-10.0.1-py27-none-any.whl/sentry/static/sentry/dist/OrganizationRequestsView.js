(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[123],{1609:function(e,t,n){"use strict";var r,a,i=n(2),o=n(44),s=n.n(o),c=n(1),u=n.n(c),l=n(0),d=n.n(l),p=n(35),m=n(289),h=n(47),f=n(28),b=n(4),g=n(5),v=n(105),y=n.n(v),j=n(3),O=n(336),q=n(50),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={query:"",busy:!1},t.immediateQuery=function(e){return Object(i.b)(t,void 0,void 0,(function(){var t,n,r,a,o,s;return Object(i.e)(this,(function(c){switch(c.label){case 0:t=this.props,n=t.location,r=t.api,this.setState({busy:!0}),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,r.requestPromise(""+this.props.url,{includeAllArgs:!0,method:"GET",query:Object(i.a)(Object(i.a)({},n.query),{query:e})})];case 2:return a=i.g.apply(void 0,[c.sent(),3]),o=a[0],s=a[2],this.state.query===e&&this.props.onSuccess(o,s),[3,4];case 3:return c.sent(),this.props.onError(),[3,4];case 4:return this.setState({busy:!1}),[2]}}))}))},t.query=y()(t.immediateQuery,t.props.debounceWait),t.handleChange=function(e){t.query(e),t.setState({query:e})},t.handleInputChange=function(e){return t.handleChange(e.target.value)},t.handleSearch=function(e){var n=t.props,r=n.updateRoute,a=n.onSearchSubmit;if(e.preventDefault(),r){var i=t.props,o=i.router,s=i.location;o.push({pathname:s.pathname,query:{query:t.state.query}})}"function"==typeof a&&a(t.state.query,e)},t}return Object(i.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.children,r=e.className,a=this.state,i=a.busy,o=a.query,s=d.a.createElement(x,{onSubmit:this.handleSearch},d.a.createElement(O.a,{value:o,onChange:this.handleInputChange,className:r,placeholder:t}),i&&d.a.createElement(R,{size:18,hideMessage:!0,mini:!0}));return void 0===n?s:n({defaultSearchBar:s,busy:i,value:o,handleChange:this.handleChange})},t.defaultProps={placeholder:"Search...",debounceWait:200},t}(d.a.Component),R=Object(j.c)(q.default,{target:"e6xwo0"})(r||(r=Object(i.f)(["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"],["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"]))),x=Object(j.c)("form",{target:"e6xwo1"})(a||(a=Object(i.f)(["\n  position: relative;\n"],["\n  position: relative;\n"]))),w=g.withRouter(E),S=n(159),z=n(6),D=n.n(z),A=n(7),P=n.n(A),k=n(9),I=n.n(k),C=n(8),T=n.n(C),M=n(10),B=n.n(M),N=n(251),_=n.n(N),L=n(104),U=n(73),K=function(e){function t(){return D()(this,t),I()(this,T()(t).apply(this,arguments))}return B()(t,e),P()(t,[{key:"componentDidMount",value:function(){var e=this.props.routes,t=this.context,n=t.organization,r=t.project,a=Object(U.a)(e);p.l((function(e){e.setFingerprint(["Permission Denied",a]),e.setExtra("route",a),e.setExtra("orgFeatures",n&&n.features||[]),e.setExtra("orgAccess",n&&n.access||[]),e.setExtra("projectFeatures",r&&r.features||[]),p.c(new Error("".concat("Permission Denied").concat(a?" : ".concat(a):"")))}))}},{key:"render",value:function(){return d.a.createElement(_.a,{title:Object(b.b)("Permission Denied")},d.a.createElement(S.a,{message:Object(b.c)("Your role does not have the necessary permissions to access this resource, please read more about [link:organizational roles]",{link:d.a.createElement(L.a,{href:"https://docs.sentry.io/learn/membership/"})})}))}}]),t}(d.a.Component);K.displayName="PermissionDenied",K.contextTypes={organization:u.a.object,project:u.a.object};var W=Object(g.withRouter)(K),J=n(569);function F(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,Object(i.i)(n))}catch(t){return console.error(t),setTimeout((function(){throw t})),e.setState({error:t}),null}}}var H=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.reloadOnVisible=!1,r.shouldReloadOnVisible=!1,r.shouldReload=!1,r.shouldRenderBadRequests=!1,r.api=new h.a,r.markShouldMeasure=function(e){var t=void 0===e?{}:e,n=t.remainingRequests,a=t.error;r._measurement.hasMeasured||(r._measurement.finished=0===n,r._measurement.error=a||r._measurement.error)},r.remountComponent=function(){r.shouldReload?r.reloadData():r.setState(r.getDefaultState(),r.fetchData)},r.visibilityReloader=function(){return r.shouldReloadOnVisible&&!r.state.loading&&!document.hidden&&r.reloadData()},r.fetchData=function(e){var t=r.getEndpoints();t.length?(r.api.clear(),r.setState(Object(i.a)({loading:!0,error:!1,remainingRequests:t.length},e)),t.forEach((function(e){var t=Object(i.g)(e,4),n=t[0],a=t[1],o=t[2],s=t[3];s=s||{};var c=r.props.location&&r.props.location.query||{},u=o&&o.query||{};(s.paginate||c.cursor)&&(u=Object(i.a)(Object(i.a)({},c),u)),r.api.request(a,Object(i.a)(Object(i.a)({method:"GET"},o),{query:u,success:function(e,t,a){r.handleRequestSuccess({stateKey:n,data:e,jqXHR:a},!0)},error:function(e){s.allowError&&s.allowError(e)&&(e=null),r.handleError(e,[n,a,o,s])}}))}))):r.setState({loading:!1,error:!1})},r.fetchData=F(r,r.fetchData.bind(r)),r.render=F(r,r.render.bind(r)),r.state=r.getDefaultState(),r._measurement={hasMeasured:!1},t.routes&&t.routes&&f.b.mark("async-component-"+Object(U.a)(t.routes)),r}return Object(i.d)(t,e),t.prototype.componentWillMount=function(){this.api=new h.a,this.fetchData(),this.reloadOnVisible&&document.addEventListener("visibilitychange",this.visibilityReloader)},t.prototype.componentWillReceiveProps=function(e,t){},t.prototype.componentDidUpdate=function(e,t){var n=!!t.router,r=void 0!==e.location,a=r?this.props.location:n?this.context.router.location:null,i=r?e.location:n?t.router.location:null;if(a&&i){if(!this._measurement.hasMeasured&&this._measurement.finished&&this.props.routes){var o=Object(U.a)(this.props.routes);f.b.measure({name:"app.component.async-component",start:"async-component-"+o,data:{route:o,error:this._measurement.error}}),this._measurement.hasMeasured=!0,"function"==typeof this.props.finishProfile&&this.props.finishProfile()}s()(this.props.params,e.params)&&a.search===i.search&&a.state===i.state||this.remountComponent()}},t.prototype.componentWillUnmount=function(){this.api.clear(),document.removeEventListener("visibilitychange",this.visibilityReloader)},t.prototype.getDefaultState=function(){var e=this.getEndpoints(),t={loading:!0,reloading:!1,error:!1,errors:{}};return e.forEach((function(e){var n=Object(i.g)(e,2),r=n[0];n[1];t[r]=null})),t},t.prototype.reloadData=function(){this.fetchData({reloading:!0})},t.prototype.onRequestSuccess=function(e){},t.prototype.onRequestError=function(e,t){},t.prototype.handleRequestSuccess=function(e,t){var n=this,r=e.stateKey,a=e.data,i=e.jqXHR;this.setState((function(e){var o,s=((o={})[r]=a,o[r+"PageLinks"]=i&&i.getResponseHeader("Link"),o);return t&&(s.remainingRequests=e.remainingRequests-1,s.loading=e.remainingRequests>1,s.reloading=e.reloading&&s.loading,n.markShouldMeasure({remainingRequests:s.remainingRequests})),s})),this.onRequestSuccess({stateKey:r,data:a,jqXHR:i})},t.prototype.handleError=function(e,t){var n=this,r=Object(i.g)(t,1)[0];e&&e.responseText&&p.a({message:e.responseText,category:"xhr",level:m.a.Error}),this.setState((function(t){var a,o,s=t.remainingRequests>1,c=((a={})[r]=null,a.errors=Object(i.a)(Object(i.a)({},t.errors),((o={})[r]=e,o)),a.error=t.error||!!e,a.remainingRequests=t.remainingRequests-1,a.loading=s,a.reloading=t.reloading&&s,a);return n.markShouldMeasure({remainingRequests:c.remainingRequests,error:!0}),c})),this.onRequestError(e,t)},t.prototype.getEndpointParams=function(){return console.warn("getEndpointParams is deprecated"),{}},t.prototype.getEndpoint=function(){return console.warn("getEndpoint is deprecated"),null},t.prototype.getEndpoints=function(){var e=this.getEndpoint();return e?[["data",e,this.getEndpointParams()]]:[]},t.prototype.renderSearchInput=function(e){var t=this,n=e.stateKey,r=e.url,a=Object(i.h)(e,["stateKey","url"]),o=Object(i.g)(this.getEndpoints()||[null],1)[0],s=n||o&&o[0],c=r||o&&o[1];return d.a.createElement(w,Object(i.a)({url:c},a,{api:this.api,onSuccess:function(e,n){t.handleRequestSuccess({stateKey:s,data:e,jqXHR:n})},onError:function(){t.renderError(new Error("Error with AsyncComponentSearchInput"))}}))},t.prototype.renderLoading=function(){return d.a.createElement(q.default,null)},t.prototype.renderError=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=this.state.errors,a=Object.values(r).find((function(e){return e&&401===e.status})),i=Object.values(r).find((function(e){return e&&403===e.status})),o=!!Object.values(r).find((function(e){return e&&0!==e.status}))||t;if(a)return d.a.createElement(S.a,{message:Object(b.b)("You are not authorized to access this resource.")});if(i)return d.a.createElement(W,null);if(this.shouldRenderBadRequests){var s=Object.values(r).filter((function(e){return e&&400===e.status&&e.responseJSON&&e.responseJSON.detail})).map((function(e){return e.responseJSON.detail}));if(s.length)return d.a.createElement(S.a,{message:s.join("\n")})}return d.a.createElement(J.a,{error:e,component:this,disableLogSentry:!o,disableReport:n,onRetry:this.remountComponent})},t.prototype.renderComponent=function(){return!this.state.loading||this.shouldReload&&this.state.reloading?this.state.error?this.renderError(new Error("Unable to load all required endpoints")):this.renderBody():this.renderLoading()},t.prototype.renderBody=function(){throw new Error("Not implemented")},t.prototype.render=function(){return this.renderComponent()},t.propTypes={location:u.a.object,router:u.a.object},t.contextTypes={router:u.a.object},t}(d.a.Component);t.a=H},1610:function(e,t,n){"use strict";var r=n(2),a=n(251),i=n.n(a),o=n(0),s=n.n(o),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.getTitle=function(){return""},t.prototype.render=function(){var e=this.getTitle();return s.a.createElement(i.a,{title:(e?e+" - ":"")+"Sentry"},this.renderComponent())},t}(n(1609).a);t.a=c},1633:function(e,t,n){"use strict";var r=n(20),a=n.n(r),i=n(1),o=n.n(i),s=n(0),c=n.n(s),u=n(3),l=n(19),d=Object(u.c)((function(e){var t=e.children,n=e.icon,r=(e.priority,e.size,e.border,a()(e,["children","icon","priority","size","border"]));return c.a.createElement("div",r,n&&c.a.createElement(p,{src:n,size:"12px"}),t)}),{target:"e6q9yfr0"})("display:inline-flex;box-sizing:border-box;padding:",(function(e){return"small"===e.size?"0.1em 0.4em 0.2em":"0.35em 0.8em 0.4em"}),";font-size:75%;line-height:1;color:",(function(e){return e.priority?"#fff":e.gray5}),";text-align:center;white-space:nowrap;vertical-align:middle;border-radius:",(function(e){return"small"===e.size?"0.25em":"2em"}),";text-transform:lowercase;font-weight:",(function(e){return"small"===e.size?"bold":"normal"}),";background:",(function(e){return e.priority?e.theme.alert[e.priority].background:e.theme.offWhite2}),";",(function(e){return function(e){return e.border?"border: 1px solid ".concat(e.priority?e.theme.alert[e.priority].border:e.theme.gray1,";"):""}(e)}),";",(function(e){return function(e){return e.inline?"margin-left: ".concat("small"===e.size?"0.25em":"0.5em",";"):""}(e)}),";");d.propTypes={priority:o.a.string,size:o.a.string,border:o.a.bool,icon:o.a.string,inline:o.a.bool};var p=Object(u.c)(l.a,{target:"e6q9yfr1"})("margin-right:4px;");t.a=d},1732:function(e,t,n){"use strict";var r=n(2),a=n(0),i=n.n(a),o=n(18),s=n.n(o),c=n(22),u=n.n(c),l=n(87),d=n(161);t.a=function(e){return u()({displayName:"withTeams("+Object(l.a)(e)+")",mixins:[s.a.listenTo(d.a,"onTeamUpdate")],getInitialState:function(){return{teams:d.a.getAll()}},onTeamUpdate:function(){this.setState({teams:d.a.getAll()})},render:function(){return i.a.createElement(e,Object(r.a)({},this.props,{teams:this.state.teams}))}})}},1962:function(e,t,n){"use strict";var r,a,i=n(2),o=n(0),s=n.n(o),c=n(3),u=n(11),l=n(137),d=Object(c.c)(l.a,{target:"enwdr730"})(r||(r=Object(i.f)(["\n  .Select-menu-outer {\n    margin-top: ",";\n    width: 350px;\n    border-radius: 4px;\n    overflow: hidden;\n    box-shadow: 0 0 6px rgba(0, 0, 0, 0.15);\n  }\n\n  &.Select.is-focused.is-open > .Select-control {\n    border-radius: 4px;\n  }\n\n  .Select-option:not(:last-child) {\n    border-bottom: 1px solid ",";\n  }\n"],["\n  .Select-menu-outer {\n    margin-top: ",";\n    width: 350px;\n    border-radius: 4px;\n    overflow: hidden;\n    box-shadow: 0 0 6px rgba(0, 0, 0, 0.15);\n  }\n\n  &.Select.is-focused.is-open > .Select-control {\n    border-radius: 4px;\n  }\n\n  .Select-option:not(:last-child) {\n    border-bottom: 1px solid ",";\n  }\n"])),Object(u.a)(1),(function(e){return e.theme.borderLight})),p=Object(c.c)("div",{target:"enwdr731"})(a||(a=Object(i.f)(["\n  display: grid;\n  grid-template-columns: 80px 1fr;\n  grid-gap: ",";\n\n  h1,\n  div {\n    font-size: ",";\n    line-height: 1.4;\n    margin: "," 0;\n  }\n"],["\n  display: grid;\n  grid-template-columns: 80px 1fr;\n  grid-gap: ",";\n\n  h1,\n  div {\n    font-size: ",";\n    line-height: 1.4;\n    margin: "," 0;\n  }\n"])),Object(u.a)(1),(function(e){return e.theme.fontSizeSmall}),Object(u.a)(.25));t.a=function(e){var t=e.roles,n=e.disableUnallowed,r=Object(i.h)(e,["roles","disableUnallowed"]);return s.a.createElement(d,Object(i.a)({options:t&&t.map((function(e){return{value:e.id,label:e.name,disabled:n&&!e.allowed}})),optionRenderer:function(e){var n=t.find((function(t){return t.id===e.value})),r=n.name,a=n.desc;return s.a.createElement(p,null,s.a.createElement("h1",null,r),s.a.createElement("div",null,a))}},r))}},2659:function(e,t,n){"use strict";n.r(t);var r,a,i,o,s,c,u,l=n(2),d=n(1),p=n.n(d),m=n(0),h=n.n(m),f=n(24),b=n(51),g=n(250),v=n(4),y=n(28),j=n(570),O=n(86),q=n(1732),E=n(1610),R=n(3),x=n(27),w=n(252),S=n(297),z=n(1633),D=n(39),A=n(11),P=n(137),k=n(1962),I=Object(S.a)({hookName:"member-invite-modal:customization",defaultComponent:function(e){var t=e.onSendInvites;return(0,e.children)({sendInvites:t,canSend:!0})}}),C=Object(R.c)(z.a,{target:"e15jhn050"})(r||(r=Object(l.f)(["\n  padding: "," ",";\n  font-size: 10px;\n  text-transform: uppercase;\n"],["\n  padding: "," ",";\n  font-size: 10px;\n  text-transform: uppercase;\n"])),Object(A.a)(.5),Object(A.a)(.75)),T=Object(R.c)(g.f,{target:"e15jhn051"})(a||(a=Object(l.f)(["\n  display: grid;\n  grid-template-columns: minmax(150px, auto) minmax(100px, 140px) 220px max-content;\n  grid-gap: ",";\n  align-items: center;\n"],["\n  display: grid;\n  grid-template-columns: minmax(150px, auto) minmax(100px, 140px) 220px max-content;\n  grid-gap: ",";\n  align-items: center;\n"])),Object(A.a)(2)),M=Object(R.c)("div",{target:"e15jhn052"})(i||(i=Object(l.f)(["\n  font-size: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  font-size: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])),(function(e){return e.theme.fontSizeLarge})),B=Object(R.c)("div",{target:"e15jhn053"})(o||(o=Object(l.f)(["\n  display: block;\n  color: ",";\n  font-size: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  display: block;\n  color: ",";\n  font-size: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])),(function(e){return e.theme.gray3})),N=Object(R.c)(k.a,{target:"e15jhn054"})(s||(s=Object(l.f)(["\n  max-width: 140px;\n"],["\n  max-width: 140px;\n"]))),_=Object(R.c)(P.a,{target:"e15jhn055"})(c||(c=Object(l.f)(["\n  max-width: 220px;\n  .Select-value-label {\n    max-width: 150px;\n    word-break: break-all;\n  }\n"],["\n  max-width: 220px;\n  .Select-value-label {\n    max-width: 150px;\n    word-break: break-all;\n  }\n"]))),L=Object(R.c)("div",{target:"e15jhn056"})(u||(u=Object(l.f)(["\n  display: inline-grid;\n  grid-template-columns: repeat(2, max-content);\n  grid-gap: ",";\n"],["\n  display: inline-grid;\n  grid-template-columns: repeat(2, max-content);\n  grid-gap: ",";\n"])),Object(A.a)(1)),U=function(e){var t=e.inviteRequest,n=e.inviteRequestBusy,r=e.organization,a=e.onApprove,i=e.onDeny,o=e.onUpdate,s=e.allTeams,c=e.allRoles,u=c.find((function(e){return e.id===t.role})),l=!(u&&u.allowed);return h.a.createElement(I,{willInvite:!0,organization:r,onSendInvites:function(){return a(t)}},(function(e){var r=e.sendInvites,a=e.canSend,u=e.headerInfo;return h.a.createElement(T,null,h.a.createElement("div",null,h.a.createElement("h5",{style:{marginBottom:"3px"}},h.a.createElement(M,null,t.email)),"requested_to_be_invited"===t.inviteStatus?t.inviterName&&h.a.createElement(B,null,h.a.createElement(D.a,{title:Object(v.b)("An existing member has asked to invite this user to your organization")},Object(v.c)("Requested by [inviterName]",{inviterName:t.inviterName}))):h.a.createElement(D.a,{title:Object(v.b)("This user has asked to join your organization.")},h.a.createElement(C,{size:"small"},Object(v.b)("Join request")))),h.a.createElement(N,{name:"role",disableUnallowed:!0,onChange:function(e){return o({role:e.value})},value:t.role,roles:c}),h.a.createElement(_,{name:"teams",placeholder:Object(v.b)("Add to teams..."),onChange:function(e){return o({teams:e.map((function(e){return e.value}))})},value:t.teams,options:s.map((function(e){var t=e.slug;return{value:t,label:"#"+t}})),multiple:!0,clearable:!0}),h.a.createElement(L,null,h.a.createElement(w.a,{onConfirm:r,disableConfirmButton:!a,disabled:l,message:h.a.createElement(h.a.Fragment,null,Object(v.c)("Are you sure you want to invite [email] to your organization?",{email:t.email}),u)},h.a.createElement(x.a,{priority:"primary",size:"small",busy:n[t.id],title:l?Object(v.b)("You do not have permission to approve a user of this role.\n                     Select a different role to approve this user."):void 0},Object(v.b)("Approve"))),h.a.createElement(x.a,{size:"small",busy:n[t.id],onClick:function(){return i(t)}},Object(v.b)("Deny"))))}))},K=n(23),W=n.n(K),J=n(16),F=n.n(J),H=n(6),Y=n.n(H),V=n(7),X=n.n(V),G=n(9),Q=n.n(G),Z=n(8),$=n.n(Z),ee=n(10),te=n.n(ee),ne=n(61);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(n,!0).forEach((function(t){F()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=function(e){function t(){var e,n;Y()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Q()(this,(e=$()(t)).call.apply(e,[this].concat(a)))).state={accessRequestBusy:{}},n.handleAction=function(e){var t,r,a,i,o,s,c,u;return W.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.id,r=e.isApproved,a=e.successMessage,i=e.errorMessage,o=n.props,s=o.api,c=o.orgId,u=o.onRemoveAccessRequest,n.setState((function(e){return{accessRequestBusy:ae({},e.accessRequestBusy,F()({},t,!0))}})),l.prev=3,l.next=6,W.a.awrap(s.requestPromise("/organizations/".concat(c,"/access-requests/").concat(t,"/"),{method:"PUT",data:{isApproved:r}}));case 6:u(t),Object(b.d)(a),l.next=13;break;case 10:l.prev=10,l.t0=l.catch(3),Object(b.a)(i);case 13:n.setState((function(e){return{accessRequestBusy:ae({},e.accessRequestBusy,F()({},t,!1))}}));case 14:case"end":return l.stop()}}),null,null,[[3,10]])},n.handleApprove=function(e,t){t.stopPropagation(),n.handleAction({id:e,isApproved:!0,successMessage:Object(v.b)("Team request approved"),errorMessage:Object(v.b)("Error approving team request")})},n.handleDeny=function(e,t){t.stopPropagation(),n.handleAction({id:e,isApproved:!1,successMessage:Object(v.b)("Team request denied"),errorMessage:Object(v.b)("Error denying team request")})},n}return te()(t,e),X()(t,[{key:"render",value:function(){var e=this,t=this.props.requestList,n=this.state.accessRequestBusy;return t&&t.length?h.a.createElement(g.a,null,h.a.createElement(g.e,null,Object(v.b)("Pending Team Requests")),h.a.createElement(g.c,null,t.map((function(t){var r=t.id,a=t.member,i=t.team,o=a.user&&(a.user.name||a.user.email||a.user.username);return h.a.createElement(oe,{key:r},h.a.createElement("div",{"data-test-id":"request-message"},Object(v.c)("[name] requests access to the [team] team.",{name:h.a.createElement("strong",null,o),team:h.a.createElement("strong",null,"#",i.slug)})),h.a.createElement("div",null,h.a.createElement(se,{priority:"primary",size:"small",onClick:function(t){return e.handleApprove(r,t)},busy:n[r]},Object(v.b)("Approve")),h.a.createElement(x.a,{busy:n[r],onClick:function(t){return e.handleDeny(r,t)},size:"small"},Object(v.b)("Deny"))))})))):null}}]),t}(h.a.Component);ie.displayName="OrganizationAccessRequests",ie.defaultProps={requestList:[]};var oe=Object(R.c)(g.f,{target:"e6r9sdi0"})("display:grid;grid-template-columns:auto max-content;grid-gap:",Object(A.a)(2),";align-items:center;"),se=Object(R.c)(x.a,{target:"e6r9sdi1"})("margin-right:",Object(A.a)(1),";"),ce=Object(ne.a)(ie),ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleAction=function(e){var n=e.inviteRequest,r=e.method,a=e.data,i=e.successMessage,o=e.errorMessage,s=e.eventKey,c=e.eventName;return Object(l.b)(t,void 0,void 0,(function(){var e,t,u,d;return Object(l.e)(this,(function(p){switch(p.label){case 0:e=this.props,t=e.params,u=e.organization,d=e.onRemoveInviteRequest,this.setState((function(e){var t;return{inviteRequestBusy:Object(l.a)(Object(l.a)({},e.inviteRequestBusy),(t={},t[n.id]=!0,t))}})),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.api.requestPromise("/organizations/"+t.orgId+"/invite-requests/"+n.id+"/",{method:r,data:a})];case 2:return p.sent(),d(n.id),Object(b.d)(i),Object(y.d)({eventKey:s,eventName:c,organization_id:u.id,member_id:parseInt(n.id,10),invite_status:n.inviteStatus}),[3,4];case 3:return p.sent(),Object(b.a)(o),[3,4];case 4:return this.setState((function(e){var t;return{inviteRequestBusy:Object(l.a)(Object(l.a)({},e.inviteRequestBusy),(t={},t[n.id]=!1,t))}})),[2]}}))}))},t.handleApprove=function(e){t.handleAction({inviteRequest:e,method:"PUT",data:{role:e.role,teams:e.teams,approve:1},successMessage:Object(v.c)("[email] has been invited",{email:e.email}),errorMessage:Object(v.c)("Error inviting [email]",{email:e.email}),eventKey:"invite_request.approved",eventName:"Invite Request Approved"})},t.handleDeny=function(e){t.handleAction({inviteRequest:e,method:"DELETE",data:{},successMessage:Object(v.c)("Invite request for [email] denied",{email:e.email}),errorMessage:Object(v.c)("Error denying invite request for [email]",{email:e.email}),eventKey:"invite_request.denied",eventName:"Invite Request Denied"})},t}return Object(l.d)(t,e),t.prototype.getDefaultState=function(){var t=e.prototype.getDefaultState.call(this);return Object(l.a)(Object(l.a)({},t),{inviteRequestBusy:{}})},t.prototype.componentWillMount=function(){e.prototype.componentWillMount.call(this),this.handleRedirect()},t.prototype.componentDidUpdate=function(){this.handleRedirect()},t.prototype.getEndpoints=function(){return[["member","/organizations/"+this.props.organization.slug+"/members/me/"]]},t.prototype.handleRedirect=function(){var e=this.props,t=e.router,n=e.params,r=e.requestList;return e.showInviteRequests||r.length?null:t.push("/settings/"+n.orgId+"/members/")},t.prototype.render=function(){var e=this,t=this.props,n=t.params,r=t.requestList,a=t.showInviteRequests,i=t.inviteRequests,o=t.onRemoveAccessRequest,s=t.onUpdateInviteRequest,c=t.organization,u=t.teams,l=this.state,d=l.inviteRequestBusy,p=l.member;return h.a.createElement(h.a.Fragment,null,a&&h.a.createElement(g.a,null,h.a.createElement(g.e,null,Object(v.b)("Pending Invite Requests")),h.a.createElement(g.c,null,i.map((function(t){return h.a.createElement(U,{key:t.id,organization:c,inviteRequest:t,inviteRequestBusy:d,allTeams:u,allRoles:p?p.roles:f.w,onApprove:e.handleApprove,onDeny:e.handleDeny,onUpdate:function(e){return s(t.id,e)}})})),0===i.length&&h.a.createElement(j.a,null,Object(v.b)("No requests found.")))),h.a.createElement(ce,{orgId:n.orgId,requestList:r,onRemoveAccessRequest:o}))},t.propTypes={requestList:p.a.array.isRequired,inviteRequests:p.a.array.isRequired,onRemoveInviteRequest:p.a.func.isRequired,onRemoveAccessRequest:p.a.func.isRequired,showInviteRequests:p.a.bool.isRequired},t.defaultProps={inviteRequests:[]},t}(E.a);t.default=Object(q.a)(Object(O.a)(ue))}}]);
//# sourceMappingURL=OrganizationRequestsView.js.map