(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[62],{1630:function(e,t,r){"use strict";var a=r(2),n=r(0),o=r.n(n),s=r(36),i=r.n(s);t.a=function(e){var t=e.underlined,r=e.className,n=Object(a.h)(e,["underlined","className"]),s=i()("nav nav-tabs",r,{"border-bottom":t});return o.a.createElement("ul",Object(a.a)({className:s},n))}},2653:function(e,t,r){"use strict";r.r(t);var a=r(45),n=r.n(a),o=r(23),s=r.n(o),i=r(16),l=r.n(i),c=r(20),u=r.n(c),p=r(6),g=r.n(p),b=r(7),m=r.n(b),h=r(9),d=r.n(h),f=r(8),v=r.n(f),O=r(10),y=r.n(O),j=r(0),S=r.n(j),x=r(3),w=r(4),k=r(159),E=r(50),L=r(1630),N=r(11),P=r(61),_=r(5),C=r(27),J=r(33),D=r(155),M=r(98),A=r(360),q=r(351),z=function(e){var t=e.vstsLoginLink,r=e.githubLoginLink,a=e.googleLoginLink;return S.a.createElement(I,null,S.a.createElement(H,null,Object(w.b)("External Account Login")),a&&S.a.createElement(C.a,{align:"left",size:"small",icon:"icon-google",href:a},Object(w.b)("Sign in with Google")),r&&S.a.createElement(C.a,{align:"left",size:"small",icon:"icon-github",href:r},Object(w.b)("Sign in with GitHub")),t&&S.a.createElement(C.a,{align:"left",size:"small",icon:"icon-vsts",href:t},Object(w.b)("Sign in with Azure DevOps")))};z.displayName="LoginProviders";var T=function(e){function t(){var e,r;g()(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=d()(this,(e=v()(t)).call.apply(e,[this].concat(n)))).state={errorMessage:null,errors:{}},r.handleSubmit=function(e,t,a){var n,o;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,s.a.awrap(r.props.api.requestPromise("/auth/login/",{method:"POST",data:e}));case 3:n=i.sent,t(e),J.default.set("user",n.user),_.browserHistory.push({pathname:n.nextUri}),i.next=18;break;case 9:if(i.prev=9,i.t0=i.catch(0),i.t0.responseJSON&&i.t0.responseJSON.errors){i.next=14;break}return a(i.t0),i.abrupt("return");case 14:o=i.t0.responseJSON.detail,i.t0.responseJSON.errors.__all__&&(o=i.t0.responseJSON.errors.__all__),r.setState({errorMessage:o,errors:i.t0.responseJSON.errors||{}}),a(i.t0);case 18:case"end":return i.stop()}}),null,null,[[0,9]])},r}return y()(t,e),m()(t,[{key:"render",value:function(){var e=this.state,t=e.errorMessage,r=e.errors,a=this.props.authConfig,n=a.githubLoginLink,o=a.vstsLoginLink,s=n||o;return S.a.createElement(F,{hasLoginProvider:s},S.a.createElement(D.default,{submitLabel:Object(w.b)("Continue"),onSubmit:this.handleSubmit,footerClass:le,errorMessage:t,extraButton:S.a.createElement(R,{to:"/account/recover/"},Object(w.b)("Lost your password?"))},S.a.createElement(q.a,{name:"username",placeholder:Object(w.b)("username or email"),label:Object(w.b)("Account"),error:r.username,required:!0}),S.a.createElement(A.a,{name:"password",placeholder:Object(w.b)("password"),label:Object(w.b)("Password"),error:r.password,required:!0})),s&&S.a.createElement(z,{vstsLoginLink:o,githubLoginLink:n}))}}]),t}(S.a.Component);T.displayName="LoginForm";var F=Object(x.c)("div",{target:"ehxu6rp0"})("display:grid;grid-gap:60px;grid-template-columns:",(function(e){return e.hasLoginProvider?"1fr 0.8fr":"1fr"}),";"),H=Object(x.c)("div",{target:"ehxu6rp1"})("margin:0;font-size:15px;font-weight:bold;line-height:24px;"),I=Object(x.c)("div",{target:"ehxu6rp2"})("position:relative;display:grid;grid-auto-rows:max-content;grid-gap:",Object(N.a)(1.5),";&:before{position:absolute;display:block;content:'';top:0;bottom:0;left:-30px;border-left:1px solid ",(function(e){return e.theme.borderLight}),";}"),R=Object(x.c)(M.a,{target:"ehxu6rp3"})("color:",(function(e){return e.theme.gray2}),";&:hover{color:",(function(e){return e.theme.gray5}),";}"),U=T,B=r(104),W=r(617),G=function(){return S.a.createElement(W.a,{name:"subscribe",yesLabel:Object(w.b)("Yes, I would like to receive updates via email"),noLabel:Object(w.b)("No, I'd prefer not to receive these updates"),help:Object(w.c)("We'd love to keep you updated via email with product and feature\n           announcements, promotions, educational materials, and events. Our\n           updates focus on relevant information, and we'll never sell your data\n           to third parties. See our [link] for more details.",{link:S.a.createElement("a",{href:"https://sentry.io/privacy/"},"Privacy Policy")})})};G.displayName="SubscribeField";var Y=function(e){function t(){var e,r;g()(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=d()(this,(e=v()(t)).call.apply(e,[this].concat(n)))).state={errorMessage:null,errors:{}},r.handleSubmit=function(e,t,a){var n,o,i;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=r.props.api,l.prev=1,l.next=4,s.a.awrap(n.requestPromise("/auth/register/",{method:"POST",data:e}));case 4:o=l.sent,t(e),J.default.set("user",o.user),_.browserHistory.push({pathname:o.nextUri}),l.next=19;break;case 10:if(l.prev=10,l.t0=l.catch(1),l.t0.responseJSON&&l.t0.responseJSON.errors){l.next=15;break}return a(l.t0),l.abrupt("return");case 15:i=l.t0.responseJSON.detail,l.t0.responseJSON.errors.__all__&&(i=l.t0.responseJSON.errors.__all__),r.setState({errorMessage:i,errors:l.t0.responseJSON.errors||{}}),a(l.t0);case 19:case"end":return l.stop()}}),null,null,[[1,10]])},r}return y()(t,e),m()(t,[{key:"render",value:function(){var e=this.props.authConfig.hasNewsletter,t=this.state,r=t.errorMessage,a=t.errors;return S.a.createElement(D.default,{initialData:{subscribe:!0},submitLabel:Object(w.b)("Continue"),onSubmit:this.handleSubmit,footerClass:le,errorMessage:r,extraButton:S.a.createElement(K,{href:"https://sentry.io/privacy/"},Object(w.b)("Privacy Policy"))},S.a.createElement(q.a,{name:"name",placeholder:Object(w.b)("Jane Bloggs"),maxlength:30,label:Object(w.b)("Name"),error:a.name,required:!0}),S.a.createElement(q.a,{name:"username",placeholder:Object(w.b)("you@example.com"),maxlength:128,label:Object(w.b)("Email"),error:a.username,required:!0}),S.a.createElement(A.a,{name:"password",placeholder:Object(w.b)("something super secret"),label:Object(w.b)("Password"),error:a.password,required:!0}),e&&S.a.createElement(G,null))}}]),t}(S.a.Component);Y.displayName="RegisterForm";var K=Object(x.c)(B.a,{target:"e8jhup10"})("color:",(function(e){return e.theme.gray2}),";&:hover{color:",(function(e){return e.theme.gray5}),";}"),Q=Y,V=function(e){return S.a.createElement("code",null,e.hostname,"/",S.a.createElement("strong",null,e.slug))};V.displayName="SlugExample";var X=function(e){function t(){var e,r;g()(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=d()(this,(e=v()(t)).call.apply(e,[this].concat(n)))).state={errorMessage:null},r.handleSubmit=function(e,t,a){var n,o,i;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=r.props.api,l.prev=1,l.next=4,s.a.awrap(n.requestPromise("/auth/sso-locate/",{method:"POST",data:e}));case 4:o=l.sent,t(e),_.browserHistory.push({pathname:o.nextUri}),l.next=17;break;case 9:if(l.prev=9,l.t0=l.catch(1),l.t0.responseJSON){l.next=14;break}return a(l.t0),l.abrupt("return");case 14:i=l.t0.responseJSON.detail,r.setState({errorMessage:i}),a(l.t0);case 17:case"end":return l.stop()}}),null,null,[[1,9]])},r}return y()(t,e),m()(t,[{key:"render",value:function(){var e=this.props.authConfig.serverHostname,t=this.state.errorMessage;return S.a.createElement(D.default,{className:"form-stacked",submitLabel:Object(w.b)("Continue"),onSubmit:this.handleSubmit,footerClass:"auth-footer",errorMessage:t},S.a.createElement(q.a,{name:"organization",placeholder:"acme",label:Object(w.b)("Organization ID"),required:!0,help:Object(w.c)("Your ID is the slug after the hostname. e.g. [example] is [slug].",{slug:S.a.createElement("strong",null,"acme"),example:S.a.createElement(V,{slug:"acme",hostname:e})})}))}}]),t}(S.a.Component);X.displayName="SsoForm";var Z=X;function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(r,!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,"formFooterClass",(function(){return le}));var te={login:U,register:Q,sso:Z},re=function(e){function t(){var e,r;g()(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=d()(this,(e=v()(t)).call.apply(e,[this].concat(n)))).state={loading:!0,error:null,activeTab:"login",authConfig:{}},r.handleSetTab=function(e,t){r.setState({activeTab:e}),t.preventDefault()},r.fetchData=function(){var e,t,a,n,o,i,l;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e=r.props.api,c.prev=1,c.next=4,s.a.awrap(e.requestPromise("/auth/config/"));case 4:t=c.sent,a=t.vsts_login_link,n=t.github_login_link,o=t.google_login_link,i=u()(t,["vsts_login_link","github_login_link","google_login_link"]),l=ee({},i,{vstsLoginLink:a,githubLoginLink:n,googleLoginLink:o}),r.setState({authConfig:l}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),r.setState({error:!0});case 13:r.setState({loading:!1});case 14:case"end":return c.stop()}}),null,null,[[1,10]])},r}return y()(t,e),m()(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,t=this.props.api,r=this.state,a=r.loading,o=r.error,s=r.activeTab,i=r.authConfig,l=te[s],c=[["login",Object(w.b)("Login")],["sso",Object(w.b)("Single Sign-On")],["register",Object(w.b)("Register"),!i.canRegister]];return S.a.createElement(S.a.Fragment,null,S.a.createElement(ne,null,S.a.createElement(oe,null,Object(w.b)("Sign in to continue")),S.a.createElement(se,null,c.map((function(t){var r=n()(t,3),a=r[0],o=r[1];return!r[2]&&S.a.createElement("li",{key:a,className:s===a?"active":""},S.a.createElement("a",{href:"#",onClick:function(t){return e.handleSetTab(a,t)}},o))})))),a&&S.a.createElement(E.default,null),o&&S.a.createElement(ae,{message:Object(w.b)("Unable to load authentication configuration"),onRetry:this.fetchData}),!a&&!o&&S.a.createElement(ie,{hasAuthProviders:this.hasAuthProviders},S.a.createElement(l,{api:t,authConfig:i})))}},{key:"hasAuthProviders",get:function(){var e=this.state.authConfig,t=e.githubLoginLink,r=e.googleLoginLink,a=e.vstsLoginLink;return t||a||r}}]),t}(S.a.Component);re.displayName="Login";var ae=Object(x.c)(k.a,{target:"et0mrty0"})("margin:",Object(N.a)(2),";"),ne=Object(x.c)("div",{target:"et0mrty1"})("border-bottom:1px solid ",(function(e){return e.theme.borderLight}),";padding:20px 40px 0;"),oe=Object(x.c)("h3",{target:"et0mrty2"})("font-size:24px;margin:0 0 20px 0;"),se=Object(x.c)(L.a,{target:"et0mrty3"})("margin:0;"),ie=Object(x.c)("div",{target:"et0mrty4"})("padding:35px;width:",(function(e){return e.hasAuthProviders?"600px":"490px"}),";"),le=Object(x.a)("display:grid;grid-template-columns:max-content 1fr;grid-gap:",Object(N.a)(1),";align-items:center;justify-items:end;border-top:none;margin-bottom:0;padding:0;");t.default=Object(P.a)(re)}}]);
//# sourceMappingURL=AuthLogin.js.map