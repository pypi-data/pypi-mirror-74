(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[177],{1618:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(577),r=a.n(n),c=a(447);function o(e,t){var a,n,o=t.routes,s=t.params,i=t.location,u=t.stepBack,m=o.map((function(e){return e.path||""}));"string"!=typeof e?(n=o.indexOf(e)+1,a=r()(m.slice(0,n),(function(e){return"/"===e[0]}))):a=r()(m,(function(e){return"/"===e[0]}));var d=m.slice(a,n);void 0!==u&&(d=d.slice(0,u));var l=void 0!==i&&i.search?i.search:"",p=""+d.join("")+("string"!=typeof e?"":e)+l;return Object(c.a)(p,s)}},1630:function(e,t,a){"use strict";var n=a(2),r=a(0),c=a.n(r),o=a(36),s=a.n(o);t.a=function(e){var t=e.underlined,a=e.className,r=Object(n.h)(e,["underlined","className"]),o=s()("nav nav-tabs",a,{"border-bottom":t});return c.a.createElement("ul",Object(n.a)({className:o},r))}},1632:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(251),o=a.n(c);t.a=function(e){var t=e.title+" - "+e.objSlug+" - Sentry";return r.a.createElement(o.a,{title:t},e.children)}},1641:function(e,t,a){"use strict";var n=a(2),r=a(1),c=a.n(r),o=a(0),s=a.n(o),i=a(195),u=a.n(i),m=a(5),d=a(36),l=a.n(d),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isActive=function(){var e=t.props,a=e.isActive,n=e.to,r=e.query,c=e.index;return(a||t.context.router.isActive)({pathname:n,query:r},c)},t.getClassName=function(){var e={},a=t.props,n=a.className,r=a.activeClassName;return n&&(e[n]=!0),t.isActive()&&(e[r]=!0),l()(e)},t}return Object(n.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.index,a=e.children,r=u()(this.props,"activeClassName","isActive","index");return s.a.createElement("li",{className:this.getClassName()},s.a.createElement(m.Link,Object(n.a)({},r,{onlyActiveOnIndex:t}),a))},t.displayName="ListLink",t.contextTypes={router:c.a.object.isRequired},t.defaultProps={activeClassName:"active",index:!1},t}(s.a.Component);t.a=p},1690:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"g",(function(){return u})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return p})),a.d(t,"e",(function(){return f}));var n=a(111),r=a(4),c=a(51),o=a(174),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("function"==typeof e[t]){for(var a=arguments.length,n=new Array(a>2?a-2:0),r=2;r<a;r++)n[r-2]=arguments[r];e[t].apply(e,n)}};function i(e,t,a){return n.a.fetchDetails(t.teamId),e.request("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{success:function(e){n.a.fetchDetailsSuccess(t.teamId,e),s(a,"success",e)},error:function(e){n.a.fetchDetailsError(t.teamId,e),s(a,"error",e)}})}function u(e,t){n.a.updateSuccess(e,t)}function m(e,t,a){var r="/teams/".concat(t.orgId,"/").concat(t.teamId,"/");return n.a.update(t.teamId,t.data),e.request(r,{method:"PUT",data:t.data,success:function(e){u(t.teamId,e),s(a,"success",e)},error:function(e){n.a.updateError(t.teamId,e),s(a,"error",e)}})}function d(e,t,a){var r="/organizations/".concat(t.orgId,"/members/").concat(t.memberId||"me","/teams/").concat(t.teamId,"/"),c=Object(o.a)();return n.a.update(c,t.teamId),e.request(r,{method:"POST",data:t.data,success:function(e){n.a.updateSuccess(t.teamId,e),s(a,"success",e)},error:function(e){n.a.updateError(c,t.teamId,e),s(a,"error",e)}})}function l(e,t,a){var r="/organizations/".concat(t.orgId,"/members/").concat(t.memberId||"me","/teams/").concat(t.teamId,"/"),c=Object(o.a)();return n.a.update(c,t.teamId),e.request(r,{method:"DELETE",success:function(e){n.a.updateSuccess(t.teamId,e),s(a,"success",e)},error:function(e){n.a.updateError(c,t.teamId,e),s(a,"error",e)}})}function p(e,t,a,o){return n.a.createTeam(t),e.requestPromise("/organizations/".concat(a.orgId,"/teams/"),{method:"POST",data:t}).then((function(e){return n.a.createTeamSuccess(e),Object(c.d)(Object(r.c)("[team] has been added to the [organization] organization",{team:"#".concat(e.slug),organization:a.orgId})),e}),(function(e){throw n.a.createTeamError(t.slug||t.name,e),Object(c.a)(Object(r.c)("Unable to create [team] in the [organization] organization",{team:"#".concat(t.slug||t.name),organization:a.orgId})),e}))}function f(e,t,a){return n.a.removeTeam(t.teamId),e.requestPromise("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{method:"DELETE"}).then((function(e){return n.a.removeTeamSuccess(t.teamId,e),Object(c.d)(Object(r.c)("[team] has been removed from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}),(function(e){throw n.a.removeTeamError(t.teamId,e),Object(c.a)(Object(r.c)("Unable to remove [team] from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}))}},2582:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a.n(n),c=a(5),o=a(0),s=a.n(o),i=a(18),u=a.n(i),m=a(22),d=a.n(m),l=a(3),p=a(51),f=a(1690),g=a(4),h=a(90),b=a(27),v=a(1632),O=a(345),j=a(1641),I=a(159),y=a(50),E=a(1630),S=a(161),q=a(1618),z=a(61);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=d()({displayName:"TeamDetails",mixins:[u.a.listenTo(S.a,"onTeamStoreUpdate")],getInitialState:function(){var e=S.a.getBySlug(this.props.params.teamId);return{loading:!S.a.initialized,error:!1,team:e}},componentDidUpdate:function(e){var t=this.props.params;e.params.teamId===t.teamId&&e.params.orgId===t.orgId||this.fetchData()},onTeamStoreUpdate:function(){var e=S.a.getBySlug(this.props.params.teamId),t=!S.a.initialized,a=!t&&!e;this.setState({team:e,error:a,loading:t})},handleRequestAccess:function(){var e=this,t=this.props,a=t.api,n=t.params,r=this.state.team;r&&(this.setState({requesting:!0}),Object(f.c)(a,{orgId:n.orgId,teamId:r.slug},{success:function(){Object(p.d)(Object(g.c)("You have requested access to [team]",{team:"#".concat(r.slug)})),e.setState({requesting:!1})},error:function(){Object(p.a)(Object(g.c)("Unable to request access to [team]",{team:"#".concat(r.slug)})),e.setState({requesting:!1})}}))},fetchData:function(){this.setState({loading:!0,error:!1}),Object(f.b)(this.props.api,this.props.params)},onTeamChange:function(e){var t=this.state.team;if(e.slug!==t.slug){var a=this.props.params.orgId;c.browserHistory.replace("/organizations/".concat(a,"/teams/").concat(e.slug,"/settings/"))}else this.setState({team:P({},t,{},e)})},render:function(){var e=this.props,t=e.params,a=e.routes,n=e.children,r=this.state.team;if(this.state.loading)return s.a.createElement(y.default,null);if(!r||!r.hasAccess)return s.a.createElement(h.b,{type:"warning"},s.a.createElement("h4",null,Object(g.b)("You do not have access to this team")),r&&s.a.createElement(D,null,Object(g.c)("You may try to request access to [team]",{team:"#".concat(r.slug)}),s.a.createElement(b.a,{disabled:this.state.requesting||r.isPending,size:"small",onClick:this.handleRequestAccess},r.isPending?Object(g.b)("Request Pending"):Object(g.b)("Request Access"))));if(this.state.error)return s.a.createElement(I.a,{onRetry:this.fetchData});var c=Object(q.a)("",{routes:a,params:t,stepBack:-1});return s.a.createElement("div",null,s.a.createElement(v.a,{title:Object(g.b)("Team Details"),objSlug:t.orgId}),s.a.createElement("h3",null,s.a.createElement(O.a,{hideAvatar:!0,team:r,avatarSize:36})),s.a.createElement(E.a,{underlined:!0},s.a.createElement(j.a,{to:"".concat(c,"members/")},Object(g.b)("Members")),s.a.createElement(j.a,{to:"".concat(c,"projects/")},Object(g.b)("Projects")),s.a.createElement(j.a,{to:"".concat(c,"settings/")},Object(g.b)("Settings"))),n&&s.a.cloneElement(n,{team:r,onTeamChange:this.onTeamChange}))}});t.default=Object(z.a)(w);var D=Object(l.c)("div",{target:"e1r4cseu0"})("display:flex;justify-content:space-between;align-items:center;")}}]);
//# sourceMappingURL=TeamDetails.js.map