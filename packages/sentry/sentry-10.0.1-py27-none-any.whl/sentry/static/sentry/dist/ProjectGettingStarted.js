(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[142],{1690:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return h}));var r=n(111),a=n(4),o=n(51),c=n(174),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("function"==typeof e[t]){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];e[t].apply(e,r)}};function s(e,t,n){return r.a.fetchDetails(t.teamId),e.request("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{success:function(e){r.a.fetchDetailsSuccess(t.teamId,e),i(n,"success",e)},error:function(e){r.a.fetchDetailsError(t.teamId,e),i(n,"error",e)}})}function u(e,t){r.a.updateSuccess(e,t)}function d(e,t,n){var a="/teams/".concat(t.orgId,"/").concat(t.teamId,"/");return r.a.update(t.teamId,t.data),e.request(a,{method:"PUT",data:t.data,success:function(e){u(t.teamId,e),i(n,"success",e)},error:function(e){r.a.updateError(t.teamId,e),i(n,"error",e)}})}function p(e,t,n){var a="/organizations/".concat(t.orgId,"/members/").concat(t.memberId||"me","/teams/").concat(t.teamId,"/"),o=Object(c.a)();return r.a.update(o,t.teamId),e.request(a,{method:"POST",data:t.data,success:function(e){r.a.updateSuccess(t.teamId,e),i(n,"success",e)},error:function(e){r.a.updateError(o,t.teamId,e),i(n,"error",e)}})}function l(e,t,n){var a="/organizations/".concat(t.orgId,"/members/").concat(t.memberId||"me","/teams/").concat(t.teamId,"/"),o=Object(c.a)();return r.a.update(o,t.teamId),e.request(a,{method:"DELETE",success:function(e){r.a.updateSuccess(t.teamId,e),i(n,"success",e)},error:function(e){r.a.updateError(o,t.teamId,e),i(n,"error",e)}})}function m(e,t,n,c){return r.a.createTeam(t),e.requestPromise("/organizations/".concat(n.orgId,"/teams/"),{method:"POST",data:t}).then((function(e){return r.a.createTeamSuccess(e),Object(o.d)(Object(a.c)("[team] has been added to the [organization] organization",{team:"#".concat(e.slug),organization:n.orgId})),e}),(function(e){throw r.a.createTeamError(t.slug||t.name,e),Object(o.a)(Object(a.c)("Unable to create [team] in the [organization] organization",{team:"#".concat(t.slug||t.name),organization:n.orgId})),e}))}function h(e,t,n){return r.a.removeTeam(t.teamId),e.requestPromise("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{method:"DELETE"}).then((function(e){return r.a.removeTeamSuccess(t.teamId,e),Object(o.d)(Object(a.c)("[team] has been removed from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}),(function(e){throw r.a.removeTeamError(t.teamId,e),Object(o.a)(Object(a.c)("Unable to remove [team] from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}))}},1737:function(e,t,n){"use strict";var r,a=n(2),o=n(3),c=n(1),i=n.n(c),s=Object(o.c)("div",{target:"ed8v6mn0"})(r||(r=Object(a.f)(["\n  border: 1px solid ",";\n  box-shadow: none;\n  background: ",";\n  padding: ",";\n  margin-bottom: 20px;\n  border-radius: 3px;\n  ",";\n"],["\n  border: 1px solid ",";\n  box-shadow: none;\n  background: ",";\n  padding: ",";\n  margin-bottom: 20px;\n  border-radius: 3px;\n  ",";\n"])),(function(e){return e.theme.borderLight}),(function(e){return e.theme.whiteDark}),(function(e){return e.hasImage?"80px 30px":"15px 20px"}),(function(e){return e.centered&&"text-align: center"}));s.propTypes={hasImage:i.a.bool,centered:i.a.bool},t.a=s},2020:function(e,t,n){"use strict";var r=n(23),a=n.n(r),o=n(16),c=n.n(o),i=n(5),s=n(251),u=n.n(s),d=n(0),p=n.n(d),l=n(18),m=n.n(l),h=n(22),f=n.n(h),b=n(450),g=n(349),j=n(4),v=n(61),O=n(159),I=n(50),y=n(117),E=n(6),T=n.n(E),S=n(7),x=n.n(S),w=n(9),P=n.n(w),k=n(8),z=n.n(k),N=n(10),D=n.n(N),C=n(3),q=n(570),R=n(68),J=n(1690),M=n(459),U=n(1737),B=n(11),L=function(e){function t(e){var n;T()(this,t);var r=(n=P()(this,z()(t).call(this,e))).props,a=r.organization,o=r.projectId,c=a.projects.find((function(e){return e.slug===o}));return n.state={loading:!1,error:!1,project:c},n}return D()(t,e),x()(t,[{key:"joinTeam",value:function(e){var t=this;this.setState({loading:!0}),Object(J.c)(this.props.api,{orgId:this.props.organization.slug,teamId:e.slug},{success:function(){t.setState({loading:!1,error:!1})},error:function(){t.setState({loading:!1,error:!0}),R.a.add(Object(j.b)("There was an error while trying to leave the team."),"error")}})}},{key:"renderJoinTeam",value:function(e,t){return e?this.state.loading?p.a.createElement("a",{className:"btn btn-default btn-loading btn-disabled"},"..."):e.isPending?p.a.createElement("a",{className:"btn btn-default btn-disabled"},Object(j.b)("Request Pending")):t.has("open-membership")?p.a.createElement("a",{className:"btn btn-default",onClick:this.joinTeam.bind(this,e)},Object(j.b)("Join Team")):p.a.createElement("a",{className:"btn btn-default",onClick:this.joinTeam.bind(this,e)},Object(j.b)("Request Access")):null}},{key:"renderExplanation",value:function(e){return e.has("open-membership")?Object(j.b)("To view this data you must one of the following teams."):Object(j.b)("To view this data you must first request access to one of the following teams:")}},{key:"renderJoinTeams",value:function(e){var t=this,n=this.state.project.teams;return n.length?n.map((function(n){return p.a.createElement("p",{key:n.slug},"#",n.slug,": ",t.renderJoinTeam(n,e))})):p.a.createElement(q.a,null,Object(j.b)("No teams have access to this project yet. Ask an admin to add your team to this project."))}},{key:"render",value:function(){var e=this.props.organization,t=new Set(e.features);return p.a.createElement("div",{className:"container"},p.a.createElement(W,{centered:!0},p.a.createElement(A,{src:"icon-circle-exclamation"}),p.a.createElement("p",null,Object(j.b)("You're not a member of this project.")),p.a.createElement("p",null,this.renderExplanation(t)),this.renderJoinTeams(t)))}}]),t}(p.a.Component);L.displayName="MissingProjectMembership";var W=Object(C.c)(U.a,{target:"eka02rn0"})("margin-top:",Object(B.a)(2),";"),A=Object(C.c)(M.a,{target:"eka02rn1"})("margin-bottom:",Object(B.a)(2),";"),G=Object(v.a)(L),_=n(140),F=n(53),H=n(160),K=n(86);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V="MISSING_MEMBERSHIP",X="PROJECT_NOT_FOUND",Z="UNKNOWN",$=f()({displayName:"ProjectContext",childContextTypes:{project:F.b.Project},mixins:[m.a.connect(y.a,"memberList"),m.a.listenTo(_.a,"onProjectChange")],getInitialState:function(){return{loading:!0,error:!1,errorType:null,memberList:[],project:null,projectNavSection:null}},getChildContext:function(){return{project:this.state.project}},componentWillMount:function(){this.fetchData()},componentWillReceiveProps:function(e){e.projectId!==this.props.projectId&&(e.skipReload||this.remountComponent())},componentDidUpdate:function(e,t){if(e.projectId!==this.props.projectId&&this.fetchData(),e.projects.length!==this.props.projects.length&&this.fetchData(),t.project!==this.state.project||t.organization!==this.state.organization){if(!this.docTitle)return;var n=this.docTitleRef.docTitle;n&&n.forceUpdate()}},remountComponent:function(){this.setState(this.getInitialState())},getTitle:function(){return this.state.project?this.state.project.slug:"Sentry"},onProjectChange:function(e){this.state.project&&e.has(this.state.project.id)&&this.setState({project:Q({},_.a.getById(this.state.project.id))})},identifyProject:function(){var e=this.props,t=e.projects,n=e.projectId;return t.find((function(e){return e.slug===n}))||null},fetchData:function(){var e,t,n,r,o,c,i,s;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(e=this.props,t=e.orgId,n=e.projectId,r=e.skipReload,o=this.identifyProject(),c=o&&o.hasAccess,this.setState((function(e){return{loading:!r||e.loading,project:o}})),!o||!c){u.next=20;break}return Object(g.i)(null),i=this.props.api.requestPromise("/projects/".concat(t,"/").concat(n,"/")),u.prev=7,u.next=10,a.a.awrap(i);case 10:s=u.sent,this.setState({loading:!1,project:s,error:!1,errorType:null}),Object(g.i)(s),u.next=18;break;case 15:u.prev=15,u.t0=u.catch(7),this.setState({loading:!1,error:!1,errorType:Z});case 18:return Object(b.a)(this.props.api,t,o.id),u.abrupt("return");case 20:if(!o||o.isMember){u.next=23;break}return this.setState({loading:!1,error:!0,errorType:V}),u.abrupt("return");case 23:return u.prev=23,u.next=26,a.a.awrap(this.props.api.requestPromise("/projects/".concat(t,"/").concat(n,"/")));case 26:u.next=31;break;case 28:u.prev=28,u.t1=u.catch(23),this.setState({loading:!1,error:!0,errorType:X});case 31:case"end":return u.stop()}}),null,this,[[7,15],[23,28]])},setProjectNavSection:function(e){this.setState({projectNavSection:e})},renderBody:function(){if(this.state.loading)return p.a.createElement("div",{className:"loading-full-layout"},p.a.createElement(I.default,null));if(this.state.error)switch(this.state.errorType){case X:return p.a.createElement("div",{className:"container"},p.a.createElement("div",{className:"alert alert-block",style:{margin:"30px 0 10px"}},Object(j.b)("The project you were looking for was not found.")));case V:return p.a.createElement(G,{organization:this.props.organization,projectId:this.state.project.slug});default:return p.a.createElement(O.a,{onRetry:this.remountComponent})}return this.props.children},render:function(){var e=this;return p.a.createElement(u.a,{ref:function(t){return e.docTitleRef=t},title:this.getTitle()},this.renderBody())}});t.a=Object(v.a)(Object(K.a)(Object(H.a)(Object(i.withRouter)($))))},2620:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),o=n(7),c=n.n(o),i=n(9),s=n.n(i),u=n(8),d=n.n(u),p=n(10),l=n.n(p),m=n(1),h=n.n(m),f=n(0),b=n.n(f),g=n(3),j=n(2020),v=n(11),O=function(e){function t(){return a()(this,t),s()(this,d()(t).apply(this,arguments))}return l()(t,e),c()(t,[{key:"render",value:function(){return b.a.createElement(y,null,b.a.createElement("div",{className:"container"},b.a.createElement(E,null,this.props.children)))}}]),t}(b.a.Component);O.displayName="GettingStartedBody",O.contextTypes={project:h.a.object,organization:h.a.object};var I=function(e){function t(){return a()(this,t),s()(this,d()(t).apply(this,arguments))}return l()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.params,t=e.projectId,n=e.orgId;return b.a.createElement(j.a,{orgId:n,projectId:t},b.a.createElement(O,null,this.props.children))}}]),t}(b.a.Component);I.displayName="GettingStarted";var y=Object(g.c)("div",{target:"e152306d0"})("flex:1;background:#fff;margin-bottom:-",Object(v.a)(3),";"),E=Object(g.c)("div",{target:"e152306d1"})("margin-top:",Object(v.a)(3),";");t.default=I}}]);
//# sourceMappingURL=ProjectGettingStarted.js.map