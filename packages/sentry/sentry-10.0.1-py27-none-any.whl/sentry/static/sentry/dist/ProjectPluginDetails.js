(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[149],{1609:function(e,t,n){"use strict";var r,a,o=n(2),i=n(44),s=n.n(i),c=n(1),u=n.n(c),l=n(0),p=n.n(l),d=n(35),g=n(289),h=n(47),f=n(28),b=n(4),m=n(5),v=n(105),y=n.n(v),j=n(3),O=n(336),E=n(50),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={query:"",busy:!1},t.immediateQuery=function(e){return Object(o.b)(t,void 0,void 0,(function(){var t,n,r,a,i,s;return Object(o.e)(this,(function(c){switch(c.label){case 0:t=this.props,n=t.location,r=t.api,this.setState({busy:!0}),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,r.requestPromise(""+this.props.url,{includeAllArgs:!0,method:"GET",query:Object(o.a)(Object(o.a)({},n.query),{query:e})})];case 2:return a=o.g.apply(void 0,[c.sent(),3]),i=a[0],s=a[2],this.state.query===e&&this.props.onSuccess(i,s),[3,4];case 3:return c.sent(),this.props.onError(),[3,4];case 4:return this.setState({busy:!1}),[2]}}))}))},t.query=y()(t.immediateQuery,t.props.debounceWait),t.handleChange=function(e){t.query(e),t.setState({query:e})},t.handleInputChange=function(e){return t.handleChange(e.target.value)},t.handleSearch=function(e){var n=t.props,r=n.updateRoute,a=n.onSearchSubmit;if(e.preventDefault(),r){var o=t.props,i=o.router,s=o.location;i.push({pathname:s.pathname,query:{query:t.state.query}})}"function"==typeof a&&a(t.state.query,e)},t}return Object(o.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.children,r=e.className,a=this.state,o=a.busy,i=a.query,s=p.a.createElement(k,{onSubmit:this.handleSearch},p.a.createElement(O.a,{value:i,onChange:this.handleInputChange,className:r,placeholder:t}),o&&p.a.createElement(x,{size:18,hideMessage:!0,mini:!0}));return void 0===n?s:n({defaultSearchBar:s,busy:o,value:i,handleChange:this.handleChange})},t.defaultProps={placeholder:"Search...",debounceWait:200},t}(p.a.Component),x=Object(j.c)(E.default,{target:"e6xwo0"})(r||(r=Object(o.f)(["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"],["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"]))),k=Object(j.c)("form",{target:"e6xwo1"})(a||(a=Object(o.f)(["\n  position: relative;\n"],["\n  position: relative;\n"]))),P=m.withRouter(S),w=n(159),R=n(6),D=n.n(R),q=n(7),T=n.n(q),z=n(9),A=n.n(z),I=n(8),C=n.n(I),N=n(10),L=n.n(N),M=n(251),U=n.n(M),_=n(104),F=n(73),J=function(e){function t(){return D()(this,t),A()(this,C()(t).apply(this,arguments))}return L()(t,e),T()(t,[{key:"componentDidMount",value:function(){var e=this.props.routes,t=this.context,n=t.organization,r=t.project,a=Object(F.a)(e);d.l((function(e){e.setFingerprint(["Permission Denied",a]),e.setExtra("route",a),e.setExtra("orgFeatures",n&&n.features||[]),e.setExtra("orgAccess",n&&n.access||[]),e.setExtra("projectFeatures",r&&r.features||[]),d.c(new Error("".concat("Permission Denied").concat(a?" : ".concat(a):"")))}))}},{key:"render",value:function(){return p.a.createElement(U.a,{title:Object(b.b)("Permission Denied")},p.a.createElement(w.a,{message:Object(b.c)("Your role does not have the necessary permissions to access this resource, please read more about [link:organizational roles]",{link:p.a.createElement(_.a,{href:"https://docs.sentry.io/learn/membership/"})})}))}}]),t}(p.a.Component);J.displayName="PermissionDenied",J.contextTypes={organization:u.a.object,project:u.a.object};var W=Object(m.withRouter)(J),B=n(569);function H(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,Object(o.i)(n))}catch(t){return console.error(t),setTimeout((function(){throw t})),e.setState({error:t}),null}}}var K=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.reloadOnVisible=!1,r.shouldReloadOnVisible=!1,r.shouldReload=!1,r.shouldRenderBadRequests=!1,r.api=new h.a,r.markShouldMeasure=function(e){var t=void 0===e?{}:e,n=t.remainingRequests,a=t.error;r._measurement.hasMeasured||(r._measurement.finished=0===n,r._measurement.error=a||r._measurement.error)},r.remountComponent=function(){r.shouldReload?r.reloadData():r.setState(r.getDefaultState(),r.fetchData)},r.visibilityReloader=function(){return r.shouldReloadOnVisible&&!r.state.loading&&!document.hidden&&r.reloadData()},r.fetchData=function(e){var t=r.getEndpoints();t.length?(r.api.clear(),r.setState(Object(o.a)({loading:!0,error:!1,remainingRequests:t.length},e)),t.forEach((function(e){var t=Object(o.g)(e,4),n=t[0],a=t[1],i=t[2],s=t[3];s=s||{};var c=r.props.location&&r.props.location.query||{},u=i&&i.query||{};(s.paginate||c.cursor)&&(u=Object(o.a)(Object(o.a)({},c),u)),r.api.request(a,Object(o.a)(Object(o.a)({method:"GET"},i),{query:u,success:function(e,t,a){r.handleRequestSuccess({stateKey:n,data:e,jqXHR:a},!0)},error:function(e){s.allowError&&s.allowError(e)&&(e=null),r.handleError(e,[n,a,i,s])}}))}))):r.setState({loading:!1,error:!1})},r.fetchData=H(r,r.fetchData.bind(r)),r.render=H(r,r.render.bind(r)),r.state=r.getDefaultState(),r._measurement={hasMeasured:!1},t.routes&&t.routes&&f.b.mark("async-component-"+Object(F.a)(t.routes)),r}return Object(o.d)(t,e),t.prototype.componentWillMount=function(){this.api=new h.a,this.fetchData(),this.reloadOnVisible&&document.addEventListener("visibilitychange",this.visibilityReloader)},t.prototype.componentWillReceiveProps=function(e,t){},t.prototype.componentDidUpdate=function(e,t){var n=!!t.router,r=void 0!==e.location,a=r?this.props.location:n?this.context.router.location:null,o=r?e.location:n?t.router.location:null;if(a&&o){if(!this._measurement.hasMeasured&&this._measurement.finished&&this.props.routes){var i=Object(F.a)(this.props.routes);f.b.measure({name:"app.component.async-component",start:"async-component-"+i,data:{route:i,error:this._measurement.error}}),this._measurement.hasMeasured=!0,"function"==typeof this.props.finishProfile&&this.props.finishProfile()}s()(this.props.params,e.params)&&a.search===o.search&&a.state===o.state||this.remountComponent()}},t.prototype.componentWillUnmount=function(){this.api.clear(),document.removeEventListener("visibilitychange",this.visibilityReloader)},t.prototype.getDefaultState=function(){var e=this.getEndpoints(),t={loading:!0,reloading:!1,error:!1,errors:{}};return e.forEach((function(e){var n=Object(o.g)(e,2),r=n[0];n[1];t[r]=null})),t},t.prototype.reloadData=function(){this.fetchData({reloading:!0})},t.prototype.onRequestSuccess=function(e){},t.prototype.onRequestError=function(e,t){},t.prototype.handleRequestSuccess=function(e,t){var n=this,r=e.stateKey,a=e.data,o=e.jqXHR;this.setState((function(e){var i,s=((i={})[r]=a,i[r+"PageLinks"]=o&&o.getResponseHeader("Link"),i);return t&&(s.remainingRequests=e.remainingRequests-1,s.loading=e.remainingRequests>1,s.reloading=e.reloading&&s.loading,n.markShouldMeasure({remainingRequests:s.remainingRequests})),s})),this.onRequestSuccess({stateKey:r,data:a,jqXHR:o})},t.prototype.handleError=function(e,t){var n=this,r=Object(o.g)(t,1)[0];e&&e.responseText&&d.a({message:e.responseText,category:"xhr",level:g.a.Error}),this.setState((function(t){var a,i,s=t.remainingRequests>1,c=((a={})[r]=null,a.errors=Object(o.a)(Object(o.a)({},t.errors),((i={})[r]=e,i)),a.error=t.error||!!e,a.remainingRequests=t.remainingRequests-1,a.loading=s,a.reloading=t.reloading&&s,a);return n.markShouldMeasure({remainingRequests:c.remainingRequests,error:!0}),c})),this.onRequestError(e,t)},t.prototype.getEndpointParams=function(){return console.warn("getEndpointParams is deprecated"),{}},t.prototype.getEndpoint=function(){return console.warn("getEndpoint is deprecated"),null},t.prototype.getEndpoints=function(){var e=this.getEndpoint();return e?[["data",e,this.getEndpointParams()]]:[]},t.prototype.renderSearchInput=function(e){var t=this,n=e.stateKey,r=e.url,a=Object(o.h)(e,["stateKey","url"]),i=Object(o.g)(this.getEndpoints()||[null],1)[0],s=n||i&&i[0],c=r||i&&i[1];return p.a.createElement(P,Object(o.a)({url:c},a,{api:this.api,onSuccess:function(e,n){t.handleRequestSuccess({stateKey:s,data:e,jqXHR:n})},onError:function(){t.renderError(new Error("Error with AsyncComponentSearchInput"))}}))},t.prototype.renderLoading=function(){return p.a.createElement(E.default,null)},t.prototype.renderError=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=this.state.errors,a=Object.values(r).find((function(e){return e&&401===e.status})),o=Object.values(r).find((function(e){return e&&403===e.status})),i=!!Object.values(r).find((function(e){return e&&0!==e.status}))||t;if(a)return p.a.createElement(w.a,{message:Object(b.b)("You are not authorized to access this resource.")});if(o)return p.a.createElement(W,null);if(this.shouldRenderBadRequests){var s=Object.values(r).filter((function(e){return e&&400===e.status&&e.responseJSON&&e.responseJSON.detail})).map((function(e){return e.responseJSON.detail}));if(s.length)return p.a.createElement(w.a,{message:s.join("\n")})}return p.a.createElement(B.a,{error:e,component:this,disableLogSentry:!i,disableReport:n,onRetry:this.remountComponent})},t.prototype.renderComponent=function(){return!this.state.loading||this.shouldReload&&this.state.reloading?this.state.error?this.renderError(new Error("Unable to load all required endpoints")):this.renderBody():this.renderLoading()},t.prototype.renderBody=function(){throw new Error("Not implemented")},t.prototype.render=function(){return this.renderComponent()},t.propTypes={location:u.a.object,router:u.a.object},t.contextTypes={router:u.a.object},t}(p.a.Component);t.a=K},1610:function(e,t,n){"use strict";var r=n(2),a=n(251),o=n.n(a),i=n(0),s=n.n(i),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.getTitle=function(){return""},t.prototype.render=function(){var e=this.getTitle();return s.a.createElement(o.a,{title:(e?e+" - ":"")+"Sentry"},this.renderComponent())},t}(n(1609).a);t.a=c},1611:function(e,t,n){"use strict";var r,a,o,i,s,c=n(2),u=n(1),l=n.n(u),p=n(0),d=n.n(p),g=n(3),h=n(11),f=n(337),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.icon,n=e.title,r=e.action,a=e.tabs,o=e.noTitleStyles,i=Object(c.h)(e,["icon","title","action","tabs","noTitleStyles"]);return d.a.createElement("div",Object(c.a)({},i),d.a.createElement(m,null,t&&d.a.createElement(y,null,t),n&&d.a.createElement(v,{tabs:a,styled:o},d.a.createElement(f.a,null,n)),r&&d.a.createElement(j,{tabs:a},r)),a&&d.a.createElement("div",null,a))},t.propTypes={icon:l.a.node,title:l.a.node.isRequired,action:l.a.node,tabs:l.a.node,noTitleStyles:l.a.bool},t.defaultProps={noTitleStyles:!1},t}(d.a.Component),m=Object(g.c)("div",{target:"e1uay4fd0"})(r||(r=Object(c.f)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),v=Object(g.c)("div",{target:"e1uay4fd1"})(a||(a=Object(c.f)(["\n  ",";\n  margin: ",";\n  flex: 1;\n"],["\n  ",";\n  margin: ",";\n  flex: 1;\n"])),(function(e){return!e.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),(function(e){return e.tabs?Object(h.a)(4)+" 0 "+Object(h.a)(2):Object(h.a)(4)+" 0"})),y=Object(g.c)("div",{target:"e1uay4fd2"})(o||(o=Object(c.f)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),Object(h.a)(1)),j=Object(g.c)("div",{target:"e1uay4fd3"})(i||(i=Object(c.f)(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return e.tabs?"margin-top: "+Object(h.a)(2):null})),O=Object(g.c)(b,{target:"e1uay4fd4"})(s||(s=Object(c.f)(["\n  font-size: 14px;\n  margin-top: -",";\n"],["\n  font-size: 14px;\n  margin-top: -",";\n"])),Object(h.a)(4));t.a=O},1636:function(e,t,n){"use strict";var r,a=n(2),o=n(1),i=n.n(o),s=n(3),c=n(1645),u=n.n(c),l=n(1646),p=n.n(l),d=n(1647),g=n.n(d),h=n(1648),f=n.n(h),b=n(1649),m=n.n(b),v=n(1650),y=n.n(v),j=n(1651),O=n.n(j),E=n(1652),S=n.n(E),x=n(1653),k=n.n(x),P=n(1654),w=n.n(P),R=n(1655),D=n.n(R),q=n(1656),T=n.n(q),z=n(1657),A=n.n(z),I=n(1658),C=n.n(I),N=n(1659),L=n.n(N),M=n(1660),U=n.n(M),_=n(1661),F=n.n(_),J=n(1662),W=n.n(J),B=n(1663),H=n.n(B),K=n(1664),V=n.n(K),X=n(1665),Y=n.n(X),G=n(1666),Q=n.n(G),Z=n(1667),$=n.n(Z),ee=n(1668),te=n.n(ee),ne=n(1669),re=n.n(ne),ae=n(1670),oe=n.n(ae),ie=n(1671),se=n.n(ie),ce=n(1672),ue=n.n(ce),le=n(1673),pe=n.n(le),de=n(1674),ge=n.n(de),he=n(1675),fe=n.n(he),be=u.a,me={_default:be,sentry:p.a,browsers:p.a,device:p.a,interface_types:p.a,os:p.a,urls:p.a,webhooks:p.a,amixr:g.a,asana:f.a,bitbucket:m.a,campfire:y.a,clickup:O.a,clubhouse:S.a,flowdock:k.a,github:w.a,github_enterprise:D.a,gitlab:T.a,heroku:A.a,jira:C.a,"jira-atlassian-connect":C.a,"jira-ac":C.a,jira_server:L.a,lighthouse:U.a,opsgenie:F.a,pagerduty:W.a,phabricator:H.a,pivotal:V.a,pushover:Y.a,redmine:Q.a,rookout:$.a,slack:te.a,split:re.a,taiga:oe.a,teamwork:se.a,trello:ue.a,twilio:pe.a,vsts:ge.a,youtrack:fe.a},ve=Object(s.c)("div",{target:"e7e65lm0"})(r||(r=Object(a.f)(["\n  position: relative;\n  height: ","px;\n  width: ","px;\n  border-radius: 2px;\n  border: 0;\n  /* this is so that there aren't gray boxes before load */\n  background-color: #fff;\n  display: inline-block;\n  background-size: contain;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-image: url(",");\n"],["\n  position: relative;\n  height: ","px;\n  width: ","px;\n  border-radius: 2px;\n  border: 0;\n  /* this is so that there aren't gray boxes before load */\n  background-color: #fff;\n  display: inline-block;\n  background-size: contain;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-image: url(",");\n"])),(function(e){return e.size}),(function(e){return e.size}),(function(e){var t=e.pluginId;return void 0!==t&&me[t]||be}));ve.defaultProps={pluginId:"_default",size:20},ve.propTypes={pluginId:i.a.string,size:i.a.number.isRequired},t.a=ve},1645:function(e,t,n){e.exports=n.p+"logo-default.svg"},1646:function(e,t,n){e.exports=n.p+"logo-sentry.svg"},1647:function(e,t,n){e.exports=n.p+"logo-amixr.svg"},1648:function(e,t,n){e.exports=n.p+"logo-asana.svg"},1649:function(e,t,n){e.exports=n.p+"logo-bitbucket.svg"},1650:function(e,t,n){e.exports=n.p+"logo-campfire.svg"},1651:function(e,t,n){e.exports=n.p+"logo-clickup.svg"},1652:function(e,t,n){e.exports=n.p+"logo-clubhouse.svg"},1653:function(e,t,n){e.exports=n.p+"logo-flowdock.svg"},1654:function(e,t,n){e.exports=n.p+"logo-github.svg"},1655:function(e,t,n){e.exports=n.p+"logo-github-enterprise.svg"},1656:function(e,t,n){e.exports=n.p+"logo-gitlab.svg"},1657:function(e,t,n){e.exports=n.p+"logo-heroku.svg"},1658:function(e,t,n){e.exports=n.p+"logo-jira.svg"},1659:function(e,t,n){e.exports=n.p+"logo-jira-server.svg"},1660:function(e,t,n){e.exports=n.p+"logo-lighthouse.svg"},1661:function(e,t,n){e.exports=n.p+"logo-opsgenie.svg"},1662:function(e,t,n){e.exports=n.p+"logo-pagerduty.svg"},1663:function(e,t,n){e.exports=n.p+"logo-phabricator.svg"},1664:function(e,t,n){e.exports=n.p+"logo-pivotaltracker.svg"},1665:function(e,t,n){e.exports=n.p+"logo-pushover.svg"},1666:function(e,t,n){e.exports=n.p+"logo-redmine.svg"},1667:function(e,t,n){e.exports=n.p+"logo-rookout.svg"},1668:function(e,t,n){e.exports=n.p+"logo-slack.svg"},1669:function(e,t,n){e.exports=n.p+"logo-split.svg"},1670:function(e,t,n){e.exports=n.p+"logo-taiga.svg"},1671:function(e,t,n){e.exports=n.p+"logo-teamwork.svg"},1672:function(e,t,n){e.exports=n.p+"logo-trello.svg"},1673:function(e,t,n){e.exports=n.p+"logo-twilio.svg"},1674:function(e,t,n){e.exports=n.p+"logo-azure.svg"},1675:function(e,t,n){e.exports=n.p+"logo-youtrack.svg"},1701:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return v}));var r=n(16),a=n.n(r),o=n(20),i=n.n(o),s=n(4),c=n(1702),u=n(68),l=n(47);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={},h=new l.a;function f(e){var t=e.orgId,n=e.projectId,r=e.pluginId,a=e.update,o=i()(e,["orgId","projectId","pluginId","update"]);c.a.update(r,a);var s=h.requestPromise("/projects/".concat(t,"/").concat(n,"/plugins/").concat(r,"/"),d({},o));return s.then((function(){c.a.updateSuccess(r,a)})).catch((function(e){var t=e&&e.responseJSON&&"string"==typeof e.responseJSON.detail?new Error(e.responseJSON.detail):new Error("Unable to update plugin");c.a.updateError(r,a,t)})),s}function b(e,t){var n=e.orgId,r=e.projectId,a="/projects/".concat(n,"/").concat(r,"/plugins/");if(g[a])return g[a];c.a.fetchAll(t);var o=h.requestPromise(a,{method:"GET"});return g[a]=o,o.then((function(e,t,n){return c.a.fetchAllSuccess(e,{pageLinks:n&&n.getResponseHeader("Link")}),e})).catch((function(e){throw c.a.fetchAllError(e),new Error("Unable to fetch plugins")})).then((function(){return g[a]=null})),o}function m(e){return u.a.add(Object(s.b)("Enabling...")),f(d({},e,{update:{enabled:!0},method:"POST"})).then((function(){return u.a.addSuccess(Object(s.b)("Plugin was enabled"))})).catch((function(){return u.a.addError(Object(s.b)("Unable to enable plugin"))}))}function v(e){return u.a.add(Object(s.b)("Disabling...")),f(d({},e,{update:{enabled:!1},method:"DELETE"})).then((function(){return u.a.addSuccess(Object(s.b)("Plugin was disabled"))})).catch((function(){return u.a.addError(Object(s.b)("Unable to disable plugin"))}))}},1702:function(e,t,n){"use strict";var r=n(18),a=n.n(r).a.createActions(["update","updateError","updateSuccess","fetchAll","fetchAllSuccess","fetchAllError"]);t.a=a},1754:function(e,t,n){"use strict";var r=n(23),a=n.n(r),o=n(6),i=n.n(o),s=n(7),c=n.n(s),u=n(9),l=n.n(u),p=n(8),d=n.n(p),g=n(10),h=n.n(g),f=n(0),b=n.n(f),m=n(44),v=n.n(m),y=n(3),j=n(250),O=n(51),E=n(4),S=n(27),x=n(50),k=n(1636),P=n(296),w=n(11),R=n(61),D=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=l()(this,(e=d()(t)).call.apply(e,[this].concat(o)))).state={loading:!P.a.isLoaded(n.props.data),testResults:""},n.handleDisablePlugin=function(){n.props.onDisablePlugin(n.props.data)},n.handleTestPlugin=function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(O.b)(Object(E.b)("Sending test...")),t.prev=1,t.next=4,a.a.awrap(n.props.api.requestPromise(n.getPluginEndpoint(),{method:"POST",data:{test:!0}}));case 4:e=t.sent,n.setState({testResults:JSON.stringify(e.detail)}),Object(O.d)(Object(E.b)("Test Complete!")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),Object(O.a)(Object(E.b)("An unexpected error occurred while testing your plugin. Please try again."));case 12:case"end":return t.stop()}}),null,null,[[1,9]])},n}return h()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.loadPlugin(this.props.data)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.loadPlugin(e.data)}},{key:"shouldComponentUpdate",value:function(e,t){return!v()(t,this.state)||!v()(e.data,this.props.data)}},{key:"loadPlugin",value:function(e){var t=this;this.setState({loading:!0},(function(){P.a.load(e,(function(){t.setState({loading:!1})}))}))}},{key:"getPluginEndpoint",value:function(){var e=this.props,t=e.organization,n=e.project,r=e.data;return"/projects/".concat(t.slug,"/").concat(n.slug,"/plugins/").concat(r.id,"/")}},{key:"createMarkup",value:function(){return{__html:this.props.data.doc}}},{key:"render",value:function(){var e=this.props.data,t=void 0!==this.props.enabled?this.props.enabled:e.enabled;return b.a.createElement(j.a,{className:"plugin-config ref-plugin-config-".concat(e.id)},b.a.createElement(j.e,{hasButtons:!0},b.a.createElement(q,null,b.a.createElement(T,{pluginId:e.id}),b.a.createElement("span",null,e.name)),e.canDisable&&t&&b.a.createElement(z,null,e.isTestable&&b.a.createElement(A,{onClick:this.handleTestPlugin,size:"small"},Object(E.b)("Test Plugin")),b.a.createElement(S.a,{size:"small",onClick:this.handleDisablePlugin},Object(E.b)("Disable")))),"beta"===e.status&&b.a.createElement(j.b,{type:"warning"},Object(E.b)("This plugin is considered beta and may change in the future.")),""!==this.state.testResults&&b.a.createElement(j.b,{type:"info"},b.a.createElement("strong",null,"Test Results"),b.a.createElement("div",null,this.state.testResults)),b.a.createElement(I,null,b.a.createElement("div",{dangerouslySetInnerHTML:this.createMarkup()}),this.state.loading?b.a.createElement(x.default,null):P.a.get(e).renderSettings({organization:this.props.organization,project:this.props.project})))}}]),t}(b.a.Component);D.displayName="PluginConfig",D.defaultProps={onDisablePlugin:function(){}},t.a=Object(R.a)(D);var q=Object(y.c)("div",{target:"e1ueudyh0"})("display:flex;align-items:center;flex:1;"),T=Object(y.c)(k.a,{target:"e1ueudyh1"})("margin-right:",Object(w.a)(1),";"),z=Object(y.c)("div",{target:"e1ueudyh2"})("display:flex;"),A=Object(y.c)(S.a,{target:"e1ueudyh3"})("margin-right:",Object(w.a)(1),";"),I=Object(y.c)(j.c,{target:"e1ueudyh4"})("padding:",Object(w.a)(2),";padding-bottom:0;")},1878:function(e,t,n){"use strict";var r=n(2),a=n(0),o=n.n(a),i=n(18),s=n.n(i),c=n(22),u=n.n(c),l=n(21),p=n(1701),d=n(87),g=n(16),h=n.n(g),f=n(20),b=n.n(f),m=n(1702);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=s.a.createStore({getInitialState:function(){return this.getState()},getState:function(){var e=this.state;e.plugins;return y({},b()(e,["plugins"]),{plugins:this.plugins?Array.from(this.plugins.values()):[]})},init:function(){this.reset(),this.listenTo(m.a.fetchAll,this.onFetchAll),this.listenTo(m.a.fetchAllSuccess,this.onFetchAllSuccess),this.listenTo(m.a.fetchAllError,this.onFetchAllError),this.listenTo(m.a.update,this.onUpdate),this.listenTo(m.a.updateSuccess,this.onUpdateSuccess),this.listenTo(m.a.updateError,this.onUpdateError)},reset:function(){return this.plugins=null,this.state={loading:!0,plugins:[],error:null,pageLinks:null},this.updating=new Map,this.state},triggerState:function(){this.trigger(this.getState())},onFetchAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resetLoading;t&&(this.state.loading=!0,this.state.error=null,this.plugins=null),this.triggerState()},onFetchAllSuccess:function(e,t){var n=t.pageLinks;this.plugins=new Map(e.map((function(e){return[e.id,e]}))),this.state.pageLinks=n,this.state.loading=!1,this.triggerState()},onFetchAllError:function(e){this.plugins=null,this.state.loading=!1,this.state.error=e,this.triggerState()},onUpdate:function(e,t){if(this.plugins){var n=this.plugins.get(e),r=y({},n,{},t);this.plugins.set(e,r),this.updating.set(e,n),this.triggerState()}},onUpdateSuccess:function(e,t){this.updating.delete(e)},onUpdateError:function(e,t,n){var r=this.updating.get(e);r&&(this.plugins.set(e,r),this.updating.delete(e),this.state.error=n,this.triggerState())}}),O=n(86),E=n(581);t.a=function(e){return Object(O.a)(Object(E.a)(u()({displayName:"withPlugins("+Object(d.a)(e)+")",mixins:[s.a.connect(j,"store")],componentDidMount:function(){this.fetchPlugins()},componentDidUpdate:function(e,t,n){var r=this.props,a=r.organization,o=r.project,i=e.organization||n&&n.organization,s=e.project||n&&n.project;if(Object(l.c)(s)&&Object(l.c)(i)){var c=i.slug===a.slug,u=s.slug===o.slug;c&&u||this.fetchPlugins()}},fetchPlugins:function(){var e=this.props,t=e.organization,n=e.project;n&&t&&Object(p.c)({projectId:n.slug,orgId:t.slug})},render:function(){return o.a.createElement(e,Object(r.a)({},this.props,{plugins:this.state.store}))}})))}},1958:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["taiga","lighthouse","grove-io"]},2576:function(e,t,n){"use strict";n.r(t),n.d(t,"ProjectPluginDetails",(function(){return k}));var r=n(6),a=n.n(r),o=n(7),i=n.n(o),s=n(9),c=n.n(s),u=n(8),l=n.n(u),p=n(10),d=n.n(p),g=n(0),h=n.n(g),f=n(1701),b=n(4),m=n(1610),v=n(27),y=n(104),j=n(68),O=n(1754),E=n(1611),S=n(1878),x=n(1958),k=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=c()(this,(e=l()(t)).call.apply(e,[this].concat(o)))).handleReset=function(){var e=n.props.params,t=e.projectId,r=e.orgId,a=e.pluginId,o=j.a.add(Object(b.b)("Saving changes.."));n.api.request("/projects/".concat(r,"/").concat(t,"/plugins/").concat(a,"/"),{method:"POST",data:{reset:!0},success:function(e){n.setState({pluginDetails:e}),j.a.addSuccess(Object(b.b)("Plugin was reset"))},error:function(){j.a.addError(Object(b.b)("An error occurred"))},complete:function(){return j.a.remove(o)}})},n.handleEnable=function(){Object(f.b)(n.props.params)},n.handleDisable=function(){Object(f.a)(n.props.params)},n}return d()(t,e),i()(t,[{key:"getTitle",value:function(){var e=this.state.plugin;return e&&e.name?e.name:"Sentry"}},{key:"getEndpoints",value:function(){var e=this.props.params,t=e.projectId,n=e.orgId,r=e.pluginId;return[["pluginDetails","/projects/".concat(n,"/").concat(t,"/plugins/").concat(r,"/")]]}},{key:"trimSchema",value:function(e){return e.split("//")[1]}},{key:"getEnabled",value:function(){var e=this,t=this.state.pluginDetails,n=this.props.plugins,r=n&&n.plugins&&n.plugins.find((function(t){return t.slug===e.props.params.pluginId}));return r?r.enabled:t&&t.enabled}},{key:"renderActions",value:function(){var e=this.state.pluginDetails,t=this.getEnabled(),n=this.props.params.pluginId,r=x.a.includes(n),a=h.a.createElement(v.a,{disabled:r,size:"small",onClick:this.handleEnable,style:{marginRight:"6px"}},Object(b.b)("Enable Plugin")),o=h.a.createElement(v.a,{size:"small",priority:"danger",onClick:this.handleDisable,style:{marginRight:"6px"}},Object(b.b)("Disable Plugin")),i=t?o:a;return h.a.createElement("div",{className:"pull-right"},e.canDisable&&i,h.a.createElement(v.a,{size:"small",onClick:this.handleReset},Object(b.b)("Reset Configuration")))}},{key:"renderBody",value:function(){var e=this.props,t=e.organization,n=e.project,r=this.state.pluginDetails;return h.a.createElement("div",null,h.a.createElement(E.a,{title:r.name,action:this.renderActions()}),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-md-7"},h.a.createElement(O.a,{organization:t,project:n,data:r,enabled:this.getEnabled(),onDisablePlugin:this.handleDisable})),h.a.createElement("div",{className:"col-md-4 col-md-offset-1"},h.a.createElement("div",{className:"pluginDetails-meta"},h.a.createElement("h4",null,Object(b.b)("Plugin Information")),h.a.createElement("dl",{className:"flat"},h.a.createElement("dt",null,Object(b.b)("Name")),h.a.createElement("dd",null,r.name),h.a.createElement("dt",null,Object(b.b)("Author")),h.a.createElement("dd",null,r.author.name),r.author.url&&h.a.createElement("div",null,h.a.createElement("dt",null,Object(b.b)("URL")),h.a.createElement("dd",null,h.a.createElement(y.a,{href:r.author.url},this.trimSchema(r.author.url)))),h.a.createElement("dt",null,Object(b.b)("Version")),h.a.createElement("dd",null,r.version)),r.description&&h.a.createElement("div",null,h.a.createElement("h4",null,Object(b.b)("Description")),h.a.createElement("p",{className:"description"},r.description)),r.resourceLinks&&h.a.createElement("div",null,h.a.createElement("h4",null,Object(b.b)("Resources")),h.a.createElement("dl",{className:"flat"},r.resourceLinks.map((function(e){var t=e.title,n=e.url;return h.a.createElement("dd",{key:n},h.a.createElement(y.a,{href:n},t))}))))))))}}]),t}(m.a);t.default=Object(S.a)(k)}}]);
//# sourceMappingURL=ProjectPluginDetails.js.map