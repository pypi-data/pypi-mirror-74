(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[75,76],{1609:function(e,t,n){"use strict";var r,a,i=n(2),o=n(44),s=n.n(o),c=n(1),u=n.n(c),l=n(0),p=n.n(l),d=n(35),h=n(289),m=n(47),f=n(28),g=n(4),b=n(5),y=n(105),v=n.n(y),j=n(3),O=n(336),x=n(50),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={query:"",busy:!1},t.immediateQuery=function(e){return Object(i.b)(t,void 0,void 0,(function(){var t,n,r,a,o,s;return Object(i.e)(this,(function(c){switch(c.label){case 0:t=this.props,n=t.location,r=t.api,this.setState({busy:!0}),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,r.requestPromise(""+this.props.url,{includeAllArgs:!0,method:"GET",query:Object(i.a)(Object(i.a)({},n.query),{query:e})})];case 2:return a=i.g.apply(void 0,[c.sent(),3]),o=a[0],s=a[2],this.state.query===e&&this.props.onSuccess(o,s),[3,4];case 3:return c.sent(),this.props.onError(),[3,4];case 4:return this.setState({busy:!1}),[2]}}))}))},t.query=v()(t.immediateQuery,t.props.debounceWait),t.handleChange=function(e){t.query(e),t.setState({query:e})},t.handleInputChange=function(e){return t.handleChange(e.target.value)},t.handleSearch=function(e){var n=t.props,r=n.updateRoute,a=n.onSearchSubmit;if(e.preventDefault(),r){var i=t.props,o=i.router,s=i.location;o.push({pathname:s.pathname,query:{query:t.state.query}})}"function"==typeof a&&a(t.state.query,e)},t}return Object(i.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.children,r=e.className,a=this.state,i=a.busy,o=a.query,s=p.a.createElement(E,{onSubmit:this.handleSearch},p.a.createElement(O.a,{value:o,onChange:this.handleInputChange,className:r,placeholder:t}),i&&p.a.createElement(q,{size:18,hideMessage:!0,mini:!0}));return void 0===n?s:n({defaultSearchBar:s,busy:i,value:o,handleChange:this.handleChange})},t.defaultProps={placeholder:"Search...",debounceWait:200},t}(p.a.Component),q=Object(j.c)(x.default,{target:"e6xwo0"})(r||(r=Object(i.f)(["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"],["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"]))),E=Object(j.c)("form",{target:"e6xwo1"})(a||(a=Object(i.f)(["\n  position: relative;\n"],["\n  position: relative;\n"]))),S=b.withRouter(w),k=n(159),z=n(6),C=n.n(z),R=n(7),D=n.n(R),Q=n(9),P=n.n(Q),L=n(8),M=n.n(L),N=n(10),_=n.n(N),B=n(251),Y=n.n(B),A=n(104),W=n(73),H=function(e){function t(){return C()(this,t),P()(this,M()(t).apply(this,arguments))}return _()(t,e),D()(t,[{key:"componentDidMount",value:function(){var e=this.props.routes,t=this.context,n=t.organization,r=t.project,a=Object(W.a)(e);d.l((function(e){e.setFingerprint(["Permission Denied",a]),e.setExtra("route",a),e.setExtra("orgFeatures",n&&n.features||[]),e.setExtra("orgAccess",n&&n.access||[]),e.setExtra("projectFeatures",r&&r.features||[]),d.c(new Error("".concat("Permission Denied").concat(a?" : ".concat(a):"")))}))}},{key:"render",value:function(){return p.a.createElement(Y.a,{title:Object(g.b)("Permission Denied")},p.a.createElement(k.a,{message:Object(g.c)("Your role does not have the necessary permissions to access this resource, please read more about [link:organizational roles]",{link:p.a.createElement(A.a,{href:"https://docs.sentry.io/learn/membership/"})})}))}}]),t}(p.a.Component);H.displayName="PermissionDenied",H.contextTypes={organization:u.a.object,project:u.a.object};var T=Object(b.withRouter)(H),I=n(569);function V(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,Object(i.i)(n))}catch(t){return console.error(t),setTimeout((function(){throw t})),e.setState({error:t}),null}}}var K=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.reloadOnVisible=!1,r.shouldReloadOnVisible=!1,r.shouldReload=!1,r.shouldRenderBadRequests=!1,r.api=new m.a,r.markShouldMeasure=function(e){var t=void 0===e?{}:e,n=t.remainingRequests,a=t.error;r._measurement.hasMeasured||(r._measurement.finished=0===n,r._measurement.error=a||r._measurement.error)},r.remountComponent=function(){r.shouldReload?r.reloadData():r.setState(r.getDefaultState(),r.fetchData)},r.visibilityReloader=function(){return r.shouldReloadOnVisible&&!r.state.loading&&!document.hidden&&r.reloadData()},r.fetchData=function(e){var t=r.getEndpoints();t.length?(r.api.clear(),r.setState(Object(i.a)({loading:!0,error:!1,remainingRequests:t.length},e)),t.forEach((function(e){var t=Object(i.g)(e,4),n=t[0],a=t[1],o=t[2],s=t[3];s=s||{};var c=r.props.location&&r.props.location.query||{},u=o&&o.query||{};(s.paginate||c.cursor)&&(u=Object(i.a)(Object(i.a)({},c),u)),r.api.request(a,Object(i.a)(Object(i.a)({method:"GET"},o),{query:u,success:function(e,t,a){r.handleRequestSuccess({stateKey:n,data:e,jqXHR:a},!0)},error:function(e){s.allowError&&s.allowError(e)&&(e=null),r.handleError(e,[n,a,o,s])}}))}))):r.setState({loading:!1,error:!1})},r.fetchData=V(r,r.fetchData.bind(r)),r.render=V(r,r.render.bind(r)),r.state=r.getDefaultState(),r._measurement={hasMeasured:!1},t.routes&&t.routes&&f.b.mark("async-component-"+Object(W.a)(t.routes)),r}return Object(i.d)(t,e),t.prototype.componentWillMount=function(){this.api=new m.a,this.fetchData(),this.reloadOnVisible&&document.addEventListener("visibilitychange",this.visibilityReloader)},t.prototype.componentWillReceiveProps=function(e,t){},t.prototype.componentDidUpdate=function(e,t){var n=!!t.router,r=void 0!==e.location,a=r?this.props.location:n?this.context.router.location:null,i=r?e.location:n?t.router.location:null;if(a&&i){if(!this._measurement.hasMeasured&&this._measurement.finished&&this.props.routes){var o=Object(W.a)(this.props.routes);f.b.measure({name:"app.component.async-component",start:"async-component-"+o,data:{route:o,error:this._measurement.error}}),this._measurement.hasMeasured=!0,"function"==typeof this.props.finishProfile&&this.props.finishProfile()}s()(this.props.params,e.params)&&a.search===i.search&&a.state===i.state||this.remountComponent()}},t.prototype.componentWillUnmount=function(){this.api.clear(),document.removeEventListener("visibilitychange",this.visibilityReloader)},t.prototype.getDefaultState=function(){var e=this.getEndpoints(),t={loading:!0,reloading:!1,error:!1,errors:{}};return e.forEach((function(e){var n=Object(i.g)(e,2),r=n[0];n[1];t[r]=null})),t},t.prototype.reloadData=function(){this.fetchData({reloading:!0})},t.prototype.onRequestSuccess=function(e){},t.prototype.onRequestError=function(e,t){},t.prototype.handleRequestSuccess=function(e,t){var n=this,r=e.stateKey,a=e.data,i=e.jqXHR;this.setState((function(e){var o,s=((o={})[r]=a,o[r+"PageLinks"]=i&&i.getResponseHeader("Link"),o);return t&&(s.remainingRequests=e.remainingRequests-1,s.loading=e.remainingRequests>1,s.reloading=e.reloading&&s.loading,n.markShouldMeasure({remainingRequests:s.remainingRequests})),s})),this.onRequestSuccess({stateKey:r,data:a,jqXHR:i})},t.prototype.handleError=function(e,t){var n=this,r=Object(i.g)(t,1)[0];e&&e.responseText&&d.a({message:e.responseText,category:"xhr",level:h.a.Error}),this.setState((function(t){var a,o,s=t.remainingRequests>1,c=((a={})[r]=null,a.errors=Object(i.a)(Object(i.a)({},t.errors),((o={})[r]=e,o)),a.error=t.error||!!e,a.remainingRequests=t.remainingRequests-1,a.loading=s,a.reloading=t.reloading&&s,a);return n.markShouldMeasure({remainingRequests:c.remainingRequests,error:!0}),c})),this.onRequestError(e,t)},t.prototype.getEndpointParams=function(){return console.warn("getEndpointParams is deprecated"),{}},t.prototype.getEndpoint=function(){return console.warn("getEndpoint is deprecated"),null},t.prototype.getEndpoints=function(){var e=this.getEndpoint();return e?[["data",e,this.getEndpointParams()]]:[]},t.prototype.renderSearchInput=function(e){var t=this,n=e.stateKey,r=e.url,a=Object(i.h)(e,["stateKey","url"]),o=Object(i.g)(this.getEndpoints()||[null],1)[0],s=n||o&&o[0],c=r||o&&o[1];return p.a.createElement(S,Object(i.a)({url:c},a,{api:this.api,onSuccess:function(e,n){t.handleRequestSuccess({stateKey:s,data:e,jqXHR:n})},onError:function(){t.renderError(new Error("Error with AsyncComponentSearchInput"))}}))},t.prototype.renderLoading=function(){return p.a.createElement(x.default,null)},t.prototype.renderError=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=this.state.errors,a=Object.values(r).find((function(e){return e&&401===e.status})),i=Object.values(r).find((function(e){return e&&403===e.status})),o=!!Object.values(r).find((function(e){return e&&0!==e.status}))||t;if(a)return p.a.createElement(k.a,{message:Object(g.b)("You are not authorized to access this resource.")});if(i)return p.a.createElement(T,null);if(this.shouldRenderBadRequests){var s=Object.values(r).filter((function(e){return e&&400===e.status&&e.responseJSON&&e.responseJSON.detail})).map((function(e){return e.responseJSON.detail}));if(s.length)return p.a.createElement(k.a,{message:s.join("\n")})}return p.a.createElement(I.a,{error:e,component:this,disableLogSentry:!o,disableReport:n,onRetry:this.remountComponent})},t.prototype.renderComponent=function(){return!this.state.loading||this.shouldReload&&this.state.reloading?this.state.error?this.renderError(new Error("Unable to load all required endpoints")):this.renderBody():this.renderLoading()},t.prototype.renderBody=function(){throw new Error("Not implemented")},t.prototype.render=function(){return this.renderComponent()},t.propTypes={location:u.a.object,router:u.a.object},t.contextTypes={router:u.a.object},t}(p.a.Component);t.a=K},1633:function(e,t,n){"use strict";var r=n(20),a=n.n(r),i=n(1),o=n.n(i),s=n(0),c=n.n(s),u=n(3),l=n(19),p=Object(u.c)((function(e){var t=e.children,n=e.icon,r=(e.priority,e.size,e.border,a()(e,["children","icon","priority","size","border"]));return c.a.createElement("div",r,n&&c.a.createElement(d,{src:n,size:"12px"}),t)}),{target:"e6q9yfr0"})("display:inline-flex;box-sizing:border-box;padding:",(function(e){return"small"===e.size?"0.1em 0.4em 0.2em":"0.35em 0.8em 0.4em"}),";font-size:75%;line-height:1;color:",(function(e){return e.priority?"#fff":e.gray5}),";text-align:center;white-space:nowrap;vertical-align:middle;border-radius:",(function(e){return"small"===e.size?"0.25em":"2em"}),";text-transform:lowercase;font-weight:",(function(e){return"small"===e.size?"bold":"normal"}),";background:",(function(e){return e.priority?e.theme.alert[e.priority].background:e.theme.offWhite2}),";",(function(e){return function(e){return e.border?"border: 1px solid ".concat(e.priority?e.theme.alert[e.priority].border:e.theme.gray1,";"):""}(e)}),";",(function(e){return function(e){return e.inline?"margin-left: ".concat("small"===e.size?"0.25em":"0.5em",";"):""}(e)}),";");p.propTypes={priority:o.a.string,size:o.a.string,border:o.a.bool,icon:o.a.string,inline:o.a.bool};var d=Object(u.c)(l.a,{target:"e6q9yfr1"})("margin-right:4px;");t.a=p},1693:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(3),o=n(1633),s=n(39),c=n(11),u=n(4),l=function(){return a.a.createElement(s.a,{title:Object(u.b)("This feature is in beta and may change in the future."),position:"right"},a.a.createElement(p,{priority:"beta",size:"small"},Object(u.b)("beta")))};l.displayName="BetaTag";var p=Object(i.c)(o.a,{target:"e1xs0x250"})("position:relative;top:-1px;font-size:",(function(e){return e.theme.fontSizeSmall}),";font-weight:normal;padding:3px 6px;margin-left:",Object(c.a)(.5),";border-radius:20px;");t.a=l},1696:function(e,t,n){"use strict";var r=n(6),a=n.n(r),i=n(7),o=n.n(i),s=n(9),c=n.n(s),u=n(8),l=n.n(u),p=n(10),d=n.n(p),h=n(0),m=n.n(h),f=n(36),g=n.n(f),b=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=c()(this,(e=l()(t)).call.apply(e,[this].concat(i)))).blur=function(){n.searchInputRef.current.blur()},n.onSubmit=function(e){e.preventDefault(),n.blur(),n.props.onSearch(n.state.query)},n.clearSearch=function(){n.setState({query:n.props.defaultQuery},(function(){return n.props.onSearch(n.state.query)}))},n.onQueryFocus=function(){n.setState({dropdownVisible:!0})},n.onQueryBlur=function(){n.setState({dropdownVisible:!1})},n.onQueryChange=function(e){n.setState({query:e.target.value})},n.state={query:n.props.query||n.props.defaultQuery},n.searchInputRef=m.a.createRef(),n}return d()(t,e),o()(t,[{key:"componentWillReceiveProps",value:function(e){e.query!==this.props.query&&this.setState({query:e.query})}},{key:"render",value:function(){var e=this.props.className;return m.a.createElement("div",{className:g()("search",e)},m.a.createElement("form",{className:"form-horizontal",onSubmit:this.onSubmit},m.a.createElement("div",null,m.a.createElement("input",{type:"text",className:"search-input form-control",placeholder:this.props.placeholder,name:"query",ref:this.searchInputRef,autoComplete:"off",value:this.state.query,onBlur:this.onQueryBlur,onChange:this.onQueryChange}),m.a.createElement("span",{className:"icon-search"}),this.state.query!==this.props.defaultQuery&&m.a.createElement("div",null,m.a.createElement("a",{className:"search-clear-form",onClick:this.clearSearch},m.a.createElement("span",{className:"icon-circle-cross"}))))))}}]),t}(m.a.PureComponent);b.displayName="SearchBar",b.defaultProps={defaultQuery:"",query:"",onSearch:function(){}},t.a=b},1912:function(e,t,n){"use strict";var r=n(12),a=n.n(r),i=n(16),o=n.n(i),s=n(20),c=n.n(s),u=n(6),l=n.n(u),p=n(7),d=n.n(p),h=n(9),m=n.n(h),f=n(8),g=n.n(f),b=n(10),y=n.n(b),v=n(0),j=n.n(v),O=n(1913),x=n(1753);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var q=function(e){function t(){return l()(this,t),m()(this,g()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.series,n=e.stacked,r=c()(e,["series","stacked"]);return j.a.createElement(x.a,a()({},r,{series:t.map((function(e,t){var r=e.seriesName,a=e.data,i=c()(e,["seriesName","data"]);return Object(O.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({stack:!!n&&"area",areaStyle:{opacity:1}},i,{name:r,data:a.map((function(e){return[e.name,e.value]}))}))}))}))}}]),t}(j.a.Component);q.displayName="AreaChart",t.a=q},1913:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(16),a=n.n(r),i=n(1893);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}},2512:function(e,t,n){e.exports=n.p+"background-space.svg"},2649:function(e,t,n){"use strict";n.r(t);var r,a,i,o,s,c,u,l,p,d,h,m,f,g,b,y,v,j=n(2),O=n(0),x=n.n(O),w=n(1),q=n.n(w),E=n(3),S=n(5),k=n(146),z=n.n(k),C=n(44),R=n.n(C),D=n(4),Q=n(28),P=n(53),L=n(215),M=n(1609),N=n(1632),_=n(580),B=n(19),Y=n(41),A=n(11),W=n(2512),H=n.n(W),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.subtitle,r=e.isDismissable,a=e.onCloseClick,i=e.children;return x.a.createElement(I,null,r?x.a.createElement(G,{src:"icon-close","aria-label":Object(D.b)("Close"),onClick:a}):null,x.a.createElement(V,null,x.a.createElement(K,null,t),x.a.createElement(F,null,n),x.a.createElement(U,null,i)))},t.defaultProps={isDismissable:!0},t}(x.a.Component),I=Object(E.c)("div",{target:"e114y1g30"})(r||(r=Object(j.f)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center center;\n  position: relative;\n  min-height: 200px;\n  margin-bottom: ",";\n  padding-top: 22%;\n  box-shadow: ",";\n\n  @media (min-width: ",") {\n    min-height: 220px;\n  }\n\n  @media (min-width: ",") {\n    padding-top: 0;\n    min-height: 260px;\n  }\n"],["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center center;\n  position: relative;\n  min-height: 200px;\n  margin-bottom: ",";\n  padding-top: 22%;\n  box-shadow: ",";\n\n  @media (min-width: ",") {\n    min-height: 220px;\n  }\n\n  @media (min-width: ",") {\n    padding-top: 0;\n    min-height: 260px;\n  }\n"])),H.a,Object(A.a)(3),(function(e){return e.theme.dropShadowLight}),Y.a.breakpoints[1],Y.a.breakpoints[3]),V=Object(E.c)("div",{target:"e114y1g31"})(a||(a=Object(j.f)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  padding: ",";\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  padding: ",";\n"])),Object(A.a)(4)),K=Object(E.c)("h1",{target:"e114y1g32"})(i||(i=Object(j.f)(["\n  margin: ",";\n  color: ",";\n\n  @media (min-width: ",") {\n    font-size: 48px;\n  }\n"],["\n  margin: ",";\n  color: ",";\n\n  @media (min-width: ",") {\n    font-size: 48px;\n  }\n"])),Object(A.a)(1.5),(function(e){return e.theme.white}),Y.a.breakpoints[1]),F=Object(E.c)("h4",{target:"e114y1g33"})(o||(o=Object(j.f)(["\n  margin-bottom: ",";\n  font-size: ",";\n  color: ",";\n\n  @media (min-width: ",") {\n    font-size: ",";\n    flex-direction: row;\n    min-width: 650px;\n  }\n"],["\n  margin-bottom: ",";\n  font-size: ",";\n  color: ",";\n\n  @media (min-width: ",") {\n    font-size: ",";\n    flex-direction: row;\n    min-width: 650px;\n  }\n"])),Object(A.a)(3),Y.a.fontSizeMedium,(function(e){return e.theme.white}),Y.a.breakpoints[1],Y.a.fontSizeLarge),U=Object(E.c)("div",{target:"e114y1g34"})(s||(s=Object(j.f)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n\n  @media (min-width: ",") {\n    width: auto;\n  }\n"],["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n\n  @media (min-width: ",") {\n    width: auto;\n  }\n"])),Y.a.breakpoints[1]),G=Object(E.c)(B.a,{target:"e114y1g35"})(c||(c=Object(j.f)(["\n  position: absolute;\n  display: block;\n  top: ",";\n  right: ",";\n  color: ",";\n  cursor: pointer;\n  z-index: 1;\n"],["\n  position: absolute;\n  display: block;\n  top: ",";\n  right: ",";\n  color: ",";\n  cursor: pointer;\n  z-index: 1;\n"])),Object(A.a)(2),Object(A.a)(2),(function(e){return e.theme.white})),J=T,X=n(27),Z=n(1696),$=n(586),ee=n(337),te=n(86),ne=n(1697),re=n(1797),ae=n(36),ie=n.n(ae),oe=n(38),se=n.n(oe),ce=n(119),ue=n(66),le=n(572),pe=n(61),de=n(185),he=n(91),me=n(72),fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault();var n=t.props,r=n.onEventClick,a=n.to;Object(me.a)(r),S.browserHistory.push(a)},t}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.subtitle,r=e.starred,a=e.queryDetail,i=e.renderContextMenu,o=e.renderGraph;return x.a.createElement(ge,{"data-test-id":"card-"+t,onClick:this.handleClick},x.a.createElement(be,null,x.a.createElement(ve,null,t),x.a.createElement(je,null,a),r?x.a.createElement(ye,{"data-test-id":"is-saved-query",src:"icon-star-small-filled"}):null),x.a.createElement(Oe,null,o()),x.a.createElement(xe,null,x.a.createElement(we,null,n),i&&i()))},t}(x.a.PureComponent),ge=Object(E.c)("button",{target:"e14rqrhq0"})(u||(u=Object(j.f)(["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  display: flex;\n  align-items: stretch;\n  flex-direction: column;\n  justify-content: space-between;\n  transition: all 0.2s ease;\n  cursor: pointer;\n  text-align: left;\n  padding: 0;\n\n  &:focus,\n  &:hover {\n    box-shadow: 0px 0px 0px 6px rgba(209, 202, 216, 0.2);\n    position: relative;\n    top: -2px;\n    outline: none;\n  }\n\n  &:active {\n    box-shadow: 0px 0px 0px 6px rgba(209, 202, 216, 0.5);\n  }\n\n  /* This is to ensure the graph is visually clickable */\n  * {\n    cursor: pointer;\n  }\n"],["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  display: flex;\n  align-items: stretch;\n  flex-direction: column;\n  justify-content: space-between;\n  transition: all 0.2s ease;\n  cursor: pointer;\n  text-align: left;\n  padding: 0;\n\n  &:focus,\n  &:hover {\n    box-shadow: 0px 0px 0px 6px rgba(209, 202, 216, 0.2);\n    position: relative;\n    top: -2px;\n    outline: none;\n  }\n\n  &:active {\n    box-shadow: 0px 0px 0px 6px rgba(209, 202, 216, 0.5);\n  }\n\n  /* This is to ensure the graph is visually clickable */\n  * {\n    cursor: pointer;\n  }\n"])),(function(e){return e.theme.white}),(function(e){return e.theme.borderLight}),(function(e){return e.theme.borderRadius})),be=Object(E.c)("div",{target:"e14rqrhq1"})(l||(l=Object(j.f)(["\n  position: relative;\n  padding: "," ",";\n  overflow: hidden;\n  min-height: 62px;\n  line-height: 1.4;\n"],["\n  position: relative;\n  padding: "," ",";\n  overflow: hidden;\n  min-height: 62px;\n  line-height: 1.4;\n"])),Object(A.a)(1.5),Object(A.a)(2)),ye=Object(E.c)(B.a,{target:"e14rqrhq2"})(p||(p=Object(j.f)(["\n  position: absolute;\n  color: ",";\n  top: ",";\n  right: ",";\n"],["\n  position: absolute;\n  color: ",";\n  top: ",";\n  right: ",";\n"])),(function(e){return e.theme.yellow}),Object(A.a)(2),Object(A.a)(2)),ve=Object(E.c)("div",{target:"e14rqrhq3"})(d||(d=Object(j.f)(["\n  font-size: ",";\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 95%;\n"],["\n  font-size: ",";\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 95%;\n"])),(function(e){return e.theme.fontSizeLarge}),(function(e){return e.theme.gray5})),je=Object(E.c)("div",{target:"e14rqrhq4"})(h||(h=Object(j.f)(["\n  font-family: ",";\n  font-size: ",";\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 100%;\n"],["\n  font-family: ",";\n  font-size: ",";\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 100%;\n"])),(function(e){return e.theme.text.familyMono}),(function(e){return e.theme.fontSizeSmall}),(function(e){return e.theme.gray2})),Oe=Object(E.c)("div",{target:"e14rqrhq5"})(m||(m=Object(j.f)(["\n  background: ",";\n  max-height: 100px;\n  height: 100%;\n  overflow: hidden;\n"],["\n  background: ",";\n  max-height: 100px;\n  height: 100%;\n  overflow: hidden;\n"])),(function(e){return e.theme.offWhiteLight})),xe=Object(E.c)("div",{target:"e14rqrhq6"})(f||(f=Object(j.f)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: "," ",";\n  color: ",";\n"],["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: "," ",";\n  color: ",";\n"])),Object(A.a)(1),Object(A.a)(2),(function(e){return e.theme.gray3})),we=Object(E.c)("div",{target:"e14rqrhq7"})(g||(g=Object(j.f)(["\n  font-size: ",";\n  ",";\n  display: flex;\n  align-items: center;\n"],["\n  font-size: ",";\n  ",";\n  display: flex;\n  align-items: center;\n"])),(function(e){return e.theme.fontSizeSmall}),he.a),qe=fe,Ee=n(1777),Se=n(1912),ke=n(1730),ze=n(65),Ce=n(50),Re=n(2083),De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.shouldComponentUpdate=function(e){return!R()(this.getRefreshProps(this.props),this.getRefreshProps(e))},t.prototype.getRefreshProps=function(e){var t=e.organization,n=e.location,r=e.eventView,a=r.getEventsAPIPayload(n);return{organization:t,apiPayload:a,query:a.query,start:a.start?Object(ze.j)(a.start):void 0,end:a.end?Object(ze.j)(a.end):void 0,period:a.statsPeriod,project:r.project,environment:r.environment}},t.prototype.render=function(){var e=this.props.api,t=this.getRefreshProps(this.props),n=t.query,r=t.start,a=t.end,i=t.period,o=t.organization,s=t.project,c=t.environment;return x.a.createElement(Ee.a,{organization:o,api:e,query:n,start:r,end:a,period:i,interval:Object(ke.a)({start:r,end:a,period:i},!0),project:s,environment:c,includePrevious:!1},(function(e){var t=e.loading,n=e.timeseriesData;if(t)return x.a.createElement(Qe,null,x.a.createElement(Ce.default,{mini:!0}));var r=(n||[]).map((function(e){return Object(j.a)(Object(j.a)({},e),{areaStyle:{opacity:.4},lineStyle:{opacity:0},smooth:!0})}));return x.a.createElement(Se.a,{height:100,series:Object(j.i)(r),xAxis:{show:!1,axisPointer:{show:!1}},yAxis:{show:!1},tooltip:{show:!1},toolBox:{show:!1},grid:{left:0,top:0,right:0,bottom:0,containLabel:!1},colors:["#6d5fc7"],options:{hoverAnimation:!1}})}))},t}(x.a.Component),Qe=Object(E.c)((function(e){return x.a.createElement(Re.a,Object(j.a)({},e,{maskBackgroundColor:"transparent"}))}),{target:"e1tcz5cg0"})(b||(b=Object(j.f)(["\n  height: 100px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  height: 100px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Pe=Object(pe.a)(De),Le=n(1748),Me=n(1982),Ne=n(1806),_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDeleteQuery=function(e){return function(n){n.preventDefault(),n.stopPropagation();var r=t.props,a=r.api,i=r.organization,o=r.onQueryChange,s=r.location,c=r.savedQueries;Object(Me.b)(a,i,e).then((function(){1===c.length&&s.query.cursor?S.browserHistory.push({pathname:s.pathname,query:Object(j.a)(Object(j.a)({},s.query),{cursor:void 0})}):o()}))}},t.handleDuplicateQuery=function(e){return function(n){n.preventDefault(),n.stopPropagation();var r=t.props,a=r.api,i=r.location,o=r.organization,s=r.onQueryChange;(e=e.clone()).name=e.name+" copy",Object(Me.a)(a,o,e).then((function(){s(),S.browserHistory.push({pathname:i.pathname,query:{}})}))}},t}return Object(j.d)(t,e),t.prototype.renderQueries=function(){var e=this.props.pageLinks,t=Object(de.a)(e||""),n=[];return t.previous&&!1!==t.previous.results||(n=n.concat(this.renderPrebuiltQueries())),n=n.concat(this.renderSavedQueries())},t.prototype.renderPrebuiltQueries=function(){var e=this,t=this.props,n=t.location,r=t.organization,a=t.savedQuerySearchQuery,i=Object(Le.j)(r),o="string"==typeof a&&a.length>0,s=o?a.toLowerCase():"";return i.map((function(t,a){var i=ne.a.fromNewQueryWithLocation(t,n);if(o&&i.name&&!i.name.toLowerCase().includes(s))return null;var c=Object(D.b)("Last ")+i.statsPeriod,u=se()(i.start).format("MMM D, YYYY h:mm A")+" - "+se()(i.end).format("MMM D, YYYY h:mm A"),l={pathname:Object(Ne.generateDiscoverResultsRoute)(r.slug),query:Object(j.a)(Object(j.a)(Object(j.a)({},n.query),{cursor:void 0}),i.generateQueryStringObject())};return x.a.createElement(qe,{key:a+"-"+i.name,to:l,title:i.name,subtitle:i.statsPeriod?c:u,queryDetail:i.query,renderGraph:function(){return x.a.createElement(Pe,{location:n,eventView:i,organization:r})},onEventClick:function(){Object(Q.d)({eventKey:"discover_v2.prebuilt_query_click",eventName:"Discoverv2: Click a pre-built query",organization_id:e.props.organization.id,query_name:i.name})}})}))},t.prototype.renderSavedQueries=function(){var e=this,t=this.props,n=t.savedQueries,r=t.location,a=t.organization;return n&&Array.isArray(n)&&0!==n.length?n.map((function(t,n){var i=ne.a.fromSavedQuery(t),o=Object(D.b)("Last ")+i.statsPeriod,s=se()(i.start).format("MMM D, YYYY h:mm A")+" - "+se()(i.end).format("MMM D, YYYY h:mm A"),c={pathname:Object(Ne.generateDiscoverResultsRoute)(a.slug),query:Object(j.a)(Object(j.a)(Object(j.a)({},r.query),{cursor:void 0}),i.generateQueryStringObject())};return x.a.createElement(qe,{key:n+"-"+i.id,to:c,starred:!0,title:i.name,subtitle:i.statsPeriod?o:s,queryDetail:i.query,onEventClick:function(){Object(Q.d)({eventKey:"discover_v2.prebuilt_query_click",eventName:"Discoverv2: Click a pre-built query",organization_id:e.props.organization.id,query_name:i.name})},renderGraph:function(){return x.a.createElement(Pe,{location:r,eventView:i,organization:a})},renderContextMenu:function(){return x.a.createElement(Ye,null,x.a.createElement(ue.a,{href:"#delete-query",onClick:e.handleDeleteQuery(i)},Object(D.b)("Delete Query")),x.a.createElement(ue.a,{href:"#duplicate-query",onClick:e.handleDuplicateQuery(i)},Object(D.b)("Duplicate Query")))}})})):[]},t.prototype.render=function(){var e=this.props.pageLinks;return x.a.createElement(x.a.Fragment,null,x.a.createElement(Be,null,this.renderQueries()),x.a.createElement(le.a,{pageLinks:e,onCursor:function(e,t,n,r){var a=Number(e.split(":")[1]),i=Object(j.a)(Object(j.a)({},n),{cursor:e});a<=0&&-1===r&&delete i.cursor,S.browserHistory.push({pathname:t,query:i})}}))},t}(x.a.Component),Be=Object(E.c)("div",{target:"e87120q0"})(y||(y=Object(j.f)(["\n  display: grid;\n  grid-template-columns: minmax(100px, 1fr);\n  grid-gap: ",";\n\n  @media (min-width: ",") {\n    grid-template-columns: repeat(2, minmax(100px, 1fr));\n  }\n\n  @media (min-width: ",") {\n    grid-template-columns: repeat(3, minmax(100px, 1fr));\n  }\n"],["\n  display: grid;\n  grid-template-columns: minmax(100px, 1fr);\n  grid-gap: ",";\n\n  @media (min-width: ",") {\n    grid-template-columns: repeat(2, minmax(100px, 1fr));\n  }\n\n  @media (min-width: ",") {\n    grid-template-columns: repeat(3, minmax(100px, 1fr));\n  }\n"])),Object(A.a)(3),(function(e){return e.theme.breakpoints[1]}),(function(e){return e.theme.breakpoints[2]})),Ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(j.d)(t,e),t.prototype.render=function(){var e=this.props.children;return x.a.createElement(ce.a,null,(function(t){var n=t.isOpen,r=t.getRootProps,a=t.getActorProps,i=t.getMenuProps,o=ie()("dropdown",{"pull-right":!0,"anchor-right":!0,open:n});return x.a.createElement("span",Object(j.a)({},r({className:o})),x.a.createElement(Ae,Object(j.a)({"data-test-id":"context-menu"},a({onClick:function(e){e.stopPropagation(),e.preventDefault()}})),x.a.createElement(B.a,{src:"icon-ellipsis-filled"})),n&&x.a.createElement("ul",Object(j.a)({},i({}),{className:ie()("dropdown-menu")}),e))}))},t}(x.a.Component),Ae=Object(E.c)("div",{target:"e87120q1"})(v||(v=Object(j.f)(["\n  border-radius: 3px;\n  background-color: ",";\n  padding-left: 8px;\n  padding-right: 8px;\n\n  &:hover {\n    background-color: ",";\n  }\n"],["\n  border-radius: 3px;\n  background-color: ",";\n  padding-left: 8px;\n  padding-right: 8px;\n\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.offWhite}),(function(e){return e.theme.offWhite2})),We=Object(pe.a)(_e);n.d(t,"DiscoverLanding",(function(){return Ge}));var He="discover-banner-dismissed";function Te(){return"true"===L.a.getItem(He)}var Ie,Ve,Ke,Fe,Ue,Ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!0,reloading:!1,error:!1,errors:[],isBannerHidden:Te(),savedQueries:[],savedQueriesPageLinks:""},t.shouldReload=!0,t.handleQueryChange=function(){t.fetchData({reloading:!0})},t.handleClick=function(){L.a.setItem(He,"true"),t.setState({isBannerHidden:!0})},t.handleSearchQuery=function(e){var n=t.props.location;S.browserHistory.push({pathname:n.pathname,query:Object(j.a)(Object(j.a)({},n.query),{cursor:void 0,query:String(e).trim()||void 0})})},t}return Object(j.d)(t,e),t.prototype.getSavedQuerySearchQuery=function(){var e=this.props.location;return String(Object(Le.b)(e.query.query)||"").trim()},t.prototype.getEndpoints=function(){var e=this.props,t=e.organization,n=e.location,r=Object(Le.j)(t),a=this.getSavedQuerySearchQuery(),i=Object(Le.b)(n.query.cursor),o=9;if(!i)if(a&&a.length>0){var s=a.toLowerCase(),c=r.reduce((function(e,t){var r=ne.a.fromNewQueryWithLocation(t,n);return r.name&&r.name.toLowerCase().includes(s)?e+1:e}),0);o=Math.max(1,o-c)}else o=Math.max(1,o-r.length);var u={cursor:i,query:'version:2 name:"'+a+'"',per_page:o,sortBy:"-dateUpdated"};return i||delete u.cursor,[["savedQueries","/organizations/"+t.slug+"/discover/saved/",{query:u}]]},t.prototype.componentDidUpdate=function(e){var t=Te();t!==this.state.isBannerHidden&&this.setState({isBannerHidden:t});var n=["cursor","query"];!R()(z()(e.location.query,n),z()(this.props.location.query,n))&&this.fetchData()},t.prototype.renderBanner=function(){var e=this;if(this.state.isBannerHidden)return null;var t=this.props,n=t.location,r=t.organization,a=ne.a.fromNewQueryWithLocation(re.d,n),i={pathname:"/organizations/"+r.slug+"/eventsV2/results",query:Object(j.a)({},a.generateQueryStringObject())};return x.a.createElement(J,{title:Object(D.b)("Discover"),subtitle:Object(D.b)("Customize your query searches"),onCloseClick:this.handleClick},x.a.createElement(X.a,{to:i,onClick:function(){Object(Q.d)({eventKey:"discover_v2.prebuilt_query_click",eventName:"Discoverv2: Click a pre-built query",organization_id:e.props.organization.id,query_name:a.name})}},Object(D.b)("Build a new query")))},t.prototype.renderActions=function(){var e=this.props,t=e.location,n=e.organization,r=ne.a.fromNewQueryWithLocation(re.d,t),a={pathname:Object(Ne.generateDiscoverResultsRoute)(n.slug),query:Object(j.a)({},r.generateQueryStringObject())};return x.a.createElement($e,null,x.a.createElement(Xe,{defaultQuery:"",query:this.getSavedQuerySearchQuery(),placeholder:Object(D.b)("Search for saved queries"),onSearch:this.handleSearchQuery}),x.a.createElement(Ze,null,"or"),x.a.createElement(et,{"data-test-id":"build-new-query",to:a,priority:"primary"},Object(D.b)("Build a new query")))},t.prototype.render=function(){var e=this.props,t=e.location,n=e.organization,r=this.state,a=r.loading,i=r.savedQueries,o=r.savedQueriesPageLinks;return x.a.createElement(N.a,{title:Object(D.b)("Discover"),objSlug:n.slug},x.a.createElement(x.a.Fragment,null,x.a.createElement(_.a,{organization:n}),x.a.createElement($.a,{organization:n},x.a.createElement(ee.b,null,x.a.createElement(Je,null,Object(D.b)("Discover")),this.renderBanner(),this.renderActions(),a&&this.renderLoading(),!a&&x.a.createElement(We,{pageLinks:o,savedQueries:i,savedQuerySearchQuery:this.getSavedQuerySearchQuery(),location:t,organization:n,onQueryChange:this.handleQueryChange})))))},t.propTypes={organization:P.b.Organization.isRequired,location:q.a.object.isRequired,router:q.a.object.isRequired},t}(M.a),Je=Object(E.c)("div",{target:"eierko0"})(Ie||(Ie=Object(j.f)(["\n  display: flex;\n  align-items: center;\n  font-size: ",";\n  color: ",";\n  height: 40px;\n  margin-bottom: ",";\n"],["\n  display: flex;\n  align-items: center;\n  font-size: ",";\n  color: ",";\n  height: 40px;\n  margin-bottom: ",";\n"])),(function(e){return e.theme.headerFontSize}),(function(e){return e.theme.gray4}),Object(A.a)(1)),Xe=Object(E.c)(Z.a,{target:"eierko1"})(Ve||(Ve=Object(j.f)(["\n  flex-grow: 1;\n"],["\n  flex-grow: 1;\n"]))),Ze=Object(E.c)("span",{target:"eierko2"})(Ke||(Ke=Object(j.f)(["\n  color: ",";\n  font-size: ",";\n  margin: 0 ",";\n"],["\n  color: ",";\n  font-size: ",";\n  margin: 0 ",";\n"])),(function(e){return e.theme.gray2}),(function(e){return e.theme.fontSizeMedium}),Object(A.a)(1.5)),$e=Object(E.c)("div",{target:"eierko3"})(Fe||(Fe=Object(j.f)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: ",";\n"],["\n  display: flex;\n  align-items: center;\n  margin-bottom: ",";\n"])),Object(A.a)(3)),et=Object(E.c)(X.a,{target:"eierko4"})(Ue||(Ue=Object(j.f)(["\n  white-space: nowrap;\n"],["\n  white-space: nowrap;\n"])));t.default=Object(te.a)(Ge)}}]);
//# sourceMappingURL=DiscoverV2Landing.js.map