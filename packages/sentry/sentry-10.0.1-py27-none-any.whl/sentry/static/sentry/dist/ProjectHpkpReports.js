(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[143],{1610:function(e,t,n){"use strict";var r=n(2),a=n(251),i=n.n(a),o=n(0),c=n.n(o),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.getTitle=function(){return""},t.prototype.render=function(){var e=this.getTitle();return c.a.createElement(i.a,{title:(e?e+" - ":"")+"Sentry"},this.renderComponent())},t}(n(1609).a);t.a=s},1611:function(e,t,n){"use strict";var r,a,i,o,c,s=n(2),l=n(1),u=n.n(l),p=n(0),y=n.n(p),d=n(3),h=n(11),f=n(337),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.icon,n=e.title,r=e.action,a=e.tabs,i=e.noTitleStyles,o=Object(s.h)(e,["icon","title","action","tabs","noTitleStyles"]);return y.a.createElement("div",Object(s.a)({},o),y.a.createElement(b,null,t&&y.a.createElement(j,null,t),n&&y.a.createElement(g,{tabs:a,styled:i},y.a.createElement(f.a,null,n)),r&&y.a.createElement(v,{tabs:a},r)),a&&y.a.createElement("div",null,a))},t.propTypes={icon:u.a.node,title:u.a.node.isRequired,action:u.a.node,tabs:u.a.node,noTitleStyles:u.a.bool},t.defaultProps={noTitleStyles:!1},t}(y.a.Component),b=Object(d.c)("div",{target:"e1uay4fd0"})(r||(r=Object(s.f)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),g=Object(d.c)("div",{target:"e1uay4fd1"})(a||(a=Object(s.f)(["\n  ",";\n  margin: ",";\n  flex: 1;\n"],["\n  ",";\n  margin: ",";\n  flex: 1;\n"])),(function(e){return!e.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),(function(e){return e.tabs?Object(h.a)(4)+" 0 "+Object(h.a)(2):Object(h.a)(4)+" 0"})),j=Object(d.c)("div",{target:"e1uay4fd2"})(i||(i=Object(s.f)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),Object(h.a)(1)),v=Object(d.c)("div",{target:"e1uay4fd3"})(o||(o=Object(s.f)(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return e.tabs?"margin-top: "+Object(h.a)(2):null})),k=Object(d.c)(m,{target:"e1uay4fd4"})(c||(c=Object(s.f)(["\n  font-size: 14px;\n  margin-top: -",";\n"],["\n  font-size: 14px;\n  margin-top: -",";\n"])),Object(h.a)(4));t.a=k},1627:function(e,t,n){"use strict";t.a=function(e,t,n){void 0===n&&(n=!0);var r=e+" - "+t;return n?r+" - Sentry":r}},1767:function(e,t,n){"use strict";n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return P}));var r=n(6),a=n.n(r),i=n(7),o=n.n(i),c=n(9),s=n.n(c),l=n(8),u=n.n(l),p=n(10),y=n.n(p),d=n(0),h=n.n(d),f=n(5),m=n(4),b=n(576),g=n(338),j=n(250),v=n(1684),k=function(e){var t=e.length?e[0].dsn.security:"https://sentry.example.com/api/security-report/";return Object(g.a)({value:t,fixed:"https://sentry.example.com/api/security-report/"})},P=function(e){function t(){return a()(this,t),s()(this,u()(t).apply(this,arguments))}return y()(t,e),o()(t,[{key:"render",value:function(){var e=this.props.params,t=e.orgId,n=e.projectId;return h.a.createElement(j.a,null,h.a.createElement(j.e,null,"Report URI"),h.a.createElement(j.c,null,h.a.createElement(j.b,{type:"info"},Object(m.c)("We've automatically pulled these credentials from your available [link:Client Keys]",{link:h.a.createElement(f.Link,{to:"/settings/".concat(t,"/projects/").concat(n,"/keys/")})})),h.a.createElement(b.a,{inline:!1,flexibleControlStateSize:!0},h.a.createElement(v.a,null,k(this.props.keyList)))))}}]),t}(h.a.Component);P.displayName="ReportUri"},1768:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(12),a=n.n(r),i=n(20),o=n.n(i),c=n(6),s=n.n(c),l=n(7),u=n.n(l),p=n(9),y=n.n(p),d=n(8),h=n.n(d),f=n(10),m=n.n(f),b=n(0),g=n.n(b),j=n(4),v=n(90),k=function(e){function t(){return s()(this,t),y()(this,h()(t).apply(this,arguments))}return m()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=o()(e,["type"]);return g.a.createElement(v.b,a()({type:t,icon:"icon-labs"},n),Object(j.b)("This feature is a preview and may change in the future. Thanks for being an early adopter!"))}}]),t}(b.Component);k.displayName="PreviewFeature",k.defaultProps={type:"info"}},2575:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var r=n(6),a=n.n(r),i=n(7),o=n.n(i),c=n(9),s=n.n(c),l=n(8),u=n.n(l),p=n(173),y=n.n(p),d=n(10),h=n.n(d),f=n(0),m=n.n(f),b=n(4),g=n(1610),j=n(104),v=n(250),k=n(1767),P=n(1768),E=n(1611),O=n(1627),T=function(e){function t(){return a()(this,t),s()(this,u()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"componentWillMount",value:function(){y()(u()(t.prototype),"componentWillMount",this).call(this),this.props.setProjectNavSection("settings")}},{key:"getEndpoints",value:function(){var e=this.props.params,t=e.orgId,n=e.projectId;return[["keyList","/projects/".concat(t,"/").concat(n,"/keys/")],["project","/projects/".concat(t,"/").concat(n,"/")]]}},{key:"getTitle",value:function(){var e=this.props.params.projectId;return Object(O.a)(Object(b.b)("HTTP Public Key Pinning (HPKP)"),e,!1)}},{key:"getInstructions",value:function(){return"def middleware(request, response):\n    response['Public-Key-Pins'] = \\\n        'pin-sha256=\"cUPcTAZWKaASuYWhhneDttWpY3oBAkE3h2+soZS7sWs=\"; ' \\\n        'pin-sha256=\"M8HztCzM3elUxkcjR2S5P4hhyBNf6lHkmjAHKhpGPWE=\"; ' \\\n        'max-age=5184000; includeSubDomains; ' \\\n"+"        'report-uri=\"".concat(Object(k.b)(this.state.keyList),"\"' \n")+"    return response\n"}},{key:"getReportOnlyInstructions",value:function(){return"def middleware(request, response):\n    response['Public-Key-Pins-Report-Only'] = \\\n        'pin-sha256=\"cUPcTAZWKaASuYWhhneDttWpY3oBAkE3h2+soZS7sWs=\"; ' \\\n        'pin-sha256=\"M8HztCzM3elUxkcjR2S5P4hhyBNf6lHkmjAHKhpGPWE=\"; ' \\\n        'max-age=5184000; includeSubDomains; ' \\\n"+"        'report-uri=\"".concat(Object(k.b)(this.state.keyList),"\"' \n")+"    return response\n"}},{key:"renderBody",value:function(){return m.a.createElement("div",null,m.a.createElement(E.a,{title:Object(b.b)("HTTP Public Key Pinning")}),m.a.createElement(P.a,null),m.a.createElement(k.a,{keyList:this.state.keyList,params:this.props.params}),m.a.createElement(v.a,null,m.a.createElement(v.e,null,Object(b.b)("About")),m.a.createElement(v.c,{disablePadding:!1},m.a.createElement("p",null,Object(b.c)("[link:HTTP Public Key Pinning]\n              (HPKP) is a security feature that tells a web client to associate a specific\n              cryptographic public key with a certain web server to decrease the risk of MITM\n              attacks with forged certificates. It's enforced by browser vendors, and Sentry\n              supports capturing violations using the standard reporting hooks.",{link:m.a.createElement(j.a,{href:"https://en.wikipedia.org/wiki/HTTP_Public_Key_Pinning"})})),m.a.createElement("p",null,Object(b.b)("To configure HPKP reports\n              in Sentry, you'll need to send a header from your server describing your\n              policy, as well specifying the authenticated Sentry endpoint.")),m.a.createElement("p",null,Object(b.b)("For example, in Python you might achieve this via a simple web middleware")),m.a.createElement("pre",null,this.getInstructions()),m.a.createElement("p",null,Object(b.b)("Alternatively you can setup HPKP reports to simply send reports rather than\n              actually enforcing the policy")),m.a.createElement("pre",null,this.getReportOnlyInstructions()),m.a.createElement("p",null,Object(b.c)("We recommend setting this up to only run on a percentage of requests, as\n              otherwise you may find that you've quickly exhausted your quota. For more\n              information, take a look at [link:the documentation on MDN].",{link:m.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Public_Key_Pinning"})})))))}}]),t}(g.a)}}]);
//# sourceMappingURL=ProjectHpkpReports.js.map