(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[16],{1609:function(e,t,n){"use strict";var r,a,i=n(2),o=n(44),s=n.n(o),u=n(1),c=n.n(u),l=n(0),p=n.n(l),d=n(35),h=n(289),f=n(47),m=n(28),g=n(4),b=n(5),v=n(105),y=n.n(v),O=n(3),j=n(336),E=n(50),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={query:"",busy:!1},t.immediateQuery=function(e){return Object(i.b)(t,void 0,void 0,(function(){var t,n,r,a,o,s;return Object(i.e)(this,(function(u){switch(u.label){case 0:t=this.props,n=t.location,r=t.api,this.setState({busy:!0}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,r.requestPromise(""+this.props.url,{includeAllArgs:!0,method:"GET",query:Object(i.a)(Object(i.a)({},n.query),{query:e})})];case 2:return a=i.g.apply(void 0,[u.sent(),3]),o=a[0],s=a[2],this.state.query===e&&this.props.onSuccess(o,s),[3,4];case 3:return u.sent(),this.props.onError(),[3,4];case 4:return this.setState({busy:!1}),[2]}}))}))},t.query=y()(t.immediateQuery,t.props.debounceWait),t.handleChange=function(e){t.query(e),t.setState({query:e})},t.handleInputChange=function(e){return t.handleChange(e.target.value)},t.handleSearch=function(e){var n=t.props,r=n.updateRoute,a=n.onSearchSubmit;if(e.preventDefault(),r){var i=t.props,o=i.router,s=i.location;o.push({pathname:s.pathname,query:{query:t.state.query}})}"function"==typeof a&&a(t.state.query,e)},t}return Object(i.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.children,r=e.className,a=this.state,i=a.busy,o=a.query,s=p.a.createElement(w,{onSubmit:this.handleSearch},p.a.createElement(j.a,{value:o,onChange:this.handleInputChange,className:r,placeholder:t}),i&&p.a.createElement(S,{size:18,hideMessage:!0,mini:!0}));return void 0===n?s:n({defaultSearchBar:s,busy:i,value:o,handleChange:this.handleChange})},t.defaultProps={placeholder:"Search...",debounceWait:200},t}(p.a.Component),S=Object(O.c)(E.default,{target:"e6xwo0"})(r||(r=Object(i.f)(["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"],["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"]))),w=Object(O.c)("form",{target:"e6xwo1"})(a||(a=Object(i.f)(["\n  position: relative;\n"],["\n  position: relative;\n"]))),D=b.withRouter(x),M=n(159),k=n(6),R=n.n(k),z=n(7),_=n.n(z),q=n(9),C=n.n(q),I=n(8),P=n.n(I),U=n(10),N=n.n(U),T=n(251),L=n.n(T),H=n(104),X=n(73),B=function(e){function t(){return R()(this,t),C()(this,P()(t).apply(this,arguments))}return N()(t,e),_()(t,[{key:"componentDidMount",value:function(){var e=this.props.routes,t=this.context,n=t.organization,r=t.project,a=Object(X.a)(e);d.l((function(e){e.setFingerprint(["Permission Denied",a]),e.setExtra("route",a),e.setExtra("orgFeatures",n&&n.features||[]),e.setExtra("orgAccess",n&&n.access||[]),e.setExtra("projectFeatures",r&&r.features||[]),d.c(new Error("".concat("Permission Denied").concat(a?" : ".concat(a):"")))}))}},{key:"render",value:function(){return p.a.createElement(L.a,{title:Object(g.b)("Permission Denied")},p.a.createElement(M.a,{message:Object(g.c)("Your role does not have the necessary permissions to access this resource, please read more about [link:organizational roles]",{link:p.a.createElement(H.a,{href:"https://docs.sentry.io/learn/membership/"})})}))}}]),t}(p.a.Component);B.displayName="PermissionDenied",B.contextTypes={organization:c.a.object,project:c.a.object};var F=Object(b.withRouter)(B),W=n(569);function Q(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,Object(i.i)(n))}catch(t){return console.error(t),setTimeout((function(){throw t})),e.setState({error:t}),null}}}var Y=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.reloadOnVisible=!1,r.shouldReloadOnVisible=!1,r.shouldReload=!1,r.shouldRenderBadRequests=!1,r.api=new f.a,r.markShouldMeasure=function(e){var t=void 0===e?{}:e,n=t.remainingRequests,a=t.error;r._measurement.hasMeasured||(r._measurement.finished=0===n,r._measurement.error=a||r._measurement.error)},r.remountComponent=function(){r.shouldReload?r.reloadData():r.setState(r.getDefaultState(),r.fetchData)},r.visibilityReloader=function(){return r.shouldReloadOnVisible&&!r.state.loading&&!document.hidden&&r.reloadData()},r.fetchData=function(e){var t=r.getEndpoints();t.length?(r.api.clear(),r.setState(Object(i.a)({loading:!0,error:!1,remainingRequests:t.length},e)),t.forEach((function(e){var t=Object(i.g)(e,4),n=t[0],a=t[1],o=t[2],s=t[3];s=s||{};var u=r.props.location&&r.props.location.query||{},c=o&&o.query||{};(s.paginate||u.cursor)&&(c=Object(i.a)(Object(i.a)({},u),c)),r.api.request(a,Object(i.a)(Object(i.a)({method:"GET"},o),{query:c,success:function(e,t,a){r.handleRequestSuccess({stateKey:n,data:e,jqXHR:a},!0)},error:function(e){s.allowError&&s.allowError(e)&&(e=null),r.handleError(e,[n,a,o,s])}}))}))):r.setState({loading:!1,error:!1})},r.fetchData=Q(r,r.fetchData.bind(r)),r.render=Q(r,r.render.bind(r)),r.state=r.getDefaultState(),r._measurement={hasMeasured:!1},t.routes&&t.routes&&m.b.mark("async-component-"+Object(X.a)(t.routes)),r}return Object(i.d)(t,e),t.prototype.componentWillMount=function(){this.api=new f.a,this.fetchData(),this.reloadOnVisible&&document.addEventListener("visibilitychange",this.visibilityReloader)},t.prototype.componentWillReceiveProps=function(e,t){},t.prototype.componentDidUpdate=function(e,t){var n=!!t.router,r=void 0!==e.location,a=r?this.props.location:n?this.context.router.location:null,i=r?e.location:n?t.router.location:null;if(a&&i){if(!this._measurement.hasMeasured&&this._measurement.finished&&this.props.routes){var o=Object(X.a)(this.props.routes);m.b.measure({name:"app.component.async-component",start:"async-component-"+o,data:{route:o,error:this._measurement.error}}),this._measurement.hasMeasured=!0,"function"==typeof this.props.finishProfile&&this.props.finishProfile()}s()(this.props.params,e.params)&&a.search===i.search&&a.state===i.state||this.remountComponent()}},t.prototype.componentWillUnmount=function(){this.api.clear(),document.removeEventListener("visibilitychange",this.visibilityReloader)},t.prototype.getDefaultState=function(){var e=this.getEndpoints(),t={loading:!0,reloading:!1,error:!1,errors:{}};return e.forEach((function(e){var n=Object(i.g)(e,2),r=n[0];n[1];t[r]=null})),t},t.prototype.reloadData=function(){this.fetchData({reloading:!0})},t.prototype.onRequestSuccess=function(e){},t.prototype.onRequestError=function(e,t){},t.prototype.handleRequestSuccess=function(e,t){var n=this,r=e.stateKey,a=e.data,i=e.jqXHR;this.setState((function(e){var o,s=((o={})[r]=a,o[r+"PageLinks"]=i&&i.getResponseHeader("Link"),o);return t&&(s.remainingRequests=e.remainingRequests-1,s.loading=e.remainingRequests>1,s.reloading=e.reloading&&s.loading,n.markShouldMeasure({remainingRequests:s.remainingRequests})),s})),this.onRequestSuccess({stateKey:r,data:a,jqXHR:i})},t.prototype.handleError=function(e,t){var n=this,r=Object(i.g)(t,1)[0];e&&e.responseText&&d.a({message:e.responseText,category:"xhr",level:h.a.Error}),this.setState((function(t){var a,o,s=t.remainingRequests>1,u=((a={})[r]=null,a.errors=Object(i.a)(Object(i.a)({},t.errors),((o={})[r]=e,o)),a.error=t.error||!!e,a.remainingRequests=t.remainingRequests-1,a.loading=s,a.reloading=t.reloading&&s,a);return n.markShouldMeasure({remainingRequests:u.remainingRequests,error:!0}),u})),this.onRequestError(e,t)},t.prototype.getEndpointParams=function(){return console.warn("getEndpointParams is deprecated"),{}},t.prototype.getEndpoint=function(){return console.warn("getEndpoint is deprecated"),null},t.prototype.getEndpoints=function(){var e=this.getEndpoint();return e?[["data",e,this.getEndpointParams()]]:[]},t.prototype.renderSearchInput=function(e){var t=this,n=e.stateKey,r=e.url,a=Object(i.h)(e,["stateKey","url"]),o=Object(i.g)(this.getEndpoints()||[null],1)[0],s=n||o&&o[0],u=r||o&&o[1];return p.a.createElement(D,Object(i.a)({url:u},a,{api:this.api,onSuccess:function(e,n){t.handleRequestSuccess({stateKey:s,data:e,jqXHR:n})},onError:function(){t.renderError(new Error("Error with AsyncComponentSearchInput"))}}))},t.prototype.renderLoading=function(){return p.a.createElement(E.default,null)},t.prototype.renderError=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=this.state.errors,a=Object.values(r).find((function(e){return e&&401===e.status})),i=Object.values(r).find((function(e){return e&&403===e.status})),o=!!Object.values(r).find((function(e){return e&&0!==e.status}))||t;if(a)return p.a.createElement(M.a,{message:Object(g.b)("You are not authorized to access this resource.")});if(i)return p.a.createElement(F,null);if(this.shouldRenderBadRequests){var s=Object.values(r).filter((function(e){return e&&400===e.status&&e.responseJSON&&e.responseJSON.detail})).map((function(e){return e.responseJSON.detail}));if(s.length)return p.a.createElement(M.a,{message:s.join("\n")})}return p.a.createElement(W.a,{error:e,component:this,disableLogSentry:!o,disableReport:n,onRetry:this.remountComponent})},t.prototype.renderComponent=function(){return!this.state.loading||this.shouldReload&&this.state.reloading?this.state.error?this.renderError(new Error("Unable to load all required endpoints")):this.renderBody():this.renderLoading()},t.prototype.renderBody=function(){throw new Error("Not implemented")},t.prototype.render=function(){return this.renderComponent()},t.propTypes={location:c.a.object,router:c.a.object},t.contextTypes={router:c.a.object},t}(p.a.Component);t.a=Y},1611:function(e,t,n){"use strict";var r,a,i,o,s,u=n(2),c=n(1),l=n.n(c),p=n(0),d=n.n(p),h=n(3),f=n(11),m=n(337),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(u.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.icon,n=e.title,r=e.action,a=e.tabs,i=e.noTitleStyles,o=Object(u.h)(e,["icon","title","action","tabs","noTitleStyles"]);return d.a.createElement("div",Object(u.a)({},o),d.a.createElement(b,null,t&&d.a.createElement(y,null,t),n&&d.a.createElement(v,{tabs:a,styled:i},d.a.createElement(m.a,null,n)),r&&d.a.createElement(O,{tabs:a},r)),a&&d.a.createElement("div",null,a))},t.propTypes={icon:l.a.node,title:l.a.node.isRequired,action:l.a.node,tabs:l.a.node,noTitleStyles:l.a.bool},t.defaultProps={noTitleStyles:!1},t}(d.a.Component),b=Object(h.c)("div",{target:"e1uay4fd0"})(r||(r=Object(u.f)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),v=Object(h.c)("div",{target:"e1uay4fd1"})(a||(a=Object(u.f)(["\n  ",";\n  margin: ",";\n  flex: 1;\n"],["\n  ",";\n  margin: ",";\n  flex: 1;\n"])),(function(e){return!e.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),(function(e){return e.tabs?Object(f.a)(4)+" 0 "+Object(f.a)(2):Object(f.a)(4)+" 0"})),y=Object(h.c)("div",{target:"e1uay4fd2"})(i||(i=Object(u.f)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),Object(f.a)(1)),O=Object(h.c)("div",{target:"e1uay4fd3"})(o||(o=Object(u.f)(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return e.tabs?"margin-top: "+Object(f.a)(2):null})),j=Object(h.c)(g,{target:"e1uay4fd4"})(s||(s=Object(u.f)(["\n  font-size: 14px;\n  margin-top: -",";\n"],["\n  font-size: 14px;\n  margin-top: -",";\n"])),Object(f.a)(4));t.a=j},1617:function(e,t,n){var r=n(1619);e.exports=function(e,t){if(t=t||{},"string"==typeof e&&(e=document.querySelector(e)),e)return r(0,function(e,t,n){var r,a=document.body,i=document.documentElement,o=e.getBoundingClientRect(),s=i.clientHeight,u=Math.max(a.scrollHeight,a.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);t=t||0,r="bottom"===n?o.bottom-s:"middle"===n?o.bottom-s/2-o.height/2:o.top;var c=u-s;return Math.min(r+t+window.pageYOffset,c)}(e,t.offset,t.align),t)}},1619:function(e,t,n){var r=n(1620),a=n(1623);e.exports=function(e,t,n){n=n||{};var i={top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft},o=r(i).ease(n.ease||"out-circ").to({top:t,left:e}).duration(n.duration||1e3);function s(){a(s),o.update()}return o.update((function(e){window.scrollTo(0|e.left,0|e.top)})),o.on("end",(function(){s=function(){}})),s(),o}},1620:function(e,t,n){var r=n(1621);function a(e){if(!(this instanceof a))return new a(e);this._from=e,this.ease("linear"),this.duration(500)}n(1622)(a.prototype),a.prototype.reset=function(){return this.isArray="[object Array]"===Object.prototype.toString.call(this._from),this._curr=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({},this._from),this._done=!1,this._start=Date.now(),this},a.prototype.to=function(e){return this.reset(),this._to=e,this},a.prototype.duration=function(e){return this._duration=e,this},a.prototype.ease=function(e){if(!(e="function"==typeof e?e:r[e]))throw new TypeError("invalid easing function");return this._ease=e,this},a.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this},a.prototype.step=function(){if(!this._done){var e=this._duration,t=Date.now();if(t-this._start>=e)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var n=this._from,r=this._to,a=this._curr,i=(0,this._ease)((t-this._start)/e);if(this.isArray){for(var o=0;o<n.length;++o)a[o]=n[o]+(r[o]-n[o])*i;return this._update(a),this}for(var s in n)a[s]=n[s]+(r[s]-n[s])*i;return this._update(a),this}},a.prototype.update=function(e){return 0==arguments.length?this.step():(this._update=e,this)},e.exports=a},1621:function(e,t){t.linear=function(e){return e},t.inQuad=function(e){return e*e},t.outQuad=function(e){return e*(2-e)},t.inOutQuad=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},t.inCube=function(e){return e*e*e},t.outCube=function(e){return--e*e*e+1},t.inOutCube=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},t.inQuart=function(e){return e*e*e*e},t.outQuart=function(e){return 1- --e*e*e*e},t.inOutQuart=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},t.inQuint=function(e){return e*e*e*e*e},t.outQuint=function(e){return--e*e*e*e*e+1},t.inOutQuint=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},t.inSine=function(e){return 1-Math.cos(e*Math.PI/2)},t.outSine=function(e){return Math.sin(e*Math.PI/2)},t.inOutSine=function(e){return.5*(1-Math.cos(Math.PI*e))},t.inExpo=function(e){return 0==e?0:Math.pow(1024,e-1)},t.outExpo=function(e){return 1==e?e:1-Math.pow(2,-10*e)},t.inOutExpo=function(e){return 0==e?0:1==e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},t.inCirc=function(e){return 1-Math.sqrt(1-e*e)},t.outCirc=function(e){return Math.sqrt(1- --e*e)},t.inOutCirc=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.inBack=function(e){var t=1.70158;return e*e*((t+1)*e-t)},t.outBack=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},t.inOutBack=function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},t.inBounce=function(e){return 1-t.outBounce(1-e)},t.outBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.inOutBounce=function(e){return e<.5?.5*t.inBounce(2*e):.5*t.outBounce(2*e-1)+.5},t.inElastic=function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},t.outElastic=function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},t.inOutElastic=function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)},t["in-quad"]=t.inQuad,t["out-quad"]=t.outQuad,t["in-out-quad"]=t.inOutQuad,t["in-cube"]=t.inCube,t["out-cube"]=t.outCube,t["in-out-cube"]=t.inOutCube,t["in-quart"]=t.inQuart,t["out-quart"]=t.outQuart,t["in-out-quart"]=t.inOutQuart,t["in-quint"]=t.inQuint,t["out-quint"]=t.outQuint,t["in-out-quint"]=t.inOutQuint,t["in-sine"]=t.inSine,t["out-sine"]=t.outSine,t["in-out-sine"]=t.inOutSine,t["in-expo"]=t.inExpo,t["out-expo"]=t.outExpo,t["in-out-expo"]=t.inOutExpo,t["in-circ"]=t.inCirc,t["out-circ"]=t.outCirc,t["in-out-circ"]=t.inOutCirc,t["in-back"]=t.inBack,t["out-back"]=t.outBack,t["in-out-back"]=t.inOutBack,t["in-bounce"]=t.inBounce,t["out-bounce"]=t.outBounce,t["in-out-bounce"]=t.inOutBounce,t["in-elastic"]=t.inElastic,t["out-elastic"]=t.outElastic,t["in-out-elastic"]=t.inOutElastic},1622:function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length},e.exports=r},1623:function(e,t,n){(function(t){for(var r=n(1624),a="undefined"==typeof window?t:window,i=["moz","webkit"],o="AnimationFrame",s=a["request"+o],u=a["cancel"+o]||a["cancelRequest"+o],c=0;!s&&c<i.length;c++)s=a[i[c]+"Request"+o],u=a[i[c]+"Cancel"+o]||a[i[c]+"CancelRequest"+o];if(!s||!u){var l=0,p=0,d=[];s=function(e){if(0===d.length){var t=r(),n=Math.max(0,1e3/60-(t-l));l=n+t,setTimeout((function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return d.push({handle:++p,callback:e,cancelled:!1}),p},u=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(a,e)},e.exports.cancel=function(){u.apply(a,arguments)},e.exports.polyfill=function(e){e||(e=a),e.requestAnimationFrame=s,e.cancelAnimationFrame=u}}).call(this,n(123))},1624:function(e,t,n){(function(t){(function(){var n,r,a,i,o,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},r=t.hrtime,i=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),o=i-s):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)}).call(this,n(574))},1628:function(e,t,n){"use strict";var r=n(2),a=n(144),i=n(1),o=n.n(i),s=n(0),u=n.n(s),c=n(35),l=n(1617),p=n.n(l),d=n(571),h=n(1625),f=n(250),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.title,a=t.fields,i=t.access,o=t.disabled,s=t.additionalFieldProps,c=t.renderFooter,l=t.renderHeader,p=Object(r.h)(t,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader"]);return u.a.createElement(f.a,{key:n,id:Object(d.a)(n)},n&&u.a.createElement(f.e,null,n),u.a.createElement(f.c,null,"function"==typeof l&&l({title:n,fields:a}),a.map((function(t){if("function"==typeof t)return t();t.defaultValue;var n=Object(r.h)(t,["defaultValue"]);return!0===o&&(n.disabled=!0,n.disabledReason=void 0),u.a.createElement(h.a,Object(r.a)({access:i,disabled:o,key:t.name},p,s,{field:n,highlighted:e.props.highlighted==="#"+t.name}))})),"function"==typeof c&&c({title:n,fields:a})))},t}(u.a.Component),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={highlighted:b(t.props,t.context).hash},t}return Object(r.d)(t,e),t.prototype.componentDidMount=function(){this.scrollToHash()},t.prototype.componentWillReceiveProps=function(e){if(b(this.props,this.context).hash!==b(e,this.context).hash){var t=b(e,this.context).hash;this.scrollToHash(t),this.setState({highlighted:t})}},t.prototype.scrollToHash=function(e){var t=e||b(this.props,this.context).hash;if(t)try{p()(Object(d.a)(decodeURIComponent(t)),{align:"middle",offset:-100})}catch(e){c.c(e)}},t.prototype.render=function(){var e=this.props,t=e.forms,n=e.title,i=e.fields,o=e.access,s=e.disabled,c=e.features,l=e.additionalFieldProps,p=e.renderFooter,d=e.renderHeader,h=(e.location,Object(r.h)(e,["forms","title","fields","access","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),f={access:o,disabled:s,features:c,additionalFieldProps:l,renderFooter:p,renderHeader:d,highlighted:this.state.highlighted};return u.a.createElement(a.a,Object(r.a)({},h),void 0!==t&&t.map((function(e){return u.a.createElement(m,Object(r.a)({key:e.title,title:e.title,fields:e.fields},f))})),void 0===t&&void 0!==i&&u.a.createElement(m,Object(r.a)({title:n,fields:i},f)))},t.propTypes={forms:o.a.arrayOf(o.a.shape({title:o.a.string,fields:o.a.arrayOf(o.a.oneOfType([o.a.func,h.a.propTypes.field]))})),fields:o.a.arrayOf(o.a.oneOfType([o.a.func,h.a.propTypes.field])),title:o.a.oneOfType([o.a.string,o.a.object]),access:o.a.object,features:o.a.object,renderFooter:o.a.func,renderHeader:o.a.func,disabled:o.a.bool},t.defaultProps={additionalFieldProps:{}},t.contextTypes={location:o.a.object},t}(u.a.Component);t.a=g;function b(e,t){return e.location||t.location||{}}},1737:function(e,t,n){"use strict";var r,a=n(2),i=n(3),o=n(1),s=n.n(o),u=Object(i.c)("div",{target:"ed8v6mn0"})(r||(r=Object(a.f)(["\n  border: 1px solid ",";\n  box-shadow: none;\n  background: ",";\n  padding: ",";\n  margin-bottom: 20px;\n  border-radius: 3px;\n  ",";\n"],["\n  border: 1px solid ",";\n  box-shadow: none;\n  background: ",";\n  padding: ",";\n  margin-bottom: 20px;\n  border-radius: 3px;\n  ",";\n"])),(function(e){return e.theme.borderLight}),(function(e){return e.theme.whiteDark}),(function(e){return e.hasImage?"80px 30px":"15px 20px"}),(function(e){return e.centered&&"text-align: center"}));u.propTypes={hasImage:s.a.bool,centered:s.a.bool},t.a=u},2163:function(e,t,n){"use strict";var r,a,i,o,s,u,c=n(12),l=n.n(c),p=n(16),d=n.n(p),h=n(6),f=n.n(h),m=n(7),g=n.n(m),b=n(9),v=n.n(b),y=n(8),O=n.n(y),j=n(26),E=n.n(j),x=n(10),S=n.n(x),w=n(0),D=n.n(w),M=n(3),k=n(1808),R=n(4),z=n(51),_=n(61),q=n(1737),C=n(250),I=n(421),P=n(2),U=n(1),N=n.n(U),T=n(24),L={nw:["top","left"],ne:["top","right"],se:["bottom","right"],sw:["bottom","left"]},H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={file:null,objectURL:null,mousePosition:{pageX:0,pageY:0},resizeDimensions:{top:0,left:0,size:0},resizeDirection:null},t.file=D.a.createRef(),t.canvas=D.a.createRef(),t.image=D.a.createRef(),t.cropContainer=D.a.createRef(),t.MIN_DIMENSION=256,t.MAX_DIMENSION=1024,t.onSelectFile=function(e){var n=e.target.files&&e.target.files[0];if(n)if(/^image\//.test(n.type)){t.revokeObjectUrl();var r=t.props.updateDataUrlState,a=window.URL.createObjectURL(n);t.setState({file:n,objectURL:a},(function(){return r({savedDataUrl:null})}))}else Object(z.a)(Object(R.b)("That is not a supported file type."))},t.revokeObjectUrl=function(){return t.state.objectURL&&window.URL.revokeObjectURL(t.state.objectURL)},t.onImageLoad=function(){var e=t.validateImage();if(e)return t.revokeObjectUrl(),t.setState({objectURL:null}),void Object(z.a)(e);var n=t.image.current;if(n){var r={resizeDimensions:{size:Math.min(n.clientHeight,n.clientWidth),top:0,left:0}};t.setState(r,t.drawToCanvas)}},t.updateDimensions=function(e){var n=t.cropContainer.current;if(n){var r=t.state,a=r.mousePosition,i=r.resizeDimensions,o=e.pageY,s=e.pageX,u=i.top+(o-a.pageY),c=i.left+(s-a.pageX);u<0?(u=0,o=a.pageY):u+i.size>n.clientHeight&&(u=n.clientHeight-i.size,o=a.pageY),c<0?(c=0,s=a.pageX):c+i.size>n.clientWidth&&(c=n.clientWidth-i.size,s=a.pageX),t.setState((function(e){return{resizeDimensions:Object(P.a)(Object(P.a)({},e.resizeDimensions),{top:u,left:c}),mousePosition:{pageX:s,pageY:o}}}))}},t.onMouseDown=function(e){e.preventDefault(),t.setState({mousePosition:{pageY:e.pageY,pageX:e.pageX}}),document.addEventListener("mousemove",t.updateDimensions),document.addEventListener("mouseup",t.onMouseUp)},t.onMouseUp=function(e){e.preventDefault(),document.removeEventListener("mousemove",t.updateDimensions),document.removeEventListener("mouseup",t.onMouseUp),t.drawToCanvas()},t.startResize=function(e,n){n.stopPropagation(),n.preventDefault(),document.addEventListener("mousemove",t.updateSize),document.addEventListener("mouseup",t.stopResize),t.setState({resizeDirection:e,mousePosition:{pageY:n.pageY,pageX:n.pageX}})},t.stopResize=function(e){e.stopPropagation(),e.preventDefault(),document.removeEventListener("mousemove",t.updateSize),document.removeEventListener("mouseup",t.stopResize),t.setState({resizeDirection:null}),t.drawToCanvas()},t.updateSize=function(e){var n=t.cropContainer.current;if(n){var r=t.state.mousePosition,a=e.pageY-r.pageY,i=e.pageX-r.pageX;t.setState({resizeDimensions:t.getNewDimensions(n,a,i),mousePosition:{pageX:e.pageX,pageY:e.pageY}})}},t.getDiffNW=function(e,t){return(e-2*e+(t-2*t))/2},t.getDiffNE=function(e,t){return(e-2*e+t)/2},t.getDiffSW=function(e,t){return(e+(t-2*t))/2},t.getDiffSE=function(e,t){return(e+t)/2},t.getNewDimensions=function(e,n,r){var a=t.state,i=a.resizeDimensions,o=a.resizeDirection,s=t["getDiff"+o.toUpperCase()](n,r),u=e.clientHeight-i.top,c=e.clientWidth-i.left,l="nw"===o||"ne"===o,p="nw"===o||"sw"===o,d={top:0,left:0,size:i.size+s};l&&(d.top=i.top-s,u=e.clientHeight-d.top),p&&(d.left=i.left-s,c=e.clientWidth-d.left),d.top<0&&(d.size=d.size+d.top,p&&(d.left=d.left-d.top),d.top=0),d.left<0&&(d.size=d.size+d.left,l&&(d.top=d.top-d.left),d.left=0);var h=Math.min(c,u);return d.size>h?(l&&(d.top=d.top+d.size-h),p&&(d.left=d.left+d.size-h),d.size=h):d.size<t.MIN_DIMENSION&&(l&&(d.top=d.top+d.size-t.MIN_DIMENSION),p&&(d.left=d.left+d.size-t.MIN_DIMENSION),d.size=t.MIN_DIMENSION),Object(P.a)(Object(P.a)({},i),d)},t.uploadClick=function(e){e.preventDefault(),t.file.current&&t.file.current.click()},t}return Object(P.d)(t,e),t.prototype.componentWillUnmount=function(){this.revokeObjectUrl()},t.prototype.validateImage=function(){var e=this.image.current;return e?e.naturalWidth<this.MIN_DIMENSION||e.naturalHeight<this.MIN_DIMENSION?Object(R.c)("Please upload an image larger than [size]px by [size]px.",{size:this.MIN_DIMENSION-1}):e.naturalWidth>this.MAX_DIMENSION||e.naturalHeight>this.MAX_DIMENSION?Object(R.c)("Please upload an image smaller than [size]px by [size]px.",{size:this.MAX_DIMENSION}):null:null},t.prototype.drawToCanvas=function(){var e=this.canvas.current;if(e){var t=this.image.current;if(t){var n=this.state.resizeDimensions,r=n.left,a=n.top,i=n.size,o=(t.naturalHeight/t.clientHeight+t.naturalWidth/t.clientWidth)/2;e.width=i*o,e.height=i*o,e.getContext("2d").drawImage(t,r*o,a*o,i*o,i*o,0,0,i*o,i*o),this.props.updateDataUrlState({dataUrl:e.toDataURL()})}}},Object.defineProperty(t.prototype,"imageSrc",{get:function(){var e=this.props,t=e.savedDataUrl,n=e.model,r=e.type,a=n&&n.avatar.avatarUuid,i=a&&"/"+(T.g[r]||"avatar")+"/"+a+"/";return t||this.state.objectURL||i},enumerable:!0,configurable:!0}),t.prototype.renderImageCrop=function(){var e=this,t=this.imageSrc;if(!t)return null;var n=this.state,r=n.resizeDimensions,a=n.resizeDirection,i={top:r.top,left:r.left,width:r.size,height:r.size};return D.a.createElement(B,{resizeDirection:a},D.a.createElement(F,{innerRef:this.cropContainer},D.a.createElement("img",{ref:this.image,src:t,onLoad:this.onImageLoad,onDragStart:function(e){return e.preventDefault()}}),D.a.createElement(W,{style:i,onMouseDown:this.onMouseDown},Object.keys(L).map((function(t){return D.a.createElement(Q,{key:t,position:t,onMouseDown:e.startResize.bind(e,t)})})))))},t.prototype.render=function(){var e=this.imageSrc,t=D.a.createElement("a",{onClick:this.uploadClick}),n=D.a.createElement(q.a,{hasImage:!0,centered:!0},D.a.createElement("p",null,Object(R.c)("[upload:Upload a photo] to get started.",{upload:t})));return D.a.createElement(D.a.Fragment,null,!e&&n,e&&D.a.createElement(Y,{innerRef:this.canvas}),this.renderImageCrop(),D.a.createElement("div",{className:"form-group"},e&&D.a.createElement("a",{onClick:this.uploadClick},Object(R.b)("Change Photo")),D.a.createElement(X,{innerRef:this.file,type:"file",accept:"image/gif,image/jpeg,image/png",onChange:this.onSelectFile})))},t.propTypes={model:N.a.object.isRequired,updateDataUrlState:N.a.func.isRequired,type:N.a.oneOf(["user","team","organization","project"]),savedDataUrl:N.a.string},t}(D.a.Component),X=Object(M.c)("input",{target:"e1eh795y0"})(r||(r=Object(P.f)(["\n  position: absolute;\n  opacity: 0;\n"],["\n  position: absolute;\n  opacity: 0;\n"]))),B=Object(M.c)("div",{target:"e1eh795y1"})(a||(a=Object(P.f)(["\n  cursor: ",";\n  text-align: center;\n  margin-bottom: 20px;\n  background-size: 20px 20px;\n  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;\n  background-color: #fff;\n  background-image: linear-gradient(45deg, #eee 25%, rgba(0, 0, 0, 0) 25%),\n    linear-gradient(-45deg, #eee 25%, rgba(0, 0, 0, 0) 25%),\n    linear-gradient(45deg, rgba(0, 0, 0, 0) 75%, #eee 75%),\n    linear-gradient(-45deg, rgba(0, 0, 0, 0) 75%, #eee 75%);\n"],["\n  cursor: ",";\n  text-align: center;\n  margin-bottom: 20px;\n  background-size: 20px 20px;\n  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;\n  background-color: #fff;\n  background-image: linear-gradient(45deg, #eee 25%, rgba(0, 0, 0, 0) 25%),\n    linear-gradient(-45deg, #eee 25%, rgba(0, 0, 0, 0) 25%),\n    linear-gradient(45deg, rgba(0, 0, 0, 0) 75%, #eee 75%),\n    linear-gradient(-45deg, rgba(0, 0, 0, 0) 75%, #eee 75%);\n"])),(function(e){return e.resizeDirection?e.resizeDirection+"-resize":"default"})),F=Object(M.c)("div",{target:"e1eh795y2"})(i||(i=Object(P.f)(["\n  display: inline-block;\n  position: relative;\n  max-width: 100%;\n"],["\n  display: inline-block;\n  position: relative;\n  max-width: 100%;\n"]))),W=Object(M.c)("div",{target:"e1eh795y3"})(o||(o=Object(P.f)(["\n  position: absolute;\n  border: 2px dashed ",";\n"],["\n  position: absolute;\n  border: 2px dashed ",";\n"])),(function(e){return e.theme.gray2})),Q=Object(M.c)("div",{target:"e1eh795y4"})(s||(s=Object(P.f)(["\n  border-radius: 5px;\n  width: 10px;\n  height: 10px;\n  position: absolute;\n  background-color: ",";\n  cursor: ",";\n  ","\n"],["\n  border-radius: 5px;\n  width: 10px;\n  height: 10px;\n  position: absolute;\n  background-color: ",";\n  cursor: ",";\n  ","\n"])),(function(e){return e.theme.gray2}),(function(e){return e.position+"-resize"}),(function(e){return L[e.position].map((function(e){return e+": -5px;"}))})),Y=Object(M.c)("canvas",{target:"e1eh795y5"})(u||(u=Object(P.f)(["\n  display: none;\n"],["\n  display: none;\n"]))),A=n(27),G=n(104),$=n(159),K=n(50);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var J=function(e){function t(e){var n;return f()(this,t),(n=v()(this,O()(t).call(this,e))).updateDataUrlState=function(e){n.setState(e)},n.handleSaveSettings=function(e){var t=n.props,r=t.endpoint,a=t.api,i=n.state,o=i.model,s=i.dataUrl;e.preventDefault();var u,c=o&&o.avatar?o.avatar.avatarType:void 0;u={avatar_photo:s?s.split(",")[1]:void 0,avatar_type:c},a.request(r,{method:"PUT",data:u,success:function(e){n.setState({savedDataUrl:n.state.dataUrl}),n.handleSuccess(e)},error:n.handleError.bind(E()(n),"There was an error saving your preferences.")})},n.state={model:n.props.model,savedDataUrl:null,dataUrl:null,hasError:!1},n}return S()(t,e),g()(t,[{key:"componentWillReceiveProps",value:function(e){void 0!==e.model&&this.setState({model:e.model})}},{key:"updateState",value:function(e){this.setState({model:e})}},{key:"handleError",value:function(e){Object(z.a)(e)}},{key:"handleSuccess",value:function(e){var t=this.props.onSave;this.setState({model:e}),t(e),Object(z.d)(Object(R.b)("Successfully saved avatar preferences"))}},{key:"handleChange",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state.model);t.avatar.avatarType=e,this.updateState(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.allowGravatar,r=t.allowUpload,a=t.allowLetter,i=t.savedDataUrl,o=t.type,s=t.isUser,u=t.disabled,c=this.state,p=c.hasError,d=c.model;if(p)return D.a.createElement($.a,null);if(!d)return D.a.createElement(K.default,null);var h=d.avatar&&d.avatar.avatarType||"letter_avatar",f="letter_avatar"===h,m="team"===o,g="organization"===o,b="project"===o,v=[];return a&&v.push(["letter_avatar","Use initials"]),r&&v.push(["upload","Upload an image"]),n&&v.push(["gravatar","Use Gravatar"]),D.a.createElement(C.a,null,D.a.createElement(C.e,null,"Avatar"),D.a.createElement(C.c,null,D.a.createElement(ee,null,D.a.createElement(Z,{inline:f},D.a.createElement(k.a,{style:{flex:1},choices:v,value:h,label:"Avatar Type",onChange:function(t){return e.handleChange(t)},disabled:u}),f&&D.a.createElement(I.a,{gravatar:!1,style:{width:90,height:90},user:s?d:null,organization:g?d:null,project:b?d:null,team:m?d:null})),D.a.createElement(ne,null,n&&"gravatar"===h&&D.a.createElement(q.a,null,Object(R.b)("Gravatars are managed through "),D.a.createElement(G.a,{href:"http://gravatar.com"},"Gravatar.com")),"upload"===h&&D.a.createElement(H,l()({},this.props,{model:d,savedDataUrl:i,updateDataUrlState:this.updateDataUrlState})),D.a.createElement(te,{className:"form-actions"},D.a.createElement(A.a,{type:"button",priority:"primary",onClick:this.handleSaveSettings,disabled:u},Object(R.b)("Save Avatar")))))))}}]),t}(D.a.Component);J.displayName="AvatarChooser",J.defaultProps={allowGravatar:!0,allowLetter:!0,allowUpload:!0,onSave:function(){}};var Z=Object(M.c)("div",{target:"el5z31b0"})("display:flex;flex-direction:",(function(e){return e.inline?"row":"column"}),";"),ee=Object(M.c)("div",{target:"el5z31b1"})("line-height:1.5em;padding:1em 1.25em;"),te=Object(M.c)("fieldset",{target:"el5z31b2"})("display:flex;justify-content:flex-end;margin-top:1em;"),ne=Object(M.c)("div",{target:"el5z31b3"})("margin-top:1em;");t.a=Object(_.a)(J)}}]);
//# sourceMappingURL=AccountDetails~OrganizationGeneralSettings.js.map