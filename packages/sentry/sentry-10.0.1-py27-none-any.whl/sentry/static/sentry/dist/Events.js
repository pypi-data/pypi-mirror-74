(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[77],{1609:function(e,t,n){"use strict";var r,a,o=n(2),i=n(44),s=n.n(i),u=n(1),c=n.n(u),l=n(0),p=n.n(l),d=n(35),h=n(289),m=n(47),f=n(28),g=n(4),v=n(5),y=n(105),b=n.n(y),O=n(3),j=n(336),E=n(50),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={query:"",busy:!1},t.immediateQuery=function(e){return Object(o.b)(t,void 0,void 0,(function(){var t,n,r,a,i,s;return Object(o.e)(this,(function(u){switch(u.label){case 0:t=this.props,n=t.location,r=t.api,this.setState({busy:!0}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,r.requestPromise(""+this.props.url,{includeAllArgs:!0,method:"GET",query:Object(o.a)(Object(o.a)({},n.query),{query:e})})];case 2:return a=o.g.apply(void 0,[u.sent(),3]),i=a[0],s=a[2],this.state.query===e&&this.props.onSuccess(i,s),[3,4];case 3:return u.sent(),this.props.onError(),[3,4];case 4:return this.setState({busy:!1}),[2]}}))}))},t.query=b()(t.immediateQuery,t.props.debounceWait),t.handleChange=function(e){t.query(e),t.setState({query:e})},t.handleInputChange=function(e){return t.handleChange(e.target.value)},t.handleSearch=function(e){var n=t.props,r=n.updateRoute,a=n.onSearchSubmit;if(e.preventDefault(),r){var o=t.props,i=o.router,s=o.location;i.push({pathname:s.pathname,query:{query:t.state.query}})}"function"==typeof a&&a(t.state.query,e)},t}return Object(o.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.children,r=e.className,a=this.state,o=a.busy,i=a.query,s=p.a.createElement(R,{onSubmit:this.handleSearch},p.a.createElement(j.a,{value:i,onChange:this.handleInputChange,className:r,placeholder:t}),o&&p.a.createElement(q,{size:18,hideMessage:!0,mini:!0}));return void 0===n?s:n({defaultSearchBar:s,busy:o,value:i,handleChange:this.handleChange})},t.defaultProps={placeholder:"Search...",debounceWait:200},t}(p.a.Component),q=Object(O.c)(E.default,{target:"e6xwo0"})(r||(r=Object(o.f)(["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"],["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"]))),R=Object(O.c)("form",{target:"e6xwo1"})(a||(a=Object(o.f)(["\n  position: relative;\n"],["\n  position: relative;\n"]))),S=v.withRouter(D),w=n(159),P=n(6),x=n.n(P),z=n(7),C=n.n(z),T=n(9),k=n.n(T),A=n(8),L=n.n(A),N=n(10),M=n.n(N),Y=n(251),U=n.n(Y),H=n(104),J=n(73),W=function(e){function t(){return x()(this,t),k()(this,L()(t).apply(this,arguments))}return M()(t,e),C()(t,[{key:"componentDidMount",value:function(){var e=this.props.routes,t=this.context,n=t.organization,r=t.project,a=Object(J.a)(e);d.l((function(e){e.setFingerprint(["Permission Denied",a]),e.setExtra("route",a),e.setExtra("orgFeatures",n&&n.features||[]),e.setExtra("orgAccess",n&&n.access||[]),e.setExtra("projectFeatures",r&&r.features||[]),d.c(new Error("".concat("Permission Denied").concat(a?" : ".concat(a):"")))}))}},{key:"render",value:function(){return p.a.createElement(U.a,{title:Object(g.b)("Permission Denied")},p.a.createElement(w.a,{message:Object(g.c)("Your role does not have the necessary permissions to access this resource, please read more about [link:organizational roles]",{link:p.a.createElement(H.a,{href:"https://docs.sentry.io/learn/membership/"})})}))}}]),t}(p.a.Component);W.displayName="PermissionDenied",W.contextTypes={organization:c.a.object,project:c.a.object};var B=Object(v.withRouter)(W),I=n(569);function _(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,Object(o.i)(n))}catch(t){return console.error(t),setTimeout((function(){throw t})),e.setState({error:t}),null}}}var F=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.reloadOnVisible=!1,r.shouldReloadOnVisible=!1,r.shouldReload=!1,r.shouldRenderBadRequests=!1,r.api=new m.a,r.markShouldMeasure=function(e){var t=void 0===e?{}:e,n=t.remainingRequests,a=t.error;r._measurement.hasMeasured||(r._measurement.finished=0===n,r._measurement.error=a||r._measurement.error)},r.remountComponent=function(){r.shouldReload?r.reloadData():r.setState(r.getDefaultState(),r.fetchData)},r.visibilityReloader=function(){return r.shouldReloadOnVisible&&!r.state.loading&&!document.hidden&&r.reloadData()},r.fetchData=function(e){var t=r.getEndpoints();t.length?(r.api.clear(),r.setState(Object(o.a)({loading:!0,error:!1,remainingRequests:t.length},e)),t.forEach((function(e){var t=Object(o.g)(e,4),n=t[0],a=t[1],i=t[2],s=t[3];s=s||{};var u=r.props.location&&r.props.location.query||{},c=i&&i.query||{};(s.paginate||u.cursor)&&(c=Object(o.a)(Object(o.a)({},u),c)),r.api.request(a,Object(o.a)(Object(o.a)({method:"GET"},i),{query:c,success:function(e,t,a){r.handleRequestSuccess({stateKey:n,data:e,jqXHR:a},!0)},error:function(e){s.allowError&&s.allowError(e)&&(e=null),r.handleError(e,[n,a,i,s])}}))}))):r.setState({loading:!1,error:!1})},r.fetchData=_(r,r.fetchData.bind(r)),r.render=_(r,r.render.bind(r)),r.state=r.getDefaultState(),r._measurement={hasMeasured:!1},t.routes&&t.routes&&f.b.mark("async-component-"+Object(J.a)(t.routes)),r}return Object(o.d)(t,e),t.prototype.componentWillMount=function(){this.api=new m.a,this.fetchData(),this.reloadOnVisible&&document.addEventListener("visibilitychange",this.visibilityReloader)},t.prototype.componentWillReceiveProps=function(e,t){},t.prototype.componentDidUpdate=function(e,t){var n=!!t.router,r=void 0!==e.location,a=r?this.props.location:n?this.context.router.location:null,o=r?e.location:n?t.router.location:null;if(a&&o){if(!this._measurement.hasMeasured&&this._measurement.finished&&this.props.routes){var i=Object(J.a)(this.props.routes);f.b.measure({name:"app.component.async-component",start:"async-component-"+i,data:{route:i,error:this._measurement.error}}),this._measurement.hasMeasured=!0,"function"==typeof this.props.finishProfile&&this.props.finishProfile()}s()(this.props.params,e.params)&&a.search===o.search&&a.state===o.state||this.remountComponent()}},t.prototype.componentWillUnmount=function(){this.api.clear(),document.removeEventListener("visibilitychange",this.visibilityReloader)},t.prototype.getDefaultState=function(){var e=this.getEndpoints(),t={loading:!0,reloading:!1,error:!1,errors:{}};return e.forEach((function(e){var n=Object(o.g)(e,2),r=n[0];n[1];t[r]=null})),t},t.prototype.reloadData=function(){this.fetchData({reloading:!0})},t.prototype.onRequestSuccess=function(e){},t.prototype.onRequestError=function(e,t){},t.prototype.handleRequestSuccess=function(e,t){var n=this,r=e.stateKey,a=e.data,o=e.jqXHR;this.setState((function(e){var i,s=((i={})[r]=a,i[r+"PageLinks"]=o&&o.getResponseHeader("Link"),i);return t&&(s.remainingRequests=e.remainingRequests-1,s.loading=e.remainingRequests>1,s.reloading=e.reloading&&s.loading,n.markShouldMeasure({remainingRequests:s.remainingRequests})),s})),this.onRequestSuccess({stateKey:r,data:a,jqXHR:o})},t.prototype.handleError=function(e,t){var n=this,r=Object(o.g)(t,1)[0];e&&e.responseText&&d.a({message:e.responseText,category:"xhr",level:h.a.Error}),this.setState((function(t){var a,i,s=t.remainingRequests>1,u=((a={})[r]=null,a.errors=Object(o.a)(Object(o.a)({},t.errors),((i={})[r]=e,i)),a.error=t.error||!!e,a.remainingRequests=t.remainingRequests-1,a.loading=s,a.reloading=t.reloading&&s,a);return n.markShouldMeasure({remainingRequests:u.remainingRequests,error:!0}),u})),this.onRequestError(e,t)},t.prototype.getEndpointParams=function(){return console.warn("getEndpointParams is deprecated"),{}},t.prototype.getEndpoint=function(){return console.warn("getEndpoint is deprecated"),null},t.prototype.getEndpoints=function(){var e=this.getEndpoint();return e?[["data",e,this.getEndpointParams()]]:[]},t.prototype.renderSearchInput=function(e){var t=this,n=e.stateKey,r=e.url,a=Object(o.h)(e,["stateKey","url"]),i=Object(o.g)(this.getEndpoints()||[null],1)[0],s=n||i&&i[0],u=r||i&&i[1];return p.a.createElement(S,Object(o.a)({url:u},a,{api:this.api,onSuccess:function(e,n){t.handleRequestSuccess({stateKey:s,data:e,jqXHR:n})},onError:function(){t.renderError(new Error("Error with AsyncComponentSearchInput"))}}))},t.prototype.renderLoading=function(){return p.a.createElement(E.default,null)},t.prototype.renderError=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=this.state.errors,a=Object.values(r).find((function(e){return e&&401===e.status})),o=Object.values(r).find((function(e){return e&&403===e.status})),i=!!Object.values(r).find((function(e){return e&&0!==e.status}))||t;if(a)return p.a.createElement(w.a,{message:Object(g.b)("You are not authorized to access this resource.")});if(o)return p.a.createElement(B,null);if(this.shouldRenderBadRequests){var s=Object.values(r).filter((function(e){return e&&400===e.status&&e.responseJSON&&e.responseJSON.detail})).map((function(e){return e.responseJSON.detail}));if(s.length)return p.a.createElement(w.a,{message:s.join("\n")})}return p.a.createElement(I.a,{error:e,component:this,disableLogSentry:!i,disableReport:n,onRetry:this.remountComponent})},t.prototype.renderComponent=function(){return!this.state.loading||this.shouldReload&&this.state.reloading?this.state.error?this.renderError(new Error("Unable to load all required endpoints")):this.renderBody():this.renderLoading()},t.prototype.renderBody=function(){throw new Error("Not implemented")},t.prototype.render=function(){return this.renderComponent()},t.propTypes={location:c.a.object,router:c.a.object},t.contextTypes={router:c.a.object},t}(p.a.Component);t.a=F},1610:function(e,t,n){"use strict";var r=n(2),a=n(251),o=n.n(a),i=n(0),s=n.n(i),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.getTitle=function(){return""},t.prototype.render=function(){var e=this.getTitle();return s.a.createElement(o.a,{title:(e?e+" - ":"")+"Sentry"},this.renderComponent())},t}(n(1609).a);t.a=u},1629:function(e,t,n){"use strict";var r=n(2),a=n(1),o=n.n(a),i=n(0),s=n.n(i),u=n(93),c=n.n(u),l=n(33),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getFormat=function(e){var n=e.clock24Hours,r=t.props,a=r.dateOnly,o=r.timeOnly,i=r.seconds,s=r.shortDate;return a?"LL":o?"LT":s?"MM/DD/YYYY":n?"MMMM D YYYY HH:mm:ss z":i?"ll LTS z":"lll"},t}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.date,n=(e.seconds,e.shortDate,e.dateOnly,e.utc),a=(e.timeOnly,Object(r.h)(e,["date","seconds","shortDate","dateOnly","utc","timeOnly"])),o=l.default.get("user"),i=o?o.options:{},u=this.getFormat(i);return s.a.createElement("time",Object(r.a)({},a),n?c.a.utc(t).format(u):c.a.tz(t,i.timezone).format(u))},t.propTypes={date:o.a.any.isRequired,dateOnly:o.a.bool,timeOnly:o.a.bool,shortDate:o.a.bool,seconds:o.a.bool,utc:o.a.bool},t.defaultProps={seconds:!0},t}(s.a.Component);t.a=p},1756:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(3),i=n(1728),s=Object(o.c)((function(e){return a.a.createElement("div",e,a.a.createElement(i.a,null))}),{target:"e1mz57yu0"})("flex:1;flex-shrink:0;overflow:hidden;height:200px;position:relative;border-color:transparent;margin-bottom:0;");t.a=s},1777:function(e,t,n){"use strict";var r=n(2),a=n(44),o=n.n(a),i=n(1817),s=n.n(i),u=n(1),c=n.n(u),l=n(0),p=n.n(l),d=n(51),h=n(65),m=1080;function f(e,t){return!!e&&(!(t&&Object(h.n)(t)>m)&&e)}var g=n(1819),v=function(e,t){var n=t.organization,a=t.project,o=t.environment,i=t.period,s=t.start,u=t.end,c=t.interval,l=t.includePrevious,p=t.query,d=t.yAxis,h=t.field,m=t.referenceEvent,v=f(l,i),y=Object.fromEntries(Object.entries({interval:c,project:a,environment:o,query:p,yAxis:d,field:h,referenceEvent:m}).filter((function(e){return void 0!==Object(r.g)(e,2)[1]}))),b=Object(g.a)({period:i,start:s,end:u},{shouldDoublePeriod:v});return e.requestPromise("/organizations/"+n.slug+"/events-stats/",{query:Object(r.a)(Object(r.a)({},y),b)})},y=n(4),b=n(53),O=n(1756),j=["api","children","organization","loading"],E=function(e){return s()(e,(function(e,t){return j.includes(t)}))},D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={reloading:!!t.props.loading,timeseriesData:null},t.unmounting=!1,t.fetchData=function(){return Object(r.b)(t,void 0,void 0,(function(){var e,t,n,a,o;return Object(r.e)(this,(function(i){switch(i.label){case 0:e=this.props,t=e.api,n=Object(r.h)(e,["api"]),a=null,this.setState((function(e){return{reloading:null!==e.timeseriesData}})),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,v(t,n)];case 2:return a=i.sent(),[3,4];case 3:return(o=i.sent())&&o.responseJSON&&o.responseJSON.detail?Object(d.a)(o.responseJSON.detail):Object(d.a)(Object(y.b)("Error loading chart data")),[3,4];case 4:return this.unmounting?[2]:(this.setState({reloading:!1,timeseriesData:a}),[2])}}))}))},t.getData=function(e){var n=t.props,r=n.period,a=f(n.includePrevious,r),o=Math.floor(e.length/2);return{current:a?e.slice(o):e,previous:a?e.slice(0,o):null}},t}return Object(r.d)(t,e),t.prototype.componentDidMount=function(){this.fetchData()},t.prototype.componentDidUpdate=function(e){o()(E(e),E(this.props))||this.fetchData()},t.prototype.componentWillUnmount=function(){this.unmounting=!0},t.prototype.calculateTotalsPerTimestamp=function(e,t){return void 0===t&&(t=function(e){return 1e3*e}),e.map((function(e,n){var a=Object(r.g)(e,2),o=a[0],i=a[1];return{name:t(o,i,n),value:i.reduce((function(e,t){return e+t.count}),0)}}))},t.prototype.transformPreviousPeriodData=function(e,t){return t?{seriesName:"Previous Period",data:this.calculateTotalsPerTimestamp(t,(function(t,n,r){return 1e3*e[r][0]}))}:null},t.prototype.transformAggregatedTimeseries=function(e,t){return void 0===t&&(t=""),{seriesName:t,data:this.calculateTotalsPerTimestamp(e)}},t.prototype.transformTimeseriesData=function(e){return[{seriesName:"Current Period",data:e.map((function(e){var t=Object(r.g)(e,2);return{name:1e3*t[0],value:t[1].reduce((function(e,t){return e+t.count}),0)}}))}]},t.prototype.processData=function(e){if(!e)return{};var t=e.data,n=e.totals,r=this.props,a=r.includeTransformedData,o=r.includeTimeAggregation,i=r.timeAggregationSeriesName,s=this.getData(t),u=s.current,c=s.previous;return{data:a?this.transformTimeseriesData(u):[],allData:t,originalData:u,totals:n,originalPreviousData:c,previousData:a?this.transformPreviousPeriodData(u,c):null,timeAggregatedData:o?this.transformAggregatedTimeseries(u,i||""):{}}},t.prototype.render=function(){var e=this.props,t=e.children,n=e.showLoading,a=Object(r.h)(e,["children","showLoading"]),o=this.state,i=o.timeseriesData,s=o.reloading,u=this.props.loading||null===i;if(n&&u)return p.a.createElement(O.a,{"data-test-id":"events-request-loading"});var c=this.processData(i),l=c.data,d=c.allData,h=c.originalData,m=c.totals,f=c.originalPreviousData,g=c.previousData,v=c.timeAggregatedData;return t(Object(r.a)({loading:u,reloading:s,timeseriesData:l,allTimeseriesData:d,originalTimeseriesData:h,timeseriesTotals:m,originalPreviousTimeseriesData:f,previousTimeseriesData:g,timeAggregatedData:v},a))},t.propTypes={api:c.a.object.isRequired,organization:b.b.Organization.isRequired,project:c.a.arrayOf(c.a.number),environment:c.a.arrayOf(c.a.string),period:c.a.string,start:c.a.instanceOf(Date),end:c.a.instanceOf(Date),interval:c.a.string,includePrevious:c.a.bool,limit:c.a.number,query:c.a.string,includeTransformedData:c.a.bool,includeTimeAggregation:c.a.bool,timeAggregationSeriesName:c.a.string,loading:c.a.bool,showLoading:c.a.bool,yAxis:c.a.string,field:c.a.arrayOf(c.a.string),referenceEvent:c.a.string},t.defaultProps={period:null,start:null,end:null,interval:"1d",limit:15,query:"",includePrevious:!0,includeTransformedData:!0},t}(p.a.PureComponent);t.a=D},1817:function(e,t,n){var r=n(196),a=n(1818),o=n(198);e.exports=function(e,t){return o(e,a(r(t)))}},1818:function(e,t){var n="Expected a function";e.exports=function(e){if("function"!=typeof e)throw new TypeError(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},2017:function(e,t,n){"use strict";var r=n(12),a=n.n(r),o=n(34),i=n.n(o),s=n(20),u=n.n(s),c=n(6),l=n.n(c),p=n(7),d=n.n(p),h=n(9),m=n.n(h),f=n(8),g=n.n(f),v=n(10),y=n.n(v),b=n(44),O=n.n(b),j=n(0),E=n.n(j),D=n(3),q=n(1730),R=n(2014),S=n(1741),w=n(1728),P=n(1756),x=n(1979),z=n(61),C=n(348),T=n(72),k=n(1777),A=n(346),L=n(299),N=n(11),M=function(e){var t=e.options,n=e.onChange,r=e.selected,o=t.find((function(e){return r===e.value}))||t[0];return E.a.createElement(U,null,E.a.createElement(L.b,{menuOffset:"29px",button:function(e){var t=e.isOpen,n=e.getActorProps;return E.a.createElement(Y,a()({},n({isStyled:!0}),{size:"zero",isOpen:t}),o.label)}},t.map((function(e){return E.a.createElement(H,{key:e.value,onSelect:n,eventKey:e.value,isActive:r===e.value},e.label)}))))};M.displayName="YAxisSelector";var Y=Object(D.c)(E.a.forwardRef((function(e,t){return E.a.createElement(A.a,a()({innerRef:t},e))})),{target:"e4nkwuh0"})("color:",(function(e){return e.theme.gray2}),";font-weight:normal;text-transform:capitalize;height:",Object(N.a)(4),";padding:",Object(N.a)(.5)," ",Object(N.a)(1),";background:",(function(e){return e.theme.offWhite}),";border-radius:",(function(e){return e.isOpen?"0 ".concat(e.theme.borderRadius," 0 0"):"0 ".concat(e.theme.borderRadius," 0 ").concat(e.theme.borderRadius)}),";"),U=Object(D.c)("div",{target:"e4nkwuh1"})("position:absolute;top:-1px;right:-1px;"),H=Object(D.c)(L.a,{target:"e4nkwuh2"})("text-transform:capitalize;"),J=M,W=function(e){function t(){return l()(this,t),m()(this,g()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"shouldComponentUpdate",value:function(e){return!(e.reloading||!e.timeseriesData)&&!(O()(this.props.timeseriesData,e.timeseriesData)&&O()(this.props.releaseSeries,e.releaseSeries)&&O()(this.props.previousTimeseriesData,e.previousTimeseriesData))}},{key:"render",value:function(){var e=this.props,t=(e.loading,e.reloading,e.releaseSeries),n=e.zoomRenderProps,r=e.timeseriesData,o=e.previousTimeseriesData,s=e.showLegend,c=u()(e,["loading","reloading","releaseSeries","zoomRenderProps","timeseriesData","previousTimeseriesData","showLegend"]),l=s&&{right:100,top:10,selectedMode:!1,itemWidth:15,icon:"line",textStyle:{lineHeight:16},data:["Current Period","Previous Period"]};return E.a.createElement(S.a,a()({},c,n,{legend:l,series:[].concat(i()(r),i()(t)),seriesOptions:{showSymbol:!1},previousPeriod:o?[o]:null,grid:{left:"30px",right:"18px"}}))}}]),t}(E.a.Component);W.displayName="EventsLineChart";var B=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=m()(this,(e=g()(t)).call.apply(e,[this].concat(a)))).handleYAxisChange=function(e){var t=n.props.onYAxisChange;Object(T.a)(t,e)},n}return y()(t,e),d()(t,[{key:"getYAxisValue",value:function(){var e=this.props,t=e.yAxisValue,n=e.yAxisOptions;return t||(n&&n.length?n[0].value:void 0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.api,r=t.period,o=t.utc,i=t.query,s=t.router,c=t.start,l=t.end,p=t.projects,d=t.environments,h=t.showLegend,m=t.yAxisOptions,f=u()(t,["api","period","utc","query","router","start","end","projects","environments","showLegend","yAxisOptions"]),g=!c&&!l,v=this.getYAxisValue();return E.a.createElement(R.a,a()({router:s,period:r,utc:o,projects:p,environments:d},f),(function(t){return E.a.createElement(k.a,a()({},f,{api:n,period:r,project:p,environment:d,start:c,end:l,interval:Object(q.a)(e.props,!0),showLoading:!1,query:i,includePrevious:g,yAxis:v}),(function(r){var i=r.loading,s=r.reloading,u=r.timeseriesData,c=r.previousTimeseriesData;return E.a.createElement(x.a,{utc:o,api:n,projects:p},(function(n){var r=n.releaseSeries;return i&&!s?E.a.createElement(P.a,{"data-test-id":"events-request-loading"}):E.a.createElement(E.a.Fragment,null,E.a.createElement(_,{visible:s}),m&&E.a.createElement(J,{selected:v,options:m,onChange:e.handleYAxisChange}),E.a.createElement(W,a()({},t,{loading:i,reloading:s,utc:o,showLegend:h,releaseSeries:r,timeseriesData:u,previousTimeseriesData:c})))}))}))}))}}]),t}(E.a.Component);B.displayName="EventsChart";var I=Object(C.a)(Object(z.a)(function(e){function t(){return l()(this,t),m()(this,g()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.selection,n=u()(e,["selection"]),r=t.datetime,o=t.projects,i=t.environments;return E.a.createElement(B,a()({},r,{projects:o||[],environments:i||[]},n))}}]),t}(E.a.Component))),_=(t.a=I,Object(D.c)(w.a,{target:"e9n35wd0"})((function(e){return!e.visible&&"display: none;"}),";opacity:0.4;z-index:1;"))},2685:function(e,t,n){"use strict";n.r(t);var r=n(173),a=n.n(r),o=n(16),i=n.n(o),s=n(20),u=n.n(s),c=n(6),l=n.n(c),p=n(7),d=n.n(p),h=n(9),m=n.n(h),f=n(8),g=n.n(f),v=n(10),y=n.n(v),b=n(5),O=n(44),j=n.n(O),E=n(0),D=n.n(E),q=n(35),R=n(3),S=n(250),w=n(51),P=n(4),x=n(1609),z=n(1610),C=n(147),T=n(572),k=n(185),A=n(86),L=n(254),N=n(2017),M=n(1629),Y=n(575),U=n(345),H=n(50),J=n(91),W=n(11),B=function(e){function t(){return l()(this,t),m()(this,g()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.events,n=e.organization,r=e.utc,a=e.projectsMap;return t.map((function(e,t){var o=a.get(e.projectID),i=e.title||e.message.split("\n")[0].substr(0,100),s="/organizations/".concat(n.slug,"/projects/").concat(o.slug,"/events/").concat(e.eventID,"/");return D.a.createElement(X,{key:"".concat(o.slug,"-").concat(e.eventID),first:0===t},D.a.createElement(Z,null,D.a.createElement(G,null,D.a.createElement(b.Link,{to:s},i))),D.a.createElement(Z,null,e["event.type"]),D.a.createElement(Z,null,D.a.createElement(U.a,{project:o,avatarSize:16,displayName:D.a.createElement("span",null,o.slug),avatarProps:{consistentWidth:!0}})),D.a.createElement(Z,null,e&&e.user&&D.a.createElement(U.a,{user:e.user,hideEmail:!0,avatarSize:16})),D.a.createElement(Z,null,D.a.createElement(Q,{utc:r,date:new Date(e.dateCreated)})))}))}}]),t}(D.a.PureComponent);B.displayName="EventsTableBody";var I=function(e){function t(){return l()(this,t),m()(this,g()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.reloading!==e.reloading||this.props.zoomChanged!==e.zoomChanged||this.props.loading!==e.loading||(this.props.organization!==e.organization||this.props.events!==e.events)}},{key:"componentDidUpdate",value:function(e){this.props.onUpdateComplete&&e.zoomChanged&&this.props.reloading&&this.props.onUpdateComplete()}},{key:"render",value:function(){var e=this.props,t=e.events,n=e.organization,r=e.loading,a=e.reloading,o=e.zoomChanged,i=e.utc,s=t&&!!t.length;return D.a.createElement(S.a,null,D.a.createElement(S.e,null,D.a.createElement(K,null,D.a.createElement("div",null,Object(P.b)("Event")),D.a.createElement("div",null,Object(P.b)("Event Type")),D.a.createElement("div",null,Object(P.b)("Project")),D.a.createElement("div",null,Object(P.b)("User")),D.a.createElement("div",null,Object(P.b)("Time")))),r&&D.a.createElement(H.default,null),!r&&!s&&D.a.createElement(Y.a,null,D.a.createElement("p",null,Object(P.b)("No events"))),s&&D.a.createElement(F,null,(a||o)&&D.a.createElement(V,{overlay:!0}),D.a.createElement(B,{projectsMap:this.projectsMap,events:t,organization:n,utc:i})))}},{key:"projectsMap",get:function(){var e=this.props,t=e.organization,n=e.projects||t.projects;return new Map(n.map((function(e){return[e.id,e]})))}}]),t}(D.a.Component);I.displayName="EventsTable";var _=Object(b.withRouter)(I),F=Object(R.c)(S.c,{target:"e1n2302f0"})("overflow-x:auto;padding:0;"),K=Object(R.c)("div",{target:"e1n2302f1"})("display:grid;grid-template-columns:0.8fr 0.15fr 0.15fr 0.25fr 200px;grid-column-gap:",Object(W.a)(1.5),";width:100%;"),V=Object(R.c)(H.default,{target:"e1n2302f2"})("padding-top:10vh;z-index:1;&.loading.overlay{align-items:flex-start;}"),X=Object(R.c)(K,{target:"e1n2302f3"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";border-top:1px solid ",(function(e){return e.first?"transparent":e.theme.borderLight}),";align-items:center;padding:",Object(W.a)(1)," ",Object(W.a)(2),";"),Z=Object(R.c)("div",{target:"e1n2302f4"})("overflow:hidden;"),G=Object(R.c)(Z,{target:"e1n2302f5"})("padding-right:",Object(W.a)(2),";",J.a,";"),Q=Object(R.c)(M.a,{target:"e1n2302f6"})("color:",(function(e){return e.theme.gray2}),";",J.a,";");function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"Events",(function(){return re})),n.d(t,"parseRowFromLinks",(function(){return te}));var te=function(e,t){if(!(e=Object(k.a)(e)).previous.results)return"1-".concat(t);var n=(Number(e.previous.cursor.split(":")[1])+Number(e.next.cursor.split(":")[1]))/2+1;return"".concat(n,"-").concat(n+t-1)},ne=function(e){function t(){return l()(this,t),m()(this,g()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.location.query,r=n.statsPeriod,a=u()(n,["statsPeriod"]);return[["eventsMeta","/organizations/".concat(t.slug,"/events-meta/"),{query:Object(L.a)(ee({statsPeriod:r},a))}]]}},{key:"onRequestError",value:function(){q.c(new Error('Unable to fetch "total event count"'))}},{key:"renderError",value:function(){return null}},{key:"renderBody",value:function(){var e=this.state.eventsMeta,t=this.props,n=t.isAllResults,r=t.numRows,a=n?r:e.count;return Object(P.b)(" of ".concat(a.toLocaleString()).concat(n?"":" (estimated)"))}}]),t}(x.a),re=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=m()(this,(e=g()(t)).call.apply(e,[this].concat(a)))).shouldReload=!0,n.handleZoom=function(){return n.setState({zoomed:!0})},n.handleTableUpdateComplete=function(){return n.setState({zoomed:!1})},n}return y()(t,e),d()(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this;return this.state!==t||!!["path","search"].find((function(t){return!j()(n.props.location[t],e.location[t])}))}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.location.query,r=n.statsPeriod,a=u()(n,["statsPeriod"]);return[["events","/organizations/".concat(t.slug,"/events/"),{query:Object(L.a)(ee({statsPeriod:r},a))}]]}},{key:"getTitle",value:function(){return"Events - ".concat(this.props.organization.slug)}},{key:"onRequestSuccess",value:function(e){var t=e.data,n=e.jqXHR,r=this.props.organization;if("1"===n.getResponseHeader("X-Sentry-Direct-Hit")){var a=t[0],o=r.projects.find((function(e){return e.id===a.projectID}));b.browserHistory.replace("/organizations/".concat(r.slug,"/projects/").concat(o.slug,"/events/").concat(a.eventID,"/"))}}},{key:"onRequestError",value:function(e){e&&e.responseJSON&&e.responseJSON.detail&&Object(w.a)(e.responseJSON.detail)}},{key:"renderRowCounts",value:function(){var e=this.state,t=e.events,n=e.eventsPageLinks;return n?te(n,t.length):null}},{key:"renderError",value:function(){return this.renderBody()}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderBody",value:function(){var e=this.props,n=e.organization,r=e.location,o=e.router,i=this.state,s=i.error,u=i.loading,c=i.reloading,l=i.events,p=i.eventsPageLinks,d=u||s||!p?{}:Object(k.a)(p);return D.a.createElement(D.a.Fragment,null,s&&a()(g()(t.prototype),"renderError",this).call(this,new Error("Unable to load all required endpoints"),!1,!0),D.a.createElement(S.a,null,D.a.createElement(N.a,{router:o,query:r.query.query,organization:n,onZoom:this.handleZoom})),D.a.createElement(_,{loading:!c&&u,reloading:c,zoomChanged:this.state.zoomed,events:l,organization:n,onUpdateComplete:this.handleTableUpdateComplete}),!u&&!c&&!s&&D.a.createElement(oe,null,D.a.createElement(ie,null,l.length?Object(P.b)("Results ".concat(this.renderRowCounts())):Object(P.b)("No Results"),!!l.length&&p&&D.a.createElement(C.a,{features:["internal-catchall"]},D.a.createElement(ne,{organization:n,location:r,isAllResults:!d.previous.results&&!d.next.results,numRows:l.length}))),D.a.createElement(ae,{pageLinks:p})))}}]),t}(z.a),ae=Object(R.c)(T.a,{target:"e1nvp54h0"})("margin:0;"),oe=Object(R.c)("div",{target:"e1nvp54h1"})("display:flex;align-items:center;justify-content:space-between;"),ie=Object(R.c)("div",{target:"e1nvp54h2"})("color:",(function(e){return e.theme.gray6}),";");t.default=Object(A.a)(re)}}]);
//# sourceMappingURL=Events.js.map