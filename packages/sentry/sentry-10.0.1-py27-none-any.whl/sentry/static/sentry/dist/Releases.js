(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[169],{1609:function(e,t,n){"use strict";var r,a,i=n(2),s=n(44),o=n.n(s),c=n(1),l=n.n(c),u=n(0),p=n.n(u),d=n(35),m=n(289),h=n(47),g=n(28),f=n(4),b=n(5),y=n(105),v=n.n(y),j=n(3),O=n(336),E=n(50),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={query:"",busy:!1},t.immediateQuery=function(e){return Object(i.b)(t,void 0,void 0,(function(){var t,n,r,a,s,o;return Object(i.e)(this,(function(c){switch(c.label){case 0:t=this.props,n=t.location,r=t.api,this.setState({busy:!0}),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,r.requestPromise(""+this.props.url,{includeAllArgs:!0,method:"GET",query:Object(i.a)(Object(i.a)({},n.query),{query:e})})];case 2:return a=i.g.apply(void 0,[c.sent(),3]),s=a[0],o=a[2],this.state.query===e&&this.props.onSuccess(s,o),[3,4];case 3:return c.sent(),this.props.onError(),[3,4];case 4:return this.setState({busy:!1}),[2]}}))}))},t.query=v()(t.immediateQuery,t.props.debounceWait),t.handleChange=function(e){t.query(e),t.setState({query:e})},t.handleInputChange=function(e){return t.handleChange(e.target.value)},t.handleSearch=function(e){var n=t.props,r=n.updateRoute,a=n.onSearchSubmit;if(e.preventDefault(),r){var i=t.props,s=i.router,o=i.location;s.push({pathname:o.pathname,query:{query:t.state.query}})}"function"==typeof a&&a(t.state.query,e)},t}return Object(i.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.children,r=e.className,a=this.state,i=a.busy,s=a.query,o=p.a.createElement(S,{onSubmit:this.handleSearch},p.a.createElement(O.a,{value:s,onChange:this.handleInputChange,className:r,placeholder:t}),i&&p.a.createElement(x,{size:18,hideMessage:!0,mini:!0}));return void 0===n?o:n({defaultSearchBar:o,busy:i,value:s,handleChange:this.handleChange})},t.defaultProps={placeholder:"Search...",debounceWait:200},t}(p.a.Component),x=Object(j.c)(E.default,{target:"e6xwo0"})(r||(r=Object(i.f)(["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"],["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"]))),S=Object(j.c)("form",{target:"e6xwo1"})(a||(a=Object(i.f)(["\n  position: relative;\n"],["\n  position: relative;\n"]))),q=b.withRouter(w),k=n(159),R=n(6),z=n.n(R),N=n(7),C=n.n(N),P=n(9),_=n.n(P),D=n(8),I=n.n(D),L=n(10),M=n.n(L),A=n(251),T=n.n(A),B=n(104),Q=n(73),W=function(e){function t(){return z()(this,t),_()(this,I()(t).apply(this,arguments))}return M()(t,e),C()(t,[{key:"componentDidMount",value:function(){var e=this.props.routes,t=this.context,n=t.organization,r=t.project,a=Object(Q.a)(e);d.l((function(e){e.setFingerprint(["Permission Denied",a]),e.setExtra("route",a),e.setExtra("orgFeatures",n&&n.features||[]),e.setExtra("orgAccess",n&&n.access||[]),e.setExtra("projectFeatures",r&&r.features||[]),d.c(new Error("".concat("Permission Denied").concat(a?" : ".concat(a):"")))}))}},{key:"render",value:function(){return p.a.createElement(T.a,{title:Object(f.b)("Permission Denied")},p.a.createElement(k.a,{message:Object(f.c)("Your role does not have the necessary permissions to access this resource, please read more about [link:organizational roles]",{link:p.a.createElement(B.a,{href:"https://docs.sentry.io/learn/membership/"})})}))}}]),t}(p.a.Component);W.displayName="PermissionDenied",W.contextTypes={organization:l.a.object,project:l.a.object};var V=Object(b.withRouter)(W),F=n(569);function H(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,Object(i.i)(n))}catch(t){return console.error(t),setTimeout((function(){throw t})),e.setState({error:t}),null}}}var K=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.reloadOnVisible=!1,r.shouldReloadOnVisible=!1,r.shouldReload=!1,r.shouldRenderBadRequests=!1,r.api=new h.a,r.markShouldMeasure=function(e){var t=void 0===e?{}:e,n=t.remainingRequests,a=t.error;r._measurement.hasMeasured||(r._measurement.finished=0===n,r._measurement.error=a||r._measurement.error)},r.remountComponent=function(){r.shouldReload?r.reloadData():r.setState(r.getDefaultState(),r.fetchData)},r.visibilityReloader=function(){return r.shouldReloadOnVisible&&!r.state.loading&&!document.hidden&&r.reloadData()},r.fetchData=function(e){var t=r.getEndpoints();t.length?(r.api.clear(),r.setState(Object(i.a)({loading:!0,error:!1,remainingRequests:t.length},e)),t.forEach((function(e){var t=Object(i.g)(e,4),n=t[0],a=t[1],s=t[2],o=t[3];o=o||{};var c=r.props.location&&r.props.location.query||{},l=s&&s.query||{};(o.paginate||c.cursor)&&(l=Object(i.a)(Object(i.a)({},c),l)),r.api.request(a,Object(i.a)(Object(i.a)({method:"GET"},s),{query:l,success:function(e,t,a){r.handleRequestSuccess({stateKey:n,data:e,jqXHR:a},!0)},error:function(e){o.allowError&&o.allowError(e)&&(e=null),r.handleError(e,[n,a,s,o])}}))}))):r.setState({loading:!1,error:!1})},r.fetchData=H(r,r.fetchData.bind(r)),r.render=H(r,r.render.bind(r)),r.state=r.getDefaultState(),r._measurement={hasMeasured:!1},t.routes&&t.routes&&g.b.mark("async-component-"+Object(Q.a)(t.routes)),r}return Object(i.d)(t,e),t.prototype.componentWillMount=function(){this.api=new h.a,this.fetchData(),this.reloadOnVisible&&document.addEventListener("visibilitychange",this.visibilityReloader)},t.prototype.componentWillReceiveProps=function(e,t){},t.prototype.componentDidUpdate=function(e,t){var n=!!t.router,r=void 0!==e.location,a=r?this.props.location:n?this.context.router.location:null,i=r?e.location:n?t.router.location:null;if(a&&i){if(!this._measurement.hasMeasured&&this._measurement.finished&&this.props.routes){var s=Object(Q.a)(this.props.routes);g.b.measure({name:"app.component.async-component",start:"async-component-"+s,data:{route:s,error:this._measurement.error}}),this._measurement.hasMeasured=!0,"function"==typeof this.props.finishProfile&&this.props.finishProfile()}o()(this.props.params,e.params)&&a.search===i.search&&a.state===i.state||this.remountComponent()}},t.prototype.componentWillUnmount=function(){this.api.clear(),document.removeEventListener("visibilitychange",this.visibilityReloader)},t.prototype.getDefaultState=function(){var e=this.getEndpoints(),t={loading:!0,reloading:!1,error:!1,errors:{}};return e.forEach((function(e){var n=Object(i.g)(e,2),r=n[0];n[1];t[r]=null})),t},t.prototype.reloadData=function(){this.fetchData({reloading:!0})},t.prototype.onRequestSuccess=function(e){},t.prototype.onRequestError=function(e,t){},t.prototype.handleRequestSuccess=function(e,t){var n=this,r=e.stateKey,a=e.data,i=e.jqXHR;this.setState((function(e){var s,o=((s={})[r]=a,s[r+"PageLinks"]=i&&i.getResponseHeader("Link"),s);return t&&(o.remainingRequests=e.remainingRequests-1,o.loading=e.remainingRequests>1,o.reloading=e.reloading&&o.loading,n.markShouldMeasure({remainingRequests:o.remainingRequests})),o})),this.onRequestSuccess({stateKey:r,data:a,jqXHR:i})},t.prototype.handleError=function(e,t){var n=this,r=Object(i.g)(t,1)[0];e&&e.responseText&&d.a({message:e.responseText,category:"xhr",level:m.a.Error}),this.setState((function(t){var a,s,o=t.remainingRequests>1,c=((a={})[r]=null,a.errors=Object(i.a)(Object(i.a)({},t.errors),((s={})[r]=e,s)),a.error=t.error||!!e,a.remainingRequests=t.remainingRequests-1,a.loading=o,a.reloading=t.reloading&&o,a);return n.markShouldMeasure({remainingRequests:c.remainingRequests,error:!0}),c})),this.onRequestError(e,t)},t.prototype.getEndpointParams=function(){return console.warn("getEndpointParams is deprecated"),{}},t.prototype.getEndpoint=function(){return console.warn("getEndpoint is deprecated"),null},t.prototype.getEndpoints=function(){var e=this.getEndpoint();return e?[["data",e,this.getEndpointParams()]]:[]},t.prototype.renderSearchInput=function(e){var t=this,n=e.stateKey,r=e.url,a=Object(i.h)(e,["stateKey","url"]),s=Object(i.g)(this.getEndpoints()||[null],1)[0],o=n||s&&s[0],c=r||s&&s[1];return p.a.createElement(q,Object(i.a)({url:c},a,{api:this.api,onSuccess:function(e,n){t.handleRequestSuccess({stateKey:o,data:e,jqXHR:n})},onError:function(){t.renderError(new Error("Error with AsyncComponentSearchInput"))}}))},t.prototype.renderLoading=function(){return p.a.createElement(E.default,null)},t.prototype.renderError=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=this.state.errors,a=Object.values(r).find((function(e){return e&&401===e.status})),i=Object.values(r).find((function(e){return e&&403===e.status})),s=!!Object.values(r).find((function(e){return e&&0!==e.status}))||t;if(a)return p.a.createElement(k.a,{message:Object(f.b)("You are not authorized to access this resource.")});if(i)return p.a.createElement(V,null);if(this.shouldRenderBadRequests){var o=Object.values(r).filter((function(e){return e&&400===e.status&&e.responseJSON&&e.responseJSON.detail})).map((function(e){return e.responseJSON.detail}));if(o.length)return p.a.createElement(k.a,{message:o.join("\n")})}return p.a.createElement(F.a,{error:e,component:this,disableLogSentry:!s,disableReport:n,onRetry:this.remountComponent})},t.prototype.renderComponent=function(){return!this.state.loading||this.shouldReload&&this.state.reloading?this.state.error?this.renderError(new Error("Unable to load all required endpoints")):this.renderBody():this.renderLoading()},t.prototype.renderBody=function(){throw new Error("Not implemented")},t.prototype.render=function(){return this.renderComponent()},t.propTypes={location:l.a.object,router:l.a.object},t.contextTypes={router:l.a.object},t}(p.a.Component);t.a=K},1610:function(e,t,n){"use strict";var r=n(2),a=n(251),i=n.n(a),s=n(0),o=n.n(s),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.getTitle=function(){return""},t.prototype.render=function(){var e=this.getTitle();return o.a.createElement(i.a,{title:(e?e+" - ":"")+"Sentry"},this.renderComponent())},t}(n(1609).a);t.a=c},1678:function(e,t,n){"use strict";var r=n(2),a=n(0),i=n.n(a),s=n(1),o=n.n(s),c=n(3),l=n(53),u=n(193),p=n(39),d={avatarSize:28,maxVisibleAvatars:5,typeMembers:"users",tooltipOptions:{}},m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.users,r=e.avatarSize,a=e.maxVisibleAvatars,s=e.renderTooltip,o=e.typeMembers,c=e.tooltipOptions,l=n.slice(0,a),u=n.length-l.length;return c.position||(c.position="top"),i.a.createElement(v,{className:t},!!u&&i.a.createElement(p.a,{title:u+" other "+o},i.a.createElement(E,{size:r},u<99&&i.a.createElement(w,null,"+"),u)),l.map((function(e){return i.a.createElement(O,{key:e.id+"-"+e.email,user:e,size:r,renderTooltip:s,tooltipOptions:c,hasTooltip:!0})})))},t.propTypes={users:o.a.arrayOf(l.b.User).isRequired,avatarSize:o.a.number,maxVisibleAvatars:o.a.number,renderTooltip:o.a.func,tooltipOptions:o.a.object,typeMembers:o.a.string},t.defaultProps=d,t}(i.a.Component);t.a=m;var h,g,f,b,y,v=Object(c.c)("div",{target:"e1mtf41h0"})(h||(h=Object(r.f)(["\n  display: flex;\n  flex-direction: row-reverse;\n"],["\n  display: flex;\n  flex-direction: row-reverse;\n"]))),j=Object(c.a)(g||(g=Object(r.f)(["\n  border-radius: 50%;\n  border: 2px solid white;\n  margin-left: -8px;\n  cursor: default;\n\n  &:hover {\n    z-index: 1;\n  }\n"],["\n  border-radius: 50%;\n  border: 2px solid white;\n  margin-left: -8px;\n  cursor: default;\n\n  &:hover {\n    z-index: 1;\n  }\n"]))),O=Object(c.c)(u.a,{target:"e1mtf41h1"})(f||(f=Object(r.f)(["\n  overflow: hidden;\n  ",";\n"],["\n  overflow: hidden;\n  ",";\n"])),j),E=Object(c.c)("div",{target:"e1mtf41h2"})(b||(b=Object(r.f)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  text-align: center;\n  font-weight: 600;\n  background-color: ",";\n  color: ",";\n  font-size: ","px;\n  width: ","px;\n  height: ","px;\n  ",";\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  text-align: center;\n  font-weight: 600;\n  background-color: ",";\n  color: ",";\n  font-size: ","px;\n  width: ","px;\n  height: ","px;\n  ",";\n"])),(function(e){return e.theme.borderLight}),(function(e){return e.theme.gray2}),(function(e){return Math.floor(e.size/2.3)}),(function(e){return e.size}),(function(e){return e.size}),j),w=Object(c.c)("span",{target:"e1mtf41h3"})(y||(y=Object(r.f)(["\n  font-size: 10px;\n  margin-left: 1px;\n  margin-right: -1px;\n"],["\n  font-size: 10px;\n  margin-left: 1px;\n  margin-right: -1px;\n"])))},1696:function(e,t,n){"use strict";var r=n(6),a=n.n(r),i=n(7),s=n.n(i),o=n(9),c=n.n(o),l=n(8),u=n.n(l),p=n(10),d=n.n(p),m=n(0),h=n.n(m),g=n(36),f=n.n(g),b=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i)))).blur=function(){n.searchInputRef.current.blur()},n.onSubmit=function(e){e.preventDefault(),n.blur(),n.props.onSearch(n.state.query)},n.clearSearch=function(){n.setState({query:n.props.defaultQuery},(function(){return n.props.onSearch(n.state.query)}))},n.onQueryFocus=function(){n.setState({dropdownVisible:!0})},n.onQueryBlur=function(){n.setState({dropdownVisible:!1})},n.onQueryChange=function(e){n.setState({query:e.target.value})},n.state={query:n.props.query||n.props.defaultQuery},n.searchInputRef=h.a.createRef(),n}return d()(t,e),s()(t,[{key:"componentWillReceiveProps",value:function(e){e.query!==this.props.query&&this.setState({query:e.query})}},{key:"render",value:function(){var e=this.props.className;return h.a.createElement("div",{className:f()("search",e)},h.a.createElement("form",{className:"form-horizontal",onSubmit:this.onSubmit},h.a.createElement("div",null,h.a.createElement("input",{type:"text",className:"search-input form-control",placeholder:this.props.placeholder,name:"query",ref:this.searchInputRef,autoComplete:"off",value:this.state.query,onBlur:this.onQueryBlur,onChange:this.onQueryChange}),h.a.createElement("span",{className:"icon-search"}),this.state.query!==this.props.defaultQuery&&h.a.createElement("div",null,h.a.createElement("a",{className:"search-clear-form",onClick:this.clearSearch},h.a.createElement("span",{className:"icon-circle-cross"}))))))}}]),t}(h.a.PureComponent);b.displayName="SearchBar",b.defaultProps={defaultQuery:"",query:"",onSearch:function(){}},t.a=b},1710:function(e,t,n){"use strict";var r=n(3),a=n(91),i=Object(r.c)("span",{target:"eq941bw0"})("font-weight:700;color:",(function(e){return e.theme.white}),";text-align:center;white-space:nowrap;border-radius:0.25em;",a.a,";display:inline-block;vertical-align:text-bottom;line-height:1;background:",(function(e){return e.theme.gray1}),";padding:3px;max-width:86px;font-size:",(function(e){return e.theme.fontSizeSmall}),";");t.a=i},1772:function(e,t,n){"use strict";function r(e,t){return e.requestPromise("/promptsactivity/",{method:"PUT",data:{organization_id:t.organizationId,project_id:t.projectId,feature:t.feature,status:t.status}})}n.d(t,"a",(function(){return r}))},1773:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(38),a=n.n(r);function i(e){var t=a.a.utc(),n=a.a.unix(e).utc();return t.diff(n,"days")}},2004:function(e,t,n){"use strict";var r=n(6),a=n.n(r),i=n(7),s=n.n(i),o=n(9),c=n.n(o),l=n(8),u=n.n(l),p=n(10),d=n.n(p),m=n(0),h=n.n(m),g=n(3),f=n(1678),b=n(4),y=function(e){function t(){return a()(this,t),c()(this,u()(t).apply(this,arguments))}return d()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.release,t=e.commitCount||0,n=e.authors&&e.authors.length||0;if(0===t)return null;var r=[Object(b.d)("%s commit","%s commits",t),Object(b.b)("by"),Object(b.d)("%s author","%s authors",n)].join(" ");return h.a.createElement("div",{className:"release-stats"},h.a.createElement(v,null,r),h.a.createElement("span",{style:{display:"inline-block"}},h.a.createElement(f.a,{users:e.authors,avatarSize:25,typeMembers:"authors"})))}}]),t}(h.a.Component);y.displayName="ReleaseStats";var v=Object(g.c)("div",{target:"eyl9sdc0"})("color:",(function(e){return e.theme.gray2}),";font-size:12px;line-height:1.2;font-weight:600;text-transform:uppercase;margin-bottom:4px;");t.a=y},2514:function(e,t,n){e.exports=n.p+"minified.svg"},2515:function(e,t,n){e.exports=n.p+"emails.svg"},2516:function(e,t,n){e.exports=n.p+"issues.svg"},2517:function(e,t,n){e.exports=n.p+"suggested-assignees.svg"},2518:function(e,t,n){e.exports=n.p+"contributors.svg"},2640:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),i=n(7),s=n.n(i),o=n(9),c=n.n(o),l=n(8),u=n.n(l),p=n(10),d=n.n(p),m=n(5),h=n(0),g=n.n(h),f=n(56),b=n(337),y=n(250),v=n(4),j=n(1610),O=n(575),E=n(580),w=n(50),x=n(586),S=n(341),q=n(572),k=n(1696),R=n(353),z=n(348),N=n(86),C=n(16),P=n.n(C),_=n(34),D=n.n(_),I=n(146),L=n.n(I);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){var t=[].concat(D()(Object.values(f.e)),["cursor","query"]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},L()(e,t),{per_page:50})}var T=n(2),B=n(3),Q=n(2514),W=n.n(Q),V=n(2515),F=n.n(V),H=n(2516),K=n.n(H),U=n(2517),Y=n.n(U),J=n(2518),G=n.n(J),X=n(28),Z=n(581),$=n(11),ee=n(27),te=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i)))).getMessage=function(){var e=n.props,t=e.cardsLength,r=e.step;return 0===r?Object(v.b)("Tell Me More"):r<t-1?Object(v.b)("Next"):Object(v.b)("See Docs for Setup")},n}return d()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.card,n=e.cardsLength,r=e.step===n-1;return g.a.createElement(re,null,g.a.createElement(ie,null,g.a.createElement(se,null,t.svg)),g.a.createElement(ae,null,g.a.createElement("h3",null,t.title),g.a.createElement("p",null,t.message),r?g.a.createElement(ee.a,{href:"https://docs.sentry.io/learn/releases/",onClick:this.props.onClick},this.getMessage()):g.a.createElement(ee.a,{onClick:this.props.onClick},this.getMessage())))}}]),t}(g.a.Component);te.displayName="ReleaseLandingCard";var ne,re=Object(B.c)("div",{target:"e1wqji5c0"})("display:flex;align-items:center;justify-content:center;flex-wrap:wrap;min-height:450px;padding:",Object($.a)(1),";"),ae=Object(B.c)("div",{target:"e1wqji5c1"})("flex:1;padding:",Object($.a)(3),";"),ie=Object(B.c)(ae,{target:"e1wqji5c2"})("display:flex;align-items:center;justify-content:center;"),se=Object(B.c)("div",{target:"e1wqji5c3"})("width:550px;height:340px;img{vertical-align:baseline;}@media (max-width:1150px){font-size:14px;width:450px;}@media (max-width:1000px){font-size:12px;width:320px;max-height:180px;}"),oe=te,ce=Object(B.c)((function(e){var t=e.data,n=e.className;return g.a.createElement("object",{data:t,className:n},g.a.createElement("img",{src:t,className:n}))}),{target:"ecpzmjl0"})(ne||(ne=Object(T.f)(["\n  width: 100%;\n  height: 100%;\n"],["\n  width: 100%;\n  height: 100%;\n"]))),le=[{title:Object(v.b)("You Haven't Set Up Releases!"),message:Object(v.b)("Releases provide additional context, with rich commits, so you know which errors were addressed and which were introduced in a release"),svg:g.a.createElement(ce,{data:G.a})},{title:Object(v.b)("Suspect Commits"),message:Object(v.b)("Sentry suggests which commit caused an issue and who is likely responsible so you can triage"),svg:g.a.createElement(ce,{data:Y.a})},{title:Object(v.b)("Release Stats"),message:Object(v.b)("See the commits in each release, and which issues were introduced or fixed in the release"),svg:g.a.createElement(ce,{data:K.a})},{title:Object(v.b)("Easy Resolution"),message:Object(v.b)("Automatically resolve issues by including the issue number in your commit message"),svg:g.a.createElement(ce,{data:W.a})},{title:Object(v.b)("Deploy Emails"),message:Object(v.b)("Receive email notifications when your code gets deployed"),svg:g.a.createElement(ce,{data:F.a})}],ue=Object(N.a)(Object(Z.a)(function(e){function t(t){var n=e.call(this,t)||this;return n.handleClick=function(){var e=n.state.stepId,t=n.props,r=t.organization,a=t.project,i=le[e].title;e>=le.length-1||(n.setState((function(e){return{stepId:e.stepId+1}})),Object(X.a)("releases.landing_card_clicked",{org_id:parseInt(r.id,10),project_id:a&&parseInt(a.id,10),step_id:e,step_title:i}))},n.getCard=function(e){return le[e]},n.state={stepId:0},n}return Object(T.d)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.organization,n=e.project;Object(X.a)("releases.landing_card_viewed",{org_id:parseInt(t.id,10),project_id:n&&parseInt(n.id,10)})},t.prototype.render=function(){var e=this.state.stepId,t=this.getCard(e);return g.a.createElement("div",{className:"container"},g.a.createElement("div",{className:"row"},g.a.createElement(oe,{onClick:this.handleClick,card:t,step:e,cardsLength:le.length})))},t}(g.a.Component))),pe=n(344),de=n(2004),me=n(223),he=n(592),ge=n(91),fe=Object(B.c)("div",{target:"e12souvn0"})("display:grid;grid-template-columns:2fr 1fr 1fr 1fr;grid-column-gap:",Object($.a)(1.5),";width:100%;align-items:center;grid-template-areas:'release-name stats new-count last-event';@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){grid-template-columns:3fr 1fr 1fr;grid-template-areas:'release-name new-count last-event';}"),be=Object(B.c)("div",{target:"e12souvn1"})("grid-area:release-name;overflow:hidden;"),ye=Object(B.c)("div",{target:"e12souvn2"})("grid-area:stats;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){display:none;}"),ve=Object(B.c)("div",{target:"e12souvn3"})("grid-area:new-count;"),je=Object(B.c)("div",{target:"e12souvn4"})("grid-area:last-event;"),Oe=n(20),Ee=n.n(Oe),we=n(1710),xe=n(39),Se=function(e){var t=e.release,n=t.totalDeploys-1,r=t.lastDeploy;return g.a.createElement("div",null,r&&r.dateFinished?g.a.createElement("div",{className:"deploy"},g.a.createElement("p",{className:"m-b-0 text-light"},g.a.createElement(ke,{style:{padding:3,width:70,maxWidth:86,fontSize:12}},r.environment+" ")," ",g.a.createElement(Re,{date:r.dateFinished}),n>0&&g.a.createElement(xe.a,{title:Object(v.b)("%s earlier deploys",n)},g.a.createElement("span",{className:"badge"},n)))):g.a.createElement(Re,{date:t.dateCreated}))};Se.displayName="LatestDeployOrReleaseTime";var qe=Se,ke=Object(B.c)(we.a,{target:"e14ei9yo0"})("width:70px;"),Re=Object(B.c)((function(e){var t=e.date,n=Ee()(e,["date"]);return g.a.createElement("span",n,g.a.createElement(ze,{className:"icon icon-clock"}),g.a.createElement(me.a,{date:t}))}),{target:"e14ei9yo1"})("display:inline-flex;align-items:center;color:",(function(e){return e.theme.gray2}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";"),ze=Object(B.c)("span",{target:"e14ei9yo2"})("margin-right:",Object($.a)(.25),";"),Ne=function(e){var t=e.orgId;return g.a.createElement("div",null,e.releaseList.map((function(e){return g.a.createElement(Pe,{key:e.version},g.a.createElement(fe,null,g.a.createElement(be,null,g.a.createElement(_e,null,g.a.createElement(he.a,{orgId:t,version:e.version,preserveGlobalSelection:!0})),g.a.createElement(qe,{orgId:t,release:e})),g.a.createElement(ye,null,g.a.createElement(de.a,{release:e})),g.a.createElement(ve,null,g.a.createElement(pe.a,{className:"release-count",value:e.newGroups||0})),g.a.createElement(je,null,e.lastEvent?g.a.createElement(me.a,{date:e.lastEvent}):g.a.createElement("span",null,"â€”"))))})))};Ne.displayName="ReleaseList";var Ce=Ne,Pe=Object(B.c)(y.f,{target:"e1d6bfaw0"})("align-items:center;padding:",Object($.a)(1)," ",Object($.a)(2),";"),_e=Object(B.c)("div",{target:"e1d6bfaw1"})("font-weight:bold;margin-bottom:",Object($.a)(.25),";",ge.a,";"),De=function(){return g.a.createElement(y.e,null,g.a.createElement(fe,null,g.a.createElement(be,null,Object(v.b)("Version")),g.a.createElement(ye,null),g.a.createElement(ve,null,Object(v.b)("New Issues")),g.a.createElement(je,null,Object(v.b)("Last Event"))))};De.displayName="ReleaseListHeader";var Ie=De,Le=n(1609),Me=n(1772),Ae=n(1773),Te=function(e){return g.a.createElement(Be,null,g.a.createElement(Qe,{width:e.width}))};Te.displayName="ProgressBar";var Be=Object(B.c)("div",{target:"e7w233o0"})("background:#767676;width:100%;height:15px;float:right;margin-right:0px;margin-bottom:10px;border-radius:20px;position:relative;"),Qe=Object(B.c)("div",{target:"e7w233o1"})("height:100%;width:",(function(e){return e.width?e.width:50}),"%;background:#7ccca5;padding-right:0;border-radius:inherit;box-shadow:0 2px 1px rgba(0,0,0,0.08);position:absolute;bottom:0;left:0;"),We=Te;function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Fe={tag:{desc:Object(v.b)("Tag an error"),url:"configure-sdk",msg:"knowing which errors were introduced in a release, "},repo:{desc:Object(v.b)("Link to a repo"),url:"link-repository",msg:"determining which commit caused an error, "},commit:{desc:Object(v.b)("Associate commits"),url:"associate-commits-with-a-release",msg:"determining which commit caused an error, "},deploy:{desc:Object(v.b)("Tell sentry about a deploy"),url:"create-deploy",msg:"receiving notifications when your code gets deployed, "}},He=function(e){function t(){return a()(this,t),c()(this,u()(t).apply(this,arguments))}return d()(t,e),s()(t,[{key:"getEndpoints",value:function(){var e=this.props,t=e.project,n=e.organization;return[["promptsActivity","/promptsactivity/",{data:{organization_id:n.id,project_id:t.id,feature:"releases"}}],["setupStatus","/projects/".concat(n.slug,"/").concat(t.slug,"/releases/completion/")]]}},{key:"onRequestSuccess",value:function(e){var t=e.stateKey,n=e.data;"promptsActivity"===t?this.showBar(n):"setupStatus"===t&&this.getRemainingSteps(n)}},{key:"buildMessage",value:function(e){var t=e.map((function(e){return e.step})),n="You're missing out on ";t.includes("tag")&&(n+=Fe.tag.msg),(t.includes("repo")||t.includes("commit"))&&(n+=Fe.repo.msg),t.includes("deploy")&&(n+=Fe.deploy.msg),n+="and more!",this.setState({message:n})}},{key:"getRemainingSteps",value:function(e){var t;if(e){var n=(t=e.filter((function(e){return!1===e.complete})))[0]&&Fe[t[0].step];this.buildMessage(t),this.setState({remainingSteps:Object.keys(t).length,nextStep:n}),this.recordAnalytics("viewed",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(n,!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({steps:e},n&&{cta:n.desc}))}}},{key:"showBar",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data;e=n&&n.snoozed_ts?Object(Ae.a)(n.snoozed_ts)>7:!n||!n.dismissed_ts,this.setState({showBar:e})}},{key:"handleClick",value:function(e){var t=this.props,n=t.project,r=t.organization,a={projectId:n.id,organizationId:r.id,feature:"releases",status:e};Object(Me.a)(this.api,a).then(this.setState({showBar:!1})),this.recordAnalytics("closed",{action:e})}},{key:"recordAnalytics",value:function(e,t){var n=this.props,r=n.project,a=n.organization;t.org_id=parseInt(a.id,10),t.project_id=parseInt(r.id,10),"next"===e?Object(X.a)("releases.progress_bar_clicked_next",t):"closed"===e?Object(X.a)("releases.progress_bar_closed",t):"viewed"===e&&Object(X.a)("releases.progress_bar_viewed",t)}},{key:"getWidth",value:function(){var e=this.state.remainingSteps,t=100*(Object.keys(Fe).length-e)/Object.keys(Fe).length;return 0===t?25:t}},{key:"renderBody",value:function(){var e=this,t=this.state,n=t.remainingSteps,r=t.showBar,a=t.nextStep,i=t.message;return n&&0!==n&&r?g.a.createElement(y.f,null,g.a.createElement("div",{className:"col-sm-8"},g.a.createElement("div",null,g.a.createElement(Ue,{className:"row"},g.a.createElement("span",{className:"pull-right"},Object(v.b)("Next step: "),g.a.createElement("a",{href:"https://docs.sentry.io/workflow/releases/#".concat(a.url),onClick:function(){return e.recordAnalytics("next",{cta:a.desc})}},Object(v.b)("".concat(a.desc)))),g.a.createElement("h4",{className:"text-light"}," ",Object(v.b)("Releases aren't 100% set up"))),g.a.createElement("div",{className:"row"},g.a.createElement(We,{width:this.getWidth()}),g.a.createElement("p",null,Object(v.b)("".concat(i)))))),g.a.createElement("div",{className:"col-sm-4"},g.a.createElement("div",{className:"pull-right"},g.a.createElement(Ke,{className:"text-light",onClick:function(){return e.handleClick("dismissed")},size:"large","data-test-id":"dismissed"},Object(v.b)("Dismiss")),g.a.createElement(Ke,{className:"text-light",onClick:function(){return e.handleClick("snoozed")},size:"large","data-test-id":"snoozed"},Object(v.b)("Remind Me Later"))))):null}}]),t}(Le.a),Ke=Object(B.c)(ee.a,{target:"ewm5q2t0"})("margin:5px;"),Ue=Object(B.c)("div",{target:"ewm5q2t1"})("margin-bottom:10px;"),Ye=Object(N.a)(He),Je=function(e){var t=e.organization;return g.a.createElement(g.a.Fragment,null,g.a.createElement(E.a,{organization:t}),g.a.createElement(Ge,e))};Je.displayName="ReleasesContainer";var Ge=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i)))).onSearch=function(e){var t=A(n.props.location).query;t.query=e;var r=n.props.params.orgId;m.browserHistory.push({pathname:"/organizations/".concat(r,"/releases/"),query:t})},n}return d()(t,e),s()(t,[{key:"getTitle",value:function(){return"".concat(Object(v.b)("Releases")," - ").concat(this.props.organization.slug)}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.location;return[["releaseList","/organizations/".concat(t.slug,"/releases/"),{query:A(n.query)}]]}},{key:"hasAnyRelease",value:function(){var e=this.props,t=e.organization.projects,n=e.selection,r=new Set(n.projects.length>0?n.projects:t.filter((function(e){return e.isMember})).map((function(e){return parseInt(e.id,10)})));return t.filter((function(e){return r.has(parseInt(e.id,10))})).some((function(e){return!!e.latestRelease}))}},{key:"renderStreamBody",value:function(){var e=this.props.organization,t=this.state,n=t.loading,r=t.releaseList;return n?g.a.createElement(w.default,null):0===r.length?this.hasAnyRelease()?this.renderNoQueryResults():this.renderLanding():g.a.createElement(g.a.Fragment,null,this.renderReleaseProgress(),g.a.createElement(Ce,{releaseList:r,orgId:e.slug}))}},{key:"renderReleaseProgress",value:function(){var e=this.props,t=e.organization,n=e.selection,r=t.projects.filter((function(e){return e.hasAccess}));if(!(1===n.projects.length||0===n.projects.length&&1===r.length))return null;var a=r[0];return n.projects.length&&n.projects[0]!==f.a&&(a=r.find((function(e){return parseInt(e.id,10)===n.projects[0]}))),g.a.createElement(Ye,{project:a})}},{key:"renderNoQueryResults",value:function(){return g.a.createElement(g.a.Fragment,null,this.renderReleaseProgress(),g.a.createElement(O.a,null,g.a.createElement("p",null,Object(v.b)("Sorry, no releases match your filters."))))}},{key:"renderLanding",value:function(){return g.a.createElement(ue,null)}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderBody",value:function(){var e=this.props,t=e.location,n=e.organization;return g.a.createElement(b.b,null,g.a.createElement(x.a,{organization:n},g.a.createElement(b.c,null,g.a.createElement(S.a,null,Object(v.b)("Releases")),g.a.createElement("div",null,g.a.createElement(k.a,{defaultQuery:"",placeholder:Object(v.b)("Search for a release"),query:t.query.query,onSearch:this.onSearch}))),g.a.createElement("div",null,g.a.createElement(y.a,null,g.a.createElement(Ie,null),g.a.createElement(y.c,null,this.renderStreamBody())),g.a.createElement(q.a,{pageLinks:this.state.releaseListPageLinks}))))}}]),t}(j.a);t.default=Object(N.a)(Object(z.a)(Object(R.a)()(Je)))}}]);
//# sourceMappingURL=Releases.js.map