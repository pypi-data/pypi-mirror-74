(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[165],{1695:function(e,t,n){"use strict";var r=n(2),i=n(0),a=n.n(i),o=n(3),c=n(4),l=n(21),s=n(27),m=n(104),u=n(19),d=[{icon:"icon-github",providerIds:["github","integrations:github","integrations:github_enterprise"],commitUrl:function(e){return e.baseUrl+"/commit/"+e.commitId}},{icon:"icon-bitbucket",providerIds:["bitbucket","integrations:bitbucket"],commitUrl:function(e){return e.baseUrl+"/commits/"+e.commitId}},{icon:"icon-vsts",providerIds:["visualstudio","integrations:vsts"],commitUrl:function(e){return e.baseUrl+"/commit/"+e.commitId}},{icon:"icon-gitlab",providerIds:["gitlab","integrations:gitlab"],commitUrl:function(e){return e.baseUrl+"/commit/"+e.commitId}}];var p,g=Object(o.c)((function(e){return a.a.createElement(u.a,{size:"14px",src:e.src,className:e.className})}),{target:"eannor00"})(p||(p=Object(r.f)(["\n  vertical-align: text-top;\n  margin-top: 2px;\n"],["\n  vertical-align: text-top;\n  margin-top: 2px;\n"])));t.a=function(e){var t=e.inline,n=e.commitId,r=e.repository;if(!n||!r)return a.a.createElement("span",null,Object(c.b)("Unknown Commit"));var i=Object(l.k)(n),o=d.find((function(e){return!!r.provider&&e.providerIds.includes(r.provider.id)}));if(void 0===o)return a.a.createElement("span",null,i);var u=r.url&&o.commitUrl({commitId:n,baseUrl:r.url});return t?a.a.createElement(m.a,{className:"inline-commit",href:u},a.a.createElement(g,{src:o.icon})," "+i):a.a.createElement(s.a,{external:!0,href:u,size:"small",icon:o.icon},i)}},1716:function(e,t,n){"use strict";var r=n(2),i=n(1),a=n.n(i),o=n(0),c=n.n(o),l=n(3),s=n(83),m=n(250),u=n(4),d=n(193),p=n(1695),g=n(343),h=n(19),f=n(98),b=n(224),v=n(223),y=n(11),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.renderMessage=function(e){return e?e.split(/\n/)[0]:Object(u.b)("No message provided")},t.prototype.renderHovercardBody=function(e){return c.a.createElement(U,null,Object(u.c)("The email [actorEmail] is not a member of your organization. [inviteUser:Invite] them or link additional emails in [accountSettings:account settings].",{actorEmail:c.a.createElement("strong",null,e.email),accountSettings:c.a.createElement(z,{to:"/settings/account/emails/"}),inviteUser:c.a.createElement(z,{onClick:function(){return Object(s.j)({initialData:[{emails:new Set([e.email])}],source:"suspect_commit"})}})}))},t.prototype.render=function(){var e=this.props,t=e.commit,n=e.customAvatar,r=t.id,i=t.dateCreated,a=t.message,o=t.author,l=t.repository,s=o&&void 0===o.id;return c.a.createElement(m.f,{key:r,align:"center"},n||(s?c.a.createElement(I,null,c.a.createElement(g.a,{body:this.renderHovercardBody(o)},c.a.createElement(d.a,{size:36,user:o}),c.a.createElement(A,{src:"icon-circle-exclamation"}))):c.a.createElement(I,null,c.a.createElement(d.a,{size:36,user:o}))),c.a.createElement(S,null,c.a.createElement(N,null,this.renderMessage(a)),c.a.createElement(L,null,Object(u.c)("[author] committed [timeago]",{author:c.a.createElement("strong",null,o&&o.name||Object(u.b)("Unknown author")),timeago:c.a.createElement(v.a,{date:i})}))),c.a.createElement("div",null,c.a.createElement(p.a,{commitId:r,repository:l})))},t.propTypes={commit:a.a.object,customAvatar:a.a.node},t}(c.a.Component);t.a=E;var j,O,x,k,w,R,C,I=Object(l.c)("div",{target:"eyce8w20"})(j||(j=Object(r.f)(["\n  align-self: flex-start;\n  margin-right: ",";\n"],["\n  align-self: flex-start;\n  margin-right: ",";\n"])),Object(y.a)(2)),U=Object(l.c)("div",{target:"eyce8w21"})(O||(O=Object(r.f)(["\n  font-size: ",";\n  line-height: 1.4;\n  margin: -4px;\n"],["\n  font-size: ",";\n  line-height: 1.4;\n  margin: -4px;\n"])),(function(e){return e.theme.fontSizeSmall})),z=Object(l.c)(f.a,{target:"eyce8w22"})(x||(x=Object(r.f)(["\n  color: ",";\n  border-bottom: 1px dotted ",";\n\n  &:hover {\n    color: ",";\n  }\n"],["\n  color: ",";\n  border-bottom: 1px dotted ",";\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColor})),A=Object(l.c)(h.a,{target:"eyce8w23"})(k||(k=Object(r.f)(["\n  position: relative;\n  margin-left: -11px;\n  border-radius: 11px;\n  margin-bottom: -25px;\n  border: 1px solid ",";\n  background: ",";\n"],["\n  position: relative;\n  margin-left: -11px;\n  border-radius: 11px;\n  margin-bottom: -25px;\n  border: 1px solid ",";\n  background: ",";\n"])),(function(e){return e.theme.white}),(function(e){return e.theme.yellowLight})),S=Object(l.c)("div",{target:"eyce8w24"})(w||(w=Object(r.f)(["\n  flex: 1;\n  flex-direction: column;\n  min-width: 0;\n  margin-right: ",";\n"],["\n  flex: 1;\n  flex-direction: column;\n  min-width: 0;\n  margin-right: ",";\n"])),Object(y.a)(2)),N=Object(l.c)(b.a,{target:"eyce8w25"})(R||(R=Object(r.f)(["\n  font-size: 15px;\n  line-height: 1.1;\n  font-weight: bold;\n"],["\n  font-size: 15px;\n  line-height: 1.1;\n  font-weight: bold;\n"]))),L=Object(l.c)(b.a,{target:"eyce8w26"})(C||(C=Object(r.f)(["\n  font-size: 13px;\n  line-height: 1.5;\n  margin: 0;\n  color: ",";\n"],["\n  font-size: 13px;\n  line-height: 1.5;\n  margin: 0;\n  color: ",";\n"])),(function(e){return e.theme.gray3}))},2624:function(e,t,n){"use strict";n.r(t),n.d(t,"ReleaseCommits",(function(){return C}));var r=n(6),i=n.n(r),a=n(7),o=n.n(a),c=n(9),l=n.n(c),s=n(8),m=n.n(s),u=n(10),d=n.n(u),p=n(195),g=n.n(p),h=n(0),f=n.n(h),b=n(250),v=n(56),y=n(4),E=n(61),j=n(1716),O=n(124),x=n(575),k=n(159),w=n(50),R=n(66),C=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=l()(this,(e=m()(t)).call.apply(e,[this].concat(a)))).state={loading:!0,error:!1,commitList:[],activeRepo:null},n}return d()(t,e),o()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.api.request(this.getPath(),{method:"GET",data:g()(this.props.location.query,Object.values(v.e)),success:function(t,n,r){e.setState({error:!1,loading:!1,commitList:t,pageLinks:r.getResponseHeader("Link")})},error:function(){e.setState({error:!0,loading:!1})}})}},{key:"getPath",value:function(){var e=this.props.params,t=e.orgId,n=e.projectId,r=e.version,i=encodeURIComponent(r);return n?"/projects/".concat(t,"/").concat(n,"/releases/").concat(i,"/commits/"):"/organizations/".concat(t,"/releases/").concat(i,"/commits/")}},{key:"emptyState",value:function(){return f.a.createElement(b.a,null,f.a.createElement(x.a,null,f.a.createElement("p",null,Object(y.b)("There are no commits associated with this release."))))}},{key:"setActiveRepo",value:function(e){this.setState({activeRepo:e})}},{key:"getCommitsByRepository",value:function(){return this.state.commitList.reduce((function(e,t){var n=t.repository;return e.hasOwnProperty(n.name)||(e[n.name]=[]),e[n.name].push(t),e}),{})}},{key:"renderCommitsForRepo",value:function(e){var t=this.getCommitsByRepository()[e];return f.a.createElement(b.a,{key:e},f.a.createElement(b.e,null,e),f.a.createElement(b.c,null,t.map((function(e){return f.a.createElement(j.a,{key:e.id,commit:e})}))))}},{key:"render",value:function(){var e=this;if(this.state.loading)return f.a.createElement(w.default,null);if(this.state.error)return f.a.createElement(k.a,null);var t=this.state,n=t.commitList,r=t.activeRepo;if(!n.length)return this.emptyState();var i=this.getCommitsByRepository();return f.a.createElement("div",null,f.a.createElement("div",{className:"heading"},Object.keys(i).length>1?f.a.createElement("div",{className:"commits-dropdown align-left"},f.a.createElement("div",{className:"commits-dropdowng"},f.a.createElement(O.a,{caret:!0,title:this.state.activeRepo||"All Repositories"},f.a.createElement(R.a,{key:"all",noAnchor:!0,onClick:function(){e.setActiveRepo(null)},isActive:null===this.state.activeRepo},f.a.createElement("a",null,Object(y.b)("All Repositories"))),Object.keys(i).map((function(t){return f.a.createElement(R.a,{key:i[t].id,noAnchor:!0,onClick:function(){e.setActiveRepo(t)},isActive:e.state.activeRepo===t},f.a.createElement("a",null,t))}))))):null),r?this.renderCommitsForRepo(r):Object.keys(i).map((function(t){return e.renderCommitsForRepo(t)})))}}]),t}(f.a.Component);C.displayName="ReleaseCommits",t.default=Object(E.a)(C)}}]);
//# sourceMappingURL=ReleaseCommits.js.map