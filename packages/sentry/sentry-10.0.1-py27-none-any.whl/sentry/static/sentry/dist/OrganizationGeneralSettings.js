(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[108],{1632:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(251),o=a.n(r);t.a=function(e){var t=e.title+" - "+e.objSlug+" - Sentry";return i.a.createElement(o.a,{title:t},e.children)}},1682:function(e,t,a){"use strict";var n=a(12),i=a.n(n),r=a(20),o=a.n(r),s=a(6),l=a.n(s),c=a(7),u=a.n(c),b=a(9),d=a.n(b),p=a(8),m=a.n(p),h=a(10),f=a.n(h),g=a(0),j=a.n(g),y=a(36),v=a.n(y),O=a(252),w=function(e){function t(){var e,a;l()(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=d()(this,(e=m()(t)).call.apply(e,[this].concat(i)))).state={isModalOpen:!1},a}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.disabled,n=e.title,r=e.children,s=o()(e,["className","disabled","title","children"]);return j.a.createElement(O.a,i()({},s,{disabled:a}),j.a.createElement("a",{className:v()(t||"",{disabled:a}),disabled:a,onClick:this.onToggle,title:n},r))}}]),t}(j.a.PureComponent);w.displayName="LinkWithConfirmation",t.a=w},1705:function(e,t,a){"use strict";function n(e){return"string"==typeof e?e.toLowerCase().replace(" ","-"):""}a.d(t,"a",(function(){return n}))},1779:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var n=a(4);function i(e){return-1===e?Object(n.b)("Unlimited"):0===e?Object(n.b)("Disabled"):Object(n.c)("[value] per issue",{value:e})}var r,o=((r=Array.from(new Array(21),(function(e,t){return t}))).push(-1),r)},1832:function(e,t,a){"use strict";var n=a(2),i=a(0),r=a.n(i),o=a(4),s=a(340),l=a(90),c=function(e){var t=e.access,a=Object(n.h)(e,["access"]);return r.a.createElement(s.a,{access:t},(function(e){return!e.hasAccess&&r.a.createElement(l.b,Object(n.a)({type:"warning",icon:"icon-warning-sm"},a),Object(o.b)("These settings can only be edited by users with the organization owner or manager role."))}))};c.defaultProps={access:["org:write"]},t.a=c},1959:function(e,t,a){"use strict";a.r(t),a.d(t,"route",(function(){return s}));var n=a(21),i=a(4),r=a(1705),o=a(1779),s="/settings/:orgId/",l=[{title:Object(i.b)("General"),fields:[{name:"slug",type:"string",required:!0,label:Object(i.b)("Name"),help:Object(i.b)("A unique ID used to identify this organization"),transformInput:r.a,saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:Object(i.b)("You will be redirected to the new organization slug after saving")},{name:"name",type:"string",required:!0,label:Object(i.b)("Display Name"),help:Object(i.b)("This is the name that users will see for the organization")},{name:"isEarlyAdopter",type:"boolean",label:Object(i.b)("Early Adopter"),help:Object(i.b)("Opt-in to new features before they're released to the public")}]},{title:"Membership",fields:[{name:"defaultRole",type:"array",required:!0,label:Object(i.b)("Default Role"),choices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialData;return t.availableRoles&&t.availableRoles.map((function(e){return[e.id,e.name]}))||[]},help:Object(i.b)("The default role new members will receive"),disabled:function(e){return!e.access.has("org:admin")}},{name:"openMembership",type:"boolean",required:!0,label:Object(i.b)("Open Membership"),help:Object(i.b)("Allow organization members to freely join or leave any team")}]},{title:Object(i.b)("Security & Privacy"),fields:[{name:"require2FA",type:"boolean",label:Object(i.b)("Require Two-Factor Authentication"),help:Object(i.b)("Require and enforce two-factor authentication for all members"),confirm:{true:Object(i.b)("This will remove all members without two-factor authentication from your organization. It will also send them an email to setup 2FA and reinstate their access and settings. Do you want to continue?"),false:Object(i.b)("Are you sure you want to allow users to access your organization without having two-factor authentication enabled?")}},{name:"allowSharedIssues",type:"boolean",label:Object(i.b)("Allow Shared Issues"),help:Object(i.b)("Enable sharing of limited details on issues to anonymous users"),confirm:{true:Object(i.b)("Are you sure you want to allow sharing issues to anonymous users?")}},{name:"enhancedPrivacy",type:"boolean",label:Object(i.b)("Enhanced Privacy"),help:Object(i.b)("Enable enhanced privacy controls to limit personally identifiable information (PII) as well as source code in things like notifications"),confirm:{false:Object(i.b)("Disabling this can have privacy implications for ALL projects, are you sure you want to continue?")}},{name:"dataScrubber",type:"boolean",label:Object(i.b)("Require Data Scrubber"),help:Object(i.b)("Require server-side data scrubbing be enabled for all projects"),confirm:{false:Object(i.b)("Disabling this can have privacy implications for ALL projects, are you sure you want to continue?")}},{name:"dataScrubberDefaults",type:"boolean",label:Object(i.b)("Require Using Default Scrubbers"),help:Object(i.b)("Require the default scrubbers be applied to prevent things like passwords and credit cards from being stored for all projects"),confirm:{false:Object(i.b)("Disabling this can have privacy implications for ALL projects, are you sure you want to continue?")}},{name:"sensitiveFields",type:"string",multiline:!0,autosize:!0,maxRows:10,placeholder:"e.g. email",label:Object(i.b)("Global Sensitive Fields"),help:Object(i.b)("Additional field names to match against when scrubbing data for all projects. Separate multiple entries with a newline."),extraHelp:Object(i.b)("Note: These fields will be used in addition to project specific fields."),getValue:function(e){return Object(n.h)(e)},setValue:function(e){return e&&"function"==typeof e.join&&e.join("\n")||""}},{name:"safeFields",type:"string",multiline:!0,autosize:!0,maxRows:10,placeholder:Object(i.b)("e.g. business-email"),label:Object(i.b)("Global Safe Fields"),help:Object(i.b)("Field names which data scrubbers should ignore. Separate multiple entries with a newline."),extraHelp:Object(i.b)("Note: These fields will be used in addition to project specific fields"),getValue:function(e){return Object(n.h)(e)},setValue:function(e){return e&&"function"==typeof e.join&&e.join("\n")||""}},{name:"scrubIPAddresses",type:"boolean",label:Object(i.b)("Prevent Storing of IP Addresses"),help:Object(i.b)("Preventing IP addresses from being stored for new events on all projects"),confirm:{false:Object(i.b)("Disabling this can have privacy implications for ALL projects, are you sure you want to continue?")}},{name:"scrapeJavaScript",type:"boolean",confirm:{false:Object(i.b)("Are you sure you want to disable sourcecode fetching for JavaScript events? This will affect Sentry's ability to aggregate issues if you're not already uploading sourcemaps as artifacts.")},label:Object(i.b)("Allow JavaScript Source Fetching"),help:Object(i.b)("Allow Sentry to scrape missing JavaScript source context when possible")},{name:"storeCrashReports",type:"range",label:Object(i.b)("Store Native Crash Reports"),help:Object(i.b)("Store native crash reports such as Minidumps for improved processing and download in issue details"),visible:function(e){return e.features.has("event-attachments")},formatLabel:o.b,allowedValues:o.a},{name:"attachmentsRole",type:"array",choices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialData;return t.availableRoles&&t.availableRoles.map((function(e){return[e.id,e.name]}))||[]},label:Object(i.b)("Attachments Access"),help:Object(i.b)("Permissions required to download event attachments, such as native crash reports or log files"),visible:function(e){return e.features.has("event-attachments")}},{name:"trustedRelays",type:"string",multiline:!0,autosize:!0,maxRows:10,placeholder:Object(i.b)("Paste the relay public keys here"),label:Object(i.b)("Trusted Relays"),help:Object(i.b)("The list of relay public keys that should be trusted. Any relay in this list will be permitted to access org and project configs. Separate multiple entries with a newline."),getValue:function(e){return Object(n.h)(e)},setValue:function(e){return e&&"function"==typeof e.join&&e.join("\n")||""},visible:function(e){return e.features.has("relay")}},{name:"allowJoinRequests",type:"boolean",label:Object(i.b)("Allow Join Requests"),help:Object(i.b)("Allow users to request to join your organization"),confirm:{true:Object(i.b)("Are you sure you want to allow users to request to join your organization?")},visible:function(e){return!e.hasSsoEnabled}}]}];t.default=l},2669:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(5),r=a(0),o=a.n(r),s=a(250),l=a(51),c=a(225),u=a(4),b=a(576),d=a(1682),p=a(1632),m=a(1611),h=a(339),f=a(61),g=a(86),j=a(6),y=a.n(j),v=a(7),O=a.n(v),w=a(9),S=a.n(w),E=a(8),A=a.n(E),z=a(10),R=a.n(z),D=a(1609),q=a(2163),I=a(1616),P=a(1628),T=a(1832),N=a(1959),F=function(e){function t(){return y()(this,t),S()(this,A()(t).apply(this,arguments))}return R()(t,e),O()(t,[{key:"getEndpoints",value:function(){var e=this.props.orgId;return[["authProvider","/organizations/".concat(e,"/auth-provider/")]]}},{key:"render",value:function(){var e=this.props,t=e.initialData,a=e.organization,n=e.orgId,i=e.onSave,r=e.access,s=this.state.authProvider,u="/organizations/".concat(n,"/");return o.a.createElement(I.a,{className:"ref-organization-settings",apiMethod:"PUT",apiEndpoint:u,saveOnBlur:!0,allowUndo:!0,initialData:t,onSubmitSuccess:function(e,a){"function"==typeof i&&i(t,a.initialData)},onSubmitError:function(){return Object(l.a)("Unable to save change")}},o.a.createElement(T.a,null),o.a.createElement(P.a,{additionalFieldProps:{hasSsoEnabled:!!s},features:new Set(a.features),access:r,location:this.props.location,forms:N.default,disabled:!r.has("org:write")}),o.a.createElement(q.a,{type:"organization",allowGravatar:!1,endpoint:"".concat(u,"avatar/"),model:t,onSave:c.h,disabled:!r.has("org:write")}))}}]),t}(D.a);F.displayName="OrganizationSettingsForm";var L=Object(g.a)(F),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRemoveOrganization=function(){var e=t.props,a=e.api,n=e.organization,i=e.params;n&&(Object(l.b)(),Object(c.e)(a,{orgId:i.orgId,successMessage:n.name+" is queued for deletion.",errorMessage:"Error removing the "+n.name+" organization"}))},t.handleSave=function(e,t){t.slug&&t.slug!==e.slug?(Object(c.a)(e,t),i.browserHistory.replace("/settings/"+t.slug+"/")):Object(c.h)(t)},t}return Object(n.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.organization,a=e.params.orgId,i=new Set(t.access),r=t.projects&&!!t.projects.length;return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{title:Object(u.b)("General Settings"),objSlug:a}),o.a.createElement("div",null,o.a.createElement(m.a,{title:Object(u.b)("Organization Settings")}),o.a.createElement(L,Object(n.a)({},this.props,{initialData:t,orgId:a,access:i,onSave:this.handleSave})),i.has("org:admin")&&!t.isDefault&&o.a.createElement(s.a,null,o.a.createElement(s.e,null,Object(u.b)("Remove Organization")),o.a.createElement(b.a,{label:Object(u.b)("Remove Organization"),help:Object(u.b)("Removing this organization will delete all data including projects and their associated events.")},o.a.createElement("div",null,o.a.createElement(d.a,{className:"btn btn-danger",priority:"danger",size:"small",title:Object(u.b)("Remove %s organization",t&&t.name),message:o.a.createElement("div",null,o.a.createElement(h.a,null,Object(u.c)("Removing the organization, [name] is permanent and cannot be undone! Are you sure you want to continue?",{name:t&&o.a.createElement("strong",null,t.name)})),r&&o.a.createElement("div",null,o.a.createElement(h.a,{noMargin:!0},Object(u.b)("This will also remove the following associated projects:")),o.a.createElement("ul",{className:"ref-projects"},t.projects.map((function(e){return o.a.createElement("li",{key:e.slug},e.slug)}))))),onConfirm:this.handleRemoveOrganization},Object(u.b)("Remove Organization")))))))},t}(o.a.Component);t.default=Object(f.a)(Object(g.a)(M))}}]);
//# sourceMappingURL=OrganizationGeneralSettings.js.map