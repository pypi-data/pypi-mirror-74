(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[86],{1610:function(t,e,n){"use strict";var r=n(2),i=n(251),a=n.n(i),s=n(0),o=n.n(s),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTitle=function(){return""},e.prototype.render=function(){var t=this.getTitle();return o.a.createElement(a.a,{title:(t?t+" - ":"")+"Sentry"},this.renderComponent())},e}(n(1609).a);e.a=c},2560:function(t,e,n){"use strict";n.r(e);var r=n(2),i=n(0),a=n.n(i),s=n(51),o=n(4),c=n(1610),u=n(2009),p=n(86),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onRequestSuccess=function(t){var n=t.data;return Object(r.b)(e,void 0,void 0,(function(){var t,e,i,a,c,u=this;return Object(r.e)(this,(function(p){switch(p.label){case 0:t=this.props.params,e=t.orgId,i=t.incidentRuleId,this.setState({loading:!0}),p.label=1;case 1:return p.trys.push([1,3,,4]),a=n.triggers.map((function(t){return Object(r.b)(u,void 0,void 0,(function(){var n;return Object(r.e)(this,(function(r){switch(r.label){case 0:return[4,this.api.requestPromise("/organizations/"+e+"/alert-rules/"+i+"/triggers/"+t.id+"/actions/")];case 1:return n=r.sent(),[2,[t.id,n]]}}))}))})),[4,Promise.all(a)];case 2:return c=p.sent(),this.setState({actions:new Map(c)}),[3,4];case 3:return p.sent(),Object(s.a)(Object(o.b)("Unable to fetch actions")),[3,4];case 4:return this.setState({loading:!1}),[2]}}))}))},e.getActions=function(t,e){var n=t.triggers.map((function(t){return Object(r.a)(Object(r.a)({},t),{actions:e.get(t.id)||[]})}));return Object(r.a)(Object(r.a)({},t),{triggers:n})},e}return Object(r.d)(e,t),e.prototype.getDefaultState=function(){return Object(r.a)(Object(r.a)({},t.prototype.getDefaultState.call(this)),{actions:new Map})},e.prototype.getEndpoints=function(){var t=this.props.params;return[["rule","/organizations/"+t.orgId+"/alert-rules/"+t.incidentRuleId+"/"]]},e.prototype.renderBody=function(){var t=this.props.params.incidentRuleId,e=this.state.rule;return a.a.createElement(u.a,Object(r.a)({},this.props,{incidentRuleId:t,rule:this.getActions(e,this.state.actions)}))},e}(c.a);e.default=Object(p.a)(l)}}]);
//# sourceMappingURL=IncidentRulesDetails.js.map