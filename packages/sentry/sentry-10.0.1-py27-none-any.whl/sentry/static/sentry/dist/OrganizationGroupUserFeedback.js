(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[114],{1629:function(e,t,n){"use strict";var a=n(2),r=n(1),i=n.n(r),o=n(0),c=n.n(o),s=n(93),l=n.n(s),u=n(33),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getFormat=function(e){var n=e.clock24Hours,a=t.props,r=a.dateOnly,i=a.timeOnly,o=a.seconds,c=a.shortDate;return r?"LL":i?"LT":c?"MM/DD/YYYY":n?"MMMM D YYYY HH:mm:ss z":o?"ll LTS z":"lll"},t}return Object(a.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.date,n=(e.seconds,e.shortDate,e.dateOnly,e.utc),r=(e.timeOnly,Object(a.h)(e,["date","seconds","shortDate","dateOnly","utc","timeOnly"])),i=u.default.get("user"),o=i?i.options:{},s=this.getFormat(o);return c.a.createElement("time",Object(a.a)({},r),n?l.a.utc(t).format(s):l.a.tz(t,o.timezone).format(s))},t.propTypes={date:i.a.any.isRequired,dateOnly:i.a.bool,timeOnly:i.a.bool,shortDate:i.a.bool,seconds:i.a.bool,utc:i.a.bool},t.defaultProps={seconds:!0},t}(c.a.Component);t.a=d},1679:function(e,t,n){"use strict";var a,r=n(2),i=n(0),o=n.n(i),c=n(3),s=n(11),l=Object(c.c)((function(e){var t=e.className,n=e.children;return o.a.createElement("div",{"data-test-id":"loading-placeholder",className:t},n)}),{target:"e1xygdhp0"})(a||(a=Object(r.f)(["\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  justify-content: center;\n\n  background-color: ",";\n  width: ",";\n  height: ",";\n  ","\n  ","\n"],["\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  justify-content: center;\n\n  background-color: ",";\n  width: ",";\n  height: ",";\n  ","\n  ","\n"])),(function(e){return e.theme.placeholderBackground}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return"circle"===e.shape?"border-radius: 100%;":""}),(function(e){return"number"==typeof e.bottomGutter&&e.bottomGutter>0?"margin-bottom: "+Object(s.a)(e.bottomGutter)+";":""}));l.defaultProps={shape:"rect",bottomGutter:0,width:"100%",height:"60px"},t.a=l},1983:function(e,t,n){"use strict";var a,r,i,o,c,s,l=n(2),u=n(0),d=n.n(u),p=n(3),m=n(1),h=n.n(m),f=n(131),g=n(4),b=n(28),y=n(27),j=n(575),v=n(53),x=n(11),O=n(1984),k=n.n(O),w=n(86),E=n(160),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.d)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.organization,n=e.projectIds;window.sentryEmbedCallback=function(e){e.submit=function(e){var t=this;this._submitInProgress=!0,setTimeout((function(){t._submitInProgress=!1,t.onSuccess()}),500)}},!1===this.hasAnyFeedback&&Object(b.c)({eventKey:"user_feedback.viewed",org_id:parseInt(t.id,10),projects:n})},t.prototype.componentWillUnmount=function(){window.sentryEmbedCallback=null},Object.defineProperty(t.prototype,"hasAnyFeedback",{get:function(){var e=this.props,t=e.projects,n=e.projectIds;return(n&&n.length?t.filter((function(e){var t=e.id;return n.includes(t)})):t).some((function(e){return e.hasUserReports}))},enumerable:!0,configurable:!0}),t.prototype.trackAnalytics=function(e){var t=e.eventKey,n=e.eventName,a=this.props,r=a.organization,i=a.projectIds;Object(b.d)({eventKey:t,eventName:n,organization_id:r.id,projects:i})},t.prototype.render=function(){var e=this;return this.props.loadingProjects||!1!==this.hasAnyFeedback?d.a.createElement(j.a,null,d.a.createElement("p",null,Object(g.b)("Sorry, no user reports match your filters."))):d.a.createElement(D,null,d.a.createElement(N,null,d.a.createElement(L,null,d.a.createElement(S,{data:k.a}))),d.a.createElement(I,null,d.a.createElement("h3",null,Object(g.b)("No User Feedback Collected")),d.a.createElement("p",null,Object(g.b)("Don't rely on stack traces and graphs alone to understand\n              the cause and impact of errors. Enable User Feedback to collect\n              your users' comments when they encounter a crash or bug.")),d.a.createElement(F,null,d.a.createElement(y.a,{external:!0,onClick:function(){return e.trackAnalytics({eventKey:"user_feedback.docs_clicked",eventName:"User Feedback Docs Clicked"})},href:"https://docs.sentry.io/enriching-error-data/user-feedback/"},Object(g.b)("Read the docs")),d.a.createElement(y.a,{priority:"primary",onClick:function(){f.h({eventId:"00000000000000000000000000000000"}),e.trackAnalytics({eventKey:"user_feedback.dialog_opened",eventName:"User Feedback Dialog Opened"})}},Object(g.b)("Open the report dialog")))))},t.propTypes={organization:v.b.Organization.isRequired,projectIds:h.a.arrayOf(h.a.string.isRequired)},t}(d.a.Component),D=Object(p.c)("div",{target:"e16dpzyo0"})(a||(a=Object(l.f)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  min-height: 450px;\n  padding: ",";\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  min-height: 450px;\n  padding: ",";\n"])),Object(x.a)(1)),I=Object(p.c)("div",{target:"e16dpzyo1"})(r||(r=Object(l.f)(["\n  flex: 1;\n  padding: ",";\n"],["\n  flex: 1;\n  padding: ",";\n"])),Object(x.a)(3)),N=Object(p.c)(I,{target:"e16dpzyo2"})(i||(i=Object(l.f)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),L=Object(p.c)("div",{target:"e16dpzyo3"})(o||(o=Object(l.f)(["\n  width: 550px;\n  height: 340px;\n\n  img {\n    vertical-align: baseline;\n  }\n\n  @media (max-width: 1150px) {\n    font-size: ",";\n    width: 450px;\n  }\n\n  @media (max-width: 1000px) {\n    font-size: ",";\n    width: 320px;\n    max-height: 180px;\n  }\n"],["\n  width: 550px;\n  height: 340px;\n\n  img {\n    vertical-align: baseline;\n  }\n\n  @media (max-width: 1150px) {\n    font-size: ",";\n    width: 450px;\n  }\n\n  @media (max-width: 1000px) {\n    font-size: ",";\n    width: 320px;\n    max-height: 180px;\n  }\n"])),(function(e){return e.theme.fontSizeMedium}),(function(e){return e.theme.fontSizeSmall})),S=Object(p.c)((function(e){var t=e.data,n=e.className;return d.a.createElement("object",{data:t,className:n},d.a.createElement("img",{src:t,className:n}))}),{target:"e16dpzyo4"})(c||(c=Object(l.f)(["\n  width: 100%;\n  height: 100%;\n"],["\n  width: 100%;\n  height: 100%;\n"]))),F=Object(p.c)("div",{target:"e16dpzyo5"})(s||(s=Object(l.f)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(130px, max-content));\n  grid-gap: ",";\n"],["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(130px, max-content));\n  grid-gap: ",";\n"])),Object(x.a)(1));t.a=Object(w.a)(Object(E.a)(z))},1984:function(e,t,n){e.exports=n.p+"user-feedback.svg"},1987:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var a=n(47);function r(e,t,n,a,r,i){var o="latest"===r||"oldest"===r?"/issues/".concat(a,"/events/").concat(r,"/"):"/projects/".concat(t,"/").concat(n,"/events/").concat(r,"/"),c={};0!==i.length&&(c.environment=i);var s=e.requestPromise(o,{query:c});return s.then((function(r){return e.bulkUpdate({orgId:t,projectId:n,itemIds:[a],failSilently:!0,data:{hasSeen:!0}}),r})),s}function i(e,t){return(new a.a).requestPromise("/issues/".concat(e,"/user-reports/"),{includeAllArgs:!0,query:t})}function o(e){var t=e.tags.find((function(e){return"environment"===e.key}));return t?t.value:null}},2610:function(e,t,n){"use strict";n.r(t);var a=n(45),r=n.n(a),i=n(6),o=n.n(i),c=n(7),s=n.n(c),l=n(9),u=n.n(l),d=n(8),p=n.n(d),m=n(10),h=n.n(m),f=n(0),g=n.n(f),b=n(44),y=n.n(b),j=n(1793),v=n(159),x=n(50),O=n(250),k=n(572),w=n(86),E=n(1983),z=n(1987),D=function(e){function t(e){var n;return o()(this,t),(n=u()(this,p()(t).call(this,e))).fetchData=function(){n.setState({loading:!0,error:!1}),Object(z.b)(n.props.group.id,n.props.params).then((function(e){var t=r()(e,3),a=t[0],i=(t[1],t[2]);n.setState({error:!1,loading:!1,reportList:a,pageLinks:i.getResponseHeader("Link")})})).catch((function(){n.setState({error:!0,loading:!1})}))},n.state={loading:!0,error:!1,reportList:[],pageLinks:""},n}return h()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){y()(e.params,this.props.params)||this.fetchData()}},{key:"render",value:function(){var e=this.state.reportList,t=this.props,n=t.organization,a=t.group;return this.state.loading?g.a.createElement(x.default,null):this.state.error?g.a.createElement(v.a,{onRetry:this.fetchData}):e.length?g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-md-9"},e.map((function(e,t){return g.a.createElement(j.a,{key:t,report:e,orgId:n.slug,issueId:a.id})})),g.a.createElement(k.a,{pageLinks:this.state.pageLinks}))):g.a.createElement(O.a,null,g.a.createElement(E.a,{projectIds:[a.project.id]}))}}]),t}(g.a.Component);D.displayName="GroupUserFeedback",t.default=Object(w.a)(D)}}]);
//# sourceMappingURL=OrganizationGroupUserFeedback.js.map