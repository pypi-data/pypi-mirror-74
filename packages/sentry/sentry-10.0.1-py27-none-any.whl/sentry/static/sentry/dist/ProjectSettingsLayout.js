(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[156],{1690:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return f}));var r=n(111),a=n(4),o=n(51),i=n(174),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("function"==typeof e[t]){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];e[t].apply(e,r)}};function s(e,t,n){return r.a.fetchDetails(t.teamId),e.request("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{success:function(e){r.a.fetchDetailsSuccess(t.teamId,e),c(n,"success",e)},error:function(e){r.a.fetchDetailsError(t.teamId,e),c(n,"error",e)}})}function u(e,t){r.a.updateSuccess(e,t)}function p(e,t,n){var a="/teams/".concat(t.orgId,"/").concat(t.teamId,"/");return r.a.update(t.teamId,t.data),e.request(a,{method:"PUT",data:t.data,success:function(e){u(t.teamId,e),c(n,"success",e)},error:function(e){r.a.updateError(t.teamId,e),c(n,"error",e)}})}function l(e,t,n){var a="/organizations/".concat(t.orgId,"/members/").concat(t.memberId||"me","/teams/").concat(t.teamId,"/"),o=Object(i.a)();return r.a.update(o,t.teamId),e.request(a,{method:"POST",data:t.data,success:function(e){r.a.updateSuccess(t.teamId,e),c(n,"success",e)},error:function(e){r.a.updateError(o,t.teamId,e),c(n,"error",e)}})}function d(e,t,n){var a="/organizations/".concat(t.orgId,"/members/").concat(t.memberId||"me","/teams/").concat(t.teamId,"/"),o=Object(i.a)();return r.a.update(o,t.teamId),e.request(a,{method:"DELETE",success:function(e){r.a.updateSuccess(t.teamId,e),c(n,"success",e)},error:function(e){r.a.updateError(o,t.teamId,e),c(n,"error",e)}})}function m(e,t,n,i){return r.a.createTeam(t),e.requestPromise("/organizations/".concat(n.orgId,"/teams/"),{method:"POST",data:t}).then((function(e){return r.a.createTeamSuccess(e),Object(o.d)(Object(a.c)("[team] has been added to the [organization] organization",{team:"#".concat(e.slug),organization:n.orgId})),e}),(function(e){throw r.a.createTeamError(t.slug||t.name,e),Object(o.a)(Object(a.c)("Unable to create [team] in the [organization] organization",{team:"#".concat(t.slug||t.name),organization:n.orgId})),e}))}function f(e,t,n){return r.a.removeTeam(t.teamId),e.requestPromise("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{method:"DELETE"}).then((function(e){return r.a.removeTeamSuccess(t.teamId,e),Object(o.d)(Object(a.c)("[team] has been removed from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}),(function(e){throw r.a.removeTeamError(t.teamId,e),Object(o.a)(Object(a.c)("Unable to remove [team] from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}))}},1709:function(e,t,n){"use strict";var r,a=n(2),o=n(0),i=n.n(o),c=n(3),s=n(11),u=n(41),p={new:u.a.red,strong:u.a.blue,highlight:u.a.green},l=Object(c.c)((function(e){e.priority;var t=e.text,n=Object(a.h)(e,["priority","text"]);return i.a.createElement("span",Object(a.a)({},n),t)}),{target:"eee69uk0"})(r||(r=Object(a.f)(["\n  display: inline-block;\n  height: 20px;\n  min-width: 20px;\n  line-height: 20px;\n  border-radius: 20px;\n  padding: 0 5px;\n  margin-left: ",";\n  font-size: 75%;\n  font-weight: 600;\n  text-align: center;\n  color: #fff;\n  background: ",";\n  transition: background 100ms linear;\n\n  position: relative;\n  top: -1px;\n"],["\n  display: inline-block;\n  height: 20px;\n  min-width: 20px;\n  line-height: 20px;\n  border-radius: 20px;\n  padding: 0 5px;\n  margin-left: ",";\n  font-size: 75%;\n  font-weight: 600;\n  text-align: center;\n  color: #fff;\n  background: ",";\n  transition: background 100ms linear;\n\n  position: relative;\n  top: -1px;\n"])),Object(s.a)(.5),(function(e){return e.priority?p[e.priority]:u.a.gray1}));t.a=l},1737:function(e,t,n){"use strict";var r,a=n(2),o=n(3),i=n(1),c=n.n(i),s=Object(o.c)("div",{target:"ed8v6mn0"})(r||(r=Object(a.f)(["\n  border: 1px solid ",";\n  box-shadow: none;\n  background: ",";\n  padding: ",";\n  margin-bottom: 20px;\n  border-radius: 3px;\n  ",";\n"],["\n  border: 1px solid ",";\n  box-shadow: none;\n  background: ",";\n  padding: ",";\n  margin-bottom: 20px;\n  border-radius: 3px;\n  ",";\n"])),(function(e){return e.theme.borderLight}),(function(e){return e.theme.whiteDark}),(function(e){return e.hasImage?"80px 30px":"15px 20px"}),(function(e){return e.centered&&"text-align: center"}));s.propTypes={hasImage:c.a.bool,centered:c.a.bool},t.a=s},1876:function(e,t,n){"use strict";var r,a,o,i,c=n(2),s=n(35),u=n(0),p=n.n(u),l=n(3),d=n(5),m=n(1709),f=n(297),h=n(1633),b=Object(l.c)(h.a,{target:"e1o2rm130"})(r||(r=Object(c.f)(["\n  margin-left: 0.25em;\n"],["\n  margin-left: 0.25em;\n"]))),g=Object(l.c)(d.Link,{target:"e1o2rm131"})(a||(a=Object(c.f)(["\n  display: block;\n  color: ",";\n  font-size: 14px;\n  line-height: 30px;\n  position: relative;\n\n  &.active {\n    color: ",";\n\n    &:before {\n      background: ",";\n    }\n  }\n\n  &:hover,\n  &:focus,\n  &:active {\n    color: ",";\n    outline: none;\n  }\n\n  &.focus-visible {\n    outline: none;\n    background: #f2eff5;\n    padding: 0 15px;\n    margin: 0 -15px;\n    border-radius: 3px;\n\n    &:before {\n      left: -15px;\n    }\n  }\n\n  &:before {\n    position: absolute;\n    content: '';\n    display: block;\n    top: 4px;\n    left: -30px;\n    height: 20px;\n    width: 4px;\n    background: transparent;\n    border-radius: 0 2px 2px 0;\n  }\n"],["\n  display: block;\n  color: ",";\n  font-size: 14px;\n  line-height: 30px;\n  position: relative;\n\n  &.active {\n    color: ",";\n\n    &:before {\n      background: ",";\n    }\n  }\n\n  &:hover,\n  &:focus,\n  &:active {\n    color: ",";\n    outline: none;\n  }\n\n  &.focus-visible {\n    outline: none;\n    background: #f2eff5;\n    padding: 0 15px;\n    margin: 0 -15px;\n    border-radius: 3px;\n\n    &:before {\n      left: -15px;\n    }\n  }\n\n  &:before {\n    position: absolute;\n    content: '';\n    display: block;\n    top: 4px;\n    left: -30px;\n    height: 20px;\n    width: 4px;\n    background: transparent;\n    border-radius: 0 2px 2px 0;\n  }\n"])),(function(e){return e.theme.gray2}),(function(e){return e.theme.gray5}),(function(e){return e.theme.purple}),(function(e){return e.theme.gray5})),j=function(e){var t=e.badge,n=e.label,r=e.index,a=e.id,o=Object(c.h)(e,["badge","label","index","id"]),i=Object(f.a)({hookName:"sidebar:item-label",defaultComponent:function(e){var t=e.children;return p.a.createElement(p.a.Fragment,null,t)}}),s="new"===t?p.a.createElement(b,{priority:"warning",size:"small",border:!0},t):p.a.createElement(m.a,{text:t});return p.a.createElement(g,Object(c.a)({onlyActiveOnIndex:r,activeClassName:"active"},o),p.a.createElement(i,{id:a},n),t?s:null)},v=n(447),x=Object(l.c)("div",{target:"eqosaaj0"})(o||(o=Object(c.f)(["\n  margin-bottom: 20px;\n"],["\n  margin-bottom: 20px;\n"]))),O=Object(l.c)("div",{target:"eqosaaj1"})(i||(i=Object(c.f)(["\n  color: ",";\n  font-size: 12px;\n  font-weight: 600;\n  text-transform: uppercase;\n  margin-bottom: 20px;\n"],["\n  color: ",";\n  font-size: 12px;\n  font-weight: 600;\n  text-transform: uppercase;\n  margin-bottom: 20px;\n"])),(function(e){return e.theme.gray3})),y=function(e){var t=e.organization,n=e.project,r=e.name,a=e.items;return p.a.createElement(x,{"data-test-id":r},p.a.createElement(O,null,r),a.map((function(r){var a=r.path,o=r.title,i=r.index,s=r.show,u=r.badge,l=r.id;if("function"==typeof s&&!s(e))return null;if(void 0!==s&&!s)return null;var d="function"==typeof u?u(e):null,m=Object(v.a)(a,Object(c.a)(Object(c.a)({},t?{orgId:t.slug}:{}),n?{projectId:n.slug}:{}));return p.a.createElement(j,{key:o,to:m,label:o,index:i,badge:d,id:l})})))},I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.d)(t,e),t.prototype.componentDidCatch=function(e,t){s.l((function(n){Object.keys(t).forEach((function(e){n.setExtra(e,t[e])})),n.setExtra("url",window.location.href),s.c(e)}))},t.prototype.render=function(){var e=this.props,t=e.navigationObjects,n=e.hooks,r=e.hookConfigs,a=Object(c.h)(e,["navigationObjects","hooks","hookConfigs"]),o=t.concat(r);return p.a.createElement("div",null,o.map((function(e){return p.a.createElement(y,Object(c.a)({key:e.name},a,e))})),n.map((function(e,t){return p.a.cloneElement(e,{key:"hook-"+t})})))},t.defaultProps={hooks:[],hookConfigs:[]},t}(p.a.Component);t.a=I},2020:function(e,t,n){"use strict";var r=n(23),a=n.n(r),o=n(16),i=n.n(o),c=n(5),s=n(251),u=n.n(s),p=n(0),l=n.n(p),d=n(18),m=n.n(d),f=n(22),h=n.n(f),b=n(450),g=n(349),j=n(4),v=n(61),x=n(159),O=n(50),y=n(117),I=n(6),E=n.n(I),k=n(7),w=n.n(k),T=n(9),z=n.n(T),S=n(8),P=n.n(S),N=n(10),C=n.n(N),D=n(3),q=n(570),R=n(68),J=n(1690),L=n(459),M=n(1737),U=n(11),A=function(e){function t(e){var n;E()(this,t);var r=(n=z()(this,P()(t).call(this,e))).props,a=r.organization,o=r.projectId,i=a.projects.find((function(e){return e.slug===o}));return n.state={loading:!1,error:!1,project:i},n}return C()(t,e),w()(t,[{key:"joinTeam",value:function(e){var t=this;this.setState({loading:!0}),Object(J.c)(this.props.api,{orgId:this.props.organization.slug,teamId:e.slug},{success:function(){t.setState({loading:!1,error:!1})},error:function(){t.setState({loading:!1,error:!0}),R.a.add(Object(j.b)("There was an error while trying to leave the team."),"error")}})}},{key:"renderJoinTeam",value:function(e,t){return e?this.state.loading?l.a.createElement("a",{className:"btn btn-default btn-loading btn-disabled"},"..."):e.isPending?l.a.createElement("a",{className:"btn btn-default btn-disabled"},Object(j.b)("Request Pending")):t.has("open-membership")?l.a.createElement("a",{className:"btn btn-default",onClick:this.joinTeam.bind(this,e)},Object(j.b)("Join Team")):l.a.createElement("a",{className:"btn btn-default",onClick:this.joinTeam.bind(this,e)},Object(j.b)("Request Access")):null}},{key:"renderExplanation",value:function(e){return e.has("open-membership")?Object(j.b)("To view this data you must one of the following teams."):Object(j.b)("To view this data you must first request access to one of the following teams:")}},{key:"renderJoinTeams",value:function(e){var t=this,n=this.state.project.teams;return n.length?n.map((function(n){return l.a.createElement("p",{key:n.slug},"#",n.slug,": ",t.renderJoinTeam(n,e))})):l.a.createElement(q.a,null,Object(j.b)("No teams have access to this project yet. Ask an admin to add your team to this project."))}},{key:"render",value:function(){var e=this.props.organization,t=new Set(e.features);return l.a.createElement("div",{className:"container"},l.a.createElement(W,{centered:!0},l.a.createElement(B,{src:"icon-circle-exclamation"}),l.a.createElement("p",null,Object(j.b)("You're not a member of this project.")),l.a.createElement("p",null,this.renderExplanation(t)),this.renderJoinTeams(t)))}}]),t}(l.a.Component);A.displayName="MissingProjectMembership";var W=Object(D.c)(M.a,{target:"eka02rn0"})("margin-top:",Object(U.a)(2),";"),B=Object(D.c)(L.a,{target:"eka02rn1"})("margin-bottom:",Object(U.a)(2),";"),_=Object(v.a)(A),F=n(140),G=n(53),H=n(160),K=n(86);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V="MISSING_MEMBERSHIP",X="PROJECT_NOT_FOUND",Z="UNKNOWN",$=h()({displayName:"ProjectContext",childContextTypes:{project:G.b.Project},mixins:[m.a.connect(y.a,"memberList"),m.a.listenTo(F.a,"onProjectChange")],getInitialState:function(){return{loading:!0,error:!1,errorType:null,memberList:[],project:null,projectNavSection:null}},getChildContext:function(){return{project:this.state.project}},componentWillMount:function(){this.fetchData()},componentWillReceiveProps:function(e){e.projectId!==this.props.projectId&&(e.skipReload||this.remountComponent())},componentDidUpdate:function(e,t){if(e.projectId!==this.props.projectId&&this.fetchData(),e.projects.length!==this.props.projects.length&&this.fetchData(),t.project!==this.state.project||t.organization!==this.state.organization){if(!this.docTitle)return;var n=this.docTitleRef.docTitle;n&&n.forceUpdate()}},remountComponent:function(){this.setState(this.getInitialState())},getTitle:function(){return this.state.project?this.state.project.slug:"Sentry"},onProjectChange:function(e){this.state.project&&e.has(this.state.project.id)&&this.setState({project:Q({},F.a.getById(this.state.project.id))})},identifyProject:function(){var e=this.props,t=e.projects,n=e.projectId;return t.find((function(e){return e.slug===n}))||null},fetchData:function(){var e,t,n,r,o,i,c,s;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(e=this.props,t=e.orgId,n=e.projectId,r=e.skipReload,o=this.identifyProject(),i=o&&o.hasAccess,this.setState((function(e){return{loading:!r||e.loading,project:o}})),!o||!i){u.next=20;break}return Object(g.i)(null),c=this.props.api.requestPromise("/projects/".concat(t,"/").concat(n,"/")),u.prev=7,u.next=10,a.a.awrap(c);case 10:s=u.sent,this.setState({loading:!1,project:s,error:!1,errorType:null}),Object(g.i)(s),u.next=18;break;case 15:u.prev=15,u.t0=u.catch(7),this.setState({loading:!1,error:!1,errorType:Z});case 18:return Object(b.a)(this.props.api,t,o.id),u.abrupt("return");case 20:if(!o||o.isMember){u.next=23;break}return this.setState({loading:!1,error:!0,errorType:V}),u.abrupt("return");case 23:return u.prev=23,u.next=26,a.a.awrap(this.props.api.requestPromise("/projects/".concat(t,"/").concat(n,"/")));case 26:u.next=31;break;case 28:u.prev=28,u.t1=u.catch(23),this.setState({loading:!1,error:!0,errorType:X});case 31:case"end":return u.stop()}}),null,this,[[7,15],[23,28]])},setProjectNavSection:function(e){this.setState({projectNavSection:e})},renderBody:function(){if(this.state.loading)return l.a.createElement("div",{className:"loading-full-layout"},l.a.createElement(O.default,null));if(this.state.error)switch(this.state.errorType){case X:return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"alert alert-block",style:{margin:"30px 0 10px"}},Object(j.b)("The project you were looking for was not found.")));case V:return l.a.createElement(_,{organization:this.props.organization,projectId:this.state.project.slug});default:return l.a.createElement(x.a,{onRetry:this.remountComponent})}return this.props.children},render:function(){var e=this;return l.a.createElement(u.a,{ref:function(t){return e.docTitleRef=t},title:this.getTitle()},this.renderBody())}});t.a=Object(v.a)(Object(K.a)(Object(H.a)(Object(c.withRouter)($))))},2689:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n.n(r),o=n(6),i=n.n(o),c=n(7),s=n.n(c),u=n(9),p=n.n(u),l=n(8),d=n.n(l),m=n(10),f=n.n(m),h=n(0),b=n.n(h),g=n(2020),j=n(1876),v=n(2112),x=n(86),O=n(581),y=Object(O.a)(Object(x.a)((function(e){var t=e.organization,n=e.project;return b.a.createElement(j.a,{navigationObjects:Object(v.a)({project:n,organization:t}),access:new Set(t.access),features:new Set(t.features),organization:t,project:n})}))),I=n(1920),E=n(53),k=function(e){function t(){return i()(this,t),p()(this,d()(t).apply(this,arguments))}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props.params,n=t.orgId,r=t.projectId;return b.a.createElement(g.a,a()({},this.props.params,{skipReload:!0,orgId:n,projectId:r}),b.a.createElement(I.a,a()({},this.props,{renderNavigation:function(){return b.a.createElement(y,e.props)}}),this.props.children&&b.a.cloneElement(this.props.children,{organization:this.context.organization,setProjectNavSection:function(){}})))}}]),t}(b.a.Component);k.displayName="ProjectSettingsLayout",k.contextTypes={organization:E.b.Organization};t.default=k}}]);
//# sourceMappingURL=ProjectSettingsLayout.js.map