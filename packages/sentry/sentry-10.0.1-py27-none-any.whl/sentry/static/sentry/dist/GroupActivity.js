(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[80],{1989:function(e,t,r){"use strict";var s=r(6),n=r.n(s),a=r(7),i=r.n(a),o=r(9),u=r.n(o),c=r(8),d=r.n(c),l=r(10),p=r.n(l),m=r(0),h=r.n(m),b=r(104),g=r(19),v=function(e){function t(){return n()(this,t),u()(this,d()(t).apply(this,arguments))}return p()(t,e),i()(t,[{key:"render",value:function(){var e=this.props,t=e.pullRequest,r=e.repository,s=this.providerId,n="".concat(r.name," #").concat(t.id,": ").concat(t.title),a="";return["github","gitlab","bitbucket"].indexOf(s)>-1&&(a=h.a.createElement(g.a,{src:"icon-".concat(s),style:{verticalAlign:"text-top"},size:"14px"})),t.externalUrl?h.a.createElement(b.a,{className:this.props.inline?"inline-commit":"btn btn-default btn-sm",href:t.externalUrl,target:"_blank"},a,"Â  ",this.props.inline?"":" ",n):h.a.createElement("span",null,n)}},{key:"providerId",get:function(){if(!this.props.repository.provider)return null;var e=this.props.repository.provider.id;return e.indexOf(":")>-1?e.split(":").pop():e}}]),t}(h.a.Component);v.displayName="PullRequestLink",t.a=v},2681:function(e,t,r){"use strict";r.r(t);var s=r(12),n=r.n(s),a=r(23),i=r.n(a),o=r(6),u=r.n(o),c=r(7),d=r.n(c),l=r(9),p=r.n(l),m=r(8),h=r.n(m),b=r(10),g=r.n(b),v=r(0),O=r.n(v),j=r(51),y=r(428),f=r(4),k=r(174),E=r(1794),_=r(1736),w=r(33),I=r(194),x=r(2159),N=r(2120),C=r(61),$=r(86),U=r(1695),S=r(587),B=r(117),J=r(1989),q=r(161),R=r(592),A=function(e){function t(){return u()(this,t),p()(this,h()(t).apply(this,arguments))}return g()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.author,r=e.item,s=e.orgId,n=e.projectId,a=r.data,i="/organizations/".concat(s,"/issues/");switch(r.type){case"note":return Object(f.b)("%s left a comment",t);case"set_resolved":return Object(f.b)("%s marked this issue as resolved",t);case"set_resolved_by_age":return Object(f.b)("%(author)s marked this issue as resolved due to inactivity",{author:t});case"set_resolved_in_release":return a.version?Object(f.b)("%(author)s marked this issue as resolved in %(version)s",{author:t,version:O.a.createElement(R.a,{version:a.version,orgId:s})}):Object(f.b)("%s marked this issue as resolved in the upcoming release",t);case"set_resolved_in_commit":return Object(f.b)("%(author)s marked this issue as resolved in %(version)s",{author:t,version:O.a.createElement(U.a,{inline:!0,commitId:a.commit&&a.commit.id,repository:a.commit&&a.commit.repository})});case"set_resolved_in_pull_request":return Object(f.b)("%(author)s marked this issue as resolved in %(version)s",{author:t,version:O.a.createElement(J.a,{inline:!0,pullRequest:a.pullRequest,repository:a.pullRequest&&a.pullRequest.repository})});case"set_unresolved":return Object(f.b)("%s marked this issue as unresolved",t);case"set_ignored":return a.ignoreDuration?Object(f.b)("%(author)s ignored this issue for %(duration)s",{author:t,duration:O.a.createElement(S.a,{seconds:60*a.ignoreDuration})}):a.ignoreCount&&a.ignoreWindow?Object(f.c)("[author] ignored this issue until it happens [count] time(s) in [duration]",{author:t,count:a.ignoreCount,duration:O.a.createElement(S.a,{seconds:60*a.ignoreWindow})}):a.ignoreCount?Object(f.c)("[author] ignored this issue until it happens [count] time(s)",{author:t,count:a.ignoreCount}):a.ignoreUserCount&&a.ignoreUserWindow?Object(f.c)("[author] ignored this issue until it affects [count] user(s) in [duration]",{author:t,count:a.ignoreUserCount,duration:O.a.createElement(S.a,{seconds:60*a.ignoreUserWindow})}):a.ignoreUserCount?Object(f.c)("[author] ignored this issue until it affects [count] user(s)",{author:t,count:a.ignoreUserCount}):Object(f.b)("%s ignored this issue",t);case"set_public":return Object(f.b)("%s made this issue public",t);case"set_private":return Object(f.b)("%s made this issue private",t);case"set_regression":return a.version?Object(f.b)("%(author)s marked this issue as a regression in %(version)s",{author:t,version:O.a.createElement(R.a,{version:a.version,orgId:s,projectId:n})}):Object(f.b)("%s marked this issue as a regression",t);case"create_issue":return Object(f.b)("%(author)s created an issue on %(provider)s titled %(title)s",{author:t,provider:a.provider,title:O.a.createElement("a",{href:a.location},a.title)});case"unmerge_source":return Object(f.d)("%2$s migrated %1$s fingerprint to %3$s","%2$s migrated %1$s fingerprints to %3$s",a.fingerprints.length,t,a.destination?O.a.createElement("a",{href:"".concat(i).concat(a.destination.id)},a.destination.shortId):Object(f.b)("a group"));case"unmerge_destination":return Object(f.d)("%2$s migrated %1$s fingerprint from %3$s","%2$s migrated %1$s fingerprints from %3$s",a.fingerprints.length,t,a.source?O.a.createElement("a",{href:"".concat(i).concat(a.source.id)},a.source.shortId):Object(f.b)("a group"));case"first_seen":return Object(f.b)("%s first saw this issue",t);case"assigned":var o;if("team"===a.assigneeType){var u=q.a.getById(a.assignee);return o=u?u.slug:"<unknown-team>",Object(f.b)("%(author)s assigned this issue to #%(assignee)s",{author:t,assignee:o})}return r.user&&a.assignee===r.user.id?Object(f.b)("%s assigned this issue to themselves",t):(o=B.a.getById(a.assignee))&&o.email?Object(f.b)("%(author)s assigned this issue to %(assignee)s",{author:t,assignee:o.email}):Object(f.b)("%s assigned this issue to an unknown user",t);case"unassigned":return Object(f.b)("%s unassigned this issue",t);case"merge":return Object(f.d)("%2$s merged %1$s issue into this issue","%2$s merged %1$s issues into this issue",a.issues.length,t);default:return""}}}]),t}(O.a.Component);A.displayName="GroupActivityItem";var W=A;function D(){return{detail:Object(f.b)("Unknown error. Please try again.")}}r.d(t,"GroupActivity",(function(){return z}));var z=function(e){function t(){var e,r;u()(this,t);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(r=p()(this,(e=h()(t)).call.apply(e,[this].concat(n)))).state={createBusy:!1,error:!1,inputId:Object(k.a)()},r.handleNoteDelete=function(e){var t,s,n,a,o;return i.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.modelId,s=e.text,n=r.props,a=n.api,o=n.group,Object(j.b)(Object(f.b)("Removing comment...")),u.prev=3,u.next=6,i.a.awrap(Object(y.e)(a,o,t,s));case 6:Object(j.e)(),u.next=12;break;case 9:u.prev=9,u.t0=u.catch(3),Object(j.a)(Object(f.b)("Failed to delete comment"));case 12:case"end":return u.stop()}}),null,null,[[3,9]])},r.handleNoteCreate=function(e){var t,s,n;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=r.props,s=t.api,n=t.group,r.setState({createBusy:!0}),Object(j.b)(Object(f.b)("Posting comment...")),a.prev=3,a.next=6,i.a.awrap(Object(y.d)(s,n,e));case 6:r.setState({createBusy:!1,inputId:Object(k.a)()}),Object(j.e)(),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(3),r.setState({createBusy:!1,error:!0,errorJSON:a.t0.responseJSON||D()}),Object(j.a)(Object(f.b)("Unable to post comment"));case 14:case"end":return a.stop()}}),null,null,[[3,10]])},r.handleNoteUpdate=function(e,t){var s,n,a,o,u;return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return s=t.modelId,n=t.text,a=r.props,o=a.api,u=a.group,r.setState({updateBusy:!0}),Object(j.b)(Object(f.b)("Updating comment...")),c.prev=4,c.next=7,i.a.awrap(Object(y.f)(o,u,e,s,n));case 7:r.setState({updateBusy:!1}),Object(j.e)(),c.next=15;break;case 11:c.prev=11,c.t0=c.catch(4),r.setState({updateBusy:!1,error:!0,errorJSON:c.t0.responseJSON||D()}),Object(j.a)(Object(f.b)("Unable to update comment"));case 15:case"end":return c.stop()}}),null,null,[[4,11]])},r}return g()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.organization,s=t.group,a=w.default.get("user"),i=s&&s.project?[s.project.slug]:[],o={group:s,projectSlugs:i,placeholder:Object(f.b)("Add details or updates to this event. \nTag users with @, or teams with #")};return O.a.createElement("div",{className:"row"},O.a.createElement("div",{className:"col-md-9"},O.a.createElement("div",null,O.a.createElement(_.a,{author:{type:"user",user:a}},(function(){return O.a.createElement(N.a,n()({key:e.state.inputId,storageKey:"groupinput:latest",itemKey:s.id,onCreate:e.handleNoteCreate,busy:e.state.createBusy,error:e.state.error,errorJSON:e.state.errorJSON},o))})),s.activity.map((function(t){var a=t.user?t.user.name:"Sentry";return"note"===t.type?O.a.createElement(I.a,{mini:!0,key:"note-".concat(t.id)},O.a.createElement(x.a,n()({text:t.data.text,modelId:t.id,user:t.user,dateCreated:t.dateCreated,authorName:a,onDelete:e.handleNoteDelete,onUpdate:e.handleNoteUpdate,busy:e.state.updateBusy},o))):O.a.createElement(I.a,{mini:!0,key:"item-".concat(t.id)},O.a.createElement(_.a,{item:t,author:{type:t.user?"user":"system",user:t.user},date:t.dateCreated,header:O.a.createElement(W,{organization:r,author:O.a.createElement(E.a,null,a),item:t,orgId:e.props.params.orgId,projectId:s.project.slug})}))})))))}}]),t}(O.a.Component);z.displayName="GroupActivity";t.default=Object(C.a)(Object($.a)(z))}}]);
//# sourceMappingURL=GroupActivity.js.map