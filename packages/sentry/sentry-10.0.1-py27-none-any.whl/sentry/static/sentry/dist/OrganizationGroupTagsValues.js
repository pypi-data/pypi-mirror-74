(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[113],{1683:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o}));var n=a(2),r=a(1),s=a.n(r),l=a(0),c=a.n(l);function i(e,t){var a=e.split(" ")[0],n=e.split(" ").splice(1).join(" "),r=t.generationByIdentifier(a);return void 0===r?e:r+" "+n}function o(){return Object(n.b)(this,void 0,void 0,(function(){return Object(n.e)(this,(function(e){return[2,a.e(185).then(a.t.bind(null,1805,7))]}))}))}var u=function(e){function t(t){var a=e.call(this,t)||this;return a.state={iOSDeviceList:null},a}return Object(n.d)(t,e),t.prototype.componentDidMount=function(){var e=this;this._isMounted=!0,o().then((function(t){e._isMounted&&e.setState({iOSDeviceList:t})}))},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.render=function(){var e=this.props.children,t=this.state.iOSDeviceList;return e?t?c.a.createElement("span",{"data-test-id":"loaded-device-name"},i(e,t)):e:null},t.propTypes={children:s.a.string},t}(c.a.Component);t.a=u},2609:function(e,t,a){"use strict";a.r(t),a.d(t,"GroupTagValues",(function(){return P}));var n=a(23),r=a.n(n),s=a(45),l=a.n(s),c=a(6),i=a.n(c),o=a(7),u=a.n(o),p=a(9),m=a.n(p),d=a(8),h=a.n(d),f=a(10),y=a.n(f),g=a(430),v=a.n(g),E=a(907),b=a.n(E),k=a(44),L=a.n(k),N=a(0),O=a.n(N),j=a(21),D=a(4),q=a(61),w=a(193),S=a(1683),x=a(104),K=a(364),V=a(159),A=a(50),M=a(572),U=a(223),I=a(86),P=function(e){function t(){var e,a;i()(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=m()(this,(e=h()(t)).call.apply(e,[this].concat(s)))).state={tagKey:null,tagValueList:null,loading:!0,error:!1,pageLinks:""},a.fetchData=function(){var e,t,n,s,c,i,o,u,p,m,d;return r.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return e=a.props,t=e.params,n=e.query,a.setState({loading:!0,error:!1}),s=[a.props.api.requestPromise("/issues/".concat(t.groupId,"/tags/").concat(t.tagKey,"/"),{query:n}),a.props.api.requestPromise("/issues/".concat(t.groupId,"/tags/").concat(t.tagKey,"/values/"),{query:n,includeAllArgs:!0})],h.prev=3,h.next=6,r.a.awrap(Promise.all(s));case 6:c=h.sent,i=l()(c,2),o=i[0],u=i[1],p=l()(u,3),m=p[0],d=p[2],a.setState({tagKey:o,tagValueList:m,loading:!1,pageLinks:d.getResponseHeader("Link")}),h.next=18;break;case 14:h.prev=14,h.t0=h.catch(3),console.error(h.t0),a.setState({error:!0,loading:!1});case 18:case"end":return h.stop()}}),null,null,[[3,14]])},a}return y()(t,e),u()(t,[{key:"componentWillMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){(!L()(e.query,this.props.query)||e.params.tagKey!==this.props.params.tagKey)&&this.fetchData()}},{key:"getUserDisplayName",value:function(e){return e.email||e.username||e.identifier||e.ipAddress||e.value}},{key:"render",value:function(){var e=this;if(this.state.loading)return O.a.createElement(A.default,null);if(this.state.error)return O.a.createElement(V.a,{onRetry:this.fetchData});var t=this.props,a=t.group,n=t.params.orgId,r=this.state.tagKey,s=v()(this.state.tagValueList,b()("count")).reverse(),l="/organizations/".concat(n,"/issues/"),c=s.map((function(t,a){var n=Object(j.r)(t.count,r.totalValues).toFixed(2),s=t.query||"".concat(r.key,':"').concat(t.value,'"');return O.a.createElement("tr",{key:a},O.a.createElement("td",{className:"bar-cell"},O.a.createElement("span",{className:"bar",style:{width:n+"%"}}),O.a.createElement("span",{className:"label"},n,"%")),O.a.createElement("td",null,O.a.createElement(K.a,{to:{pathname:l,query:{query:s}}},"user"===r.key?O.a.createElement(O.a.Fragment,null,O.a.createElement(w.a,{user:t,size:20,className:"avatar"}),O.a.createElement("span",{style:{marginLeft:10}},e.getUserDisplayName(t))):O.a.createElement(S.a,null,t.name)),t.email&&O.a.createElement(x.a,{href:"mailto:".concat(t.email),className:"external-icon"},O.a.createElement("em",{className:"icon-envelope"})),Object(j.m)(t.value)&&O.a.createElement("a",{href:t.value,className:"external-icon"},O.a.createElement("em",{className:"icon-open"}))),O.a.createElement("td",null,O.a.createElement(U.a,{date:t.lastSeen})))}));return O.a.createElement("div",null,O.a.createElement("h3",null,"user"===r.key?Object(D.b)("Affected Users"):r.name,O.a.createElement("a",{href:"/".concat(n,"/").concat(a.project.slug,"/issues/").concat(a.id,"/tags/").concat(this.props.params.tagKey,"/export/"),className:"btn btn-default btn-sm",style:{marginLeft:10}},Object(D.b)("Export to CSV"))),O.a.createElement("table",{className:"table table-striped"},O.a.createElement("thead",null,O.a.createElement("tr",null,O.a.createElement("th",{style:{width:30}},"%"),O.a.createElement("th",null),O.a.createElement("th",{style:{width:200}},Object(D.b)("Last Seen")))),O.a.createElement("tbody",null,c)),O.a.createElement(M.a,{pageLinks:this.state.pageLinks}),O.a.createElement("p",null,O.a.createElement("small",null,Object(D.b)("Note: Percentage of issue is based on events seen in the last 7 days."))))}}]),t}(O.a.Component);P.displayName="GroupTagValues",t.default=Object(q.a)(Object(I.a)(P))}}]);
//# sourceMappingURL=OrganizationGroupTagsValues.js.map