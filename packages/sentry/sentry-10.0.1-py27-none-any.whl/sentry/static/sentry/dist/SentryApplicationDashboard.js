(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[170],{1609:function(e,t,n){"use strict";var r,a,i=n(2),o=n(44),s=n.n(o),l=n(1),c=n.n(l),u=n(0),d=n.n(u),p=n(35),h=n(289),m=n(47),f=n(28),g=n(4),b=n(5),y=n(105),v=n.n(y),O=n(3),j=n(336),E=n(50),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={query:"",busy:!1},t.immediateQuery=function(e){return Object(i.b)(t,void 0,void 0,(function(){var t,n,r,a,o,s;return Object(i.e)(this,(function(l){switch(l.label){case 0:t=this.props,n=t.location,r=t.api,this.setState({busy:!0}),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,r.requestPromise(""+this.props.url,{includeAllArgs:!0,method:"GET",query:Object(i.a)(Object(i.a)({},n.query),{query:e})})];case 2:return a=i.g.apply(void 0,[l.sent(),3]),o=a[0],s=a[2],this.state.query===e&&this.props.onSuccess(o,s),[3,4];case 3:return l.sent(),this.props.onError(),[3,4];case 4:return this.setState({busy:!1}),[2]}}))}))},t.query=v()(t.immediateQuery,t.props.debounceWait),t.handleChange=function(e){t.query(e),t.setState({query:e})},t.handleInputChange=function(e){return t.handleChange(e.target.value)},t.handleSearch=function(e){var n=t.props,r=n.updateRoute,a=n.onSearchSubmit;if(e.preventDefault(),r){var i=t.props,o=i.router,s=i.location;o.push({pathname:s.pathname,query:{query:t.state.query}})}"function"==typeof a&&a(t.state.query,e)},t}return Object(i.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.children,r=e.className,a=this.state,i=a.busy,o=a.query,s=d.a.createElement(S,{onSubmit:this.handleSearch},d.a.createElement(j.a,{value:o,onChange:this.handleInputChange,className:r,placeholder:t}),i&&d.a.createElement(w,{size:18,hideMessage:!0,mini:!0}));return void 0===n?s:n({defaultSearchBar:s,busy:i,value:o,handleChange:this.handleChange})},t.defaultProps={placeholder:"Search...",debounceWait:200},t}(d.a.Component),w=Object(O.c)(E.default,{target:"e6xwo0"})(r||(r=Object(i.f)(["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"],["\n  position: absolute;\n  right: 25px;\n  top: 50%;\n  transform: translateY(-13px);\n"]))),S=Object(O.c)("form",{target:"e6xwo1"})(a||(a=Object(i.f)(["\n  position: relative;\n"],["\n  position: relative;\n"]))),P=b.withRouter(x),D=n(159),q=n(6),_=n.n(q),k=n(7),R=n.n(k),I=n(9),C=n.n(I),T=n(8),L=n.n(T),z=n(10),M=n.n(z),A=n(251),B=n.n(A),N=n(104),V=n(73),W=function(e){function t(){return _()(this,t),C()(this,L()(t).apply(this,arguments))}return M()(t,e),R()(t,[{key:"componentDidMount",value:function(){var e=this.props.routes,t=this.context,n=t.organization,r=t.project,a=Object(V.a)(e);p.l((function(e){e.setFingerprint(["Permission Denied",a]),e.setExtra("route",a),e.setExtra("orgFeatures",n&&n.features||[]),e.setExtra("orgAccess",n&&n.access||[]),e.setExtra("projectFeatures",r&&r.features||[]),p.c(new Error("".concat("Permission Denied").concat(a?" : ".concat(a):"")))}))}},{key:"render",value:function(){return d.a.createElement(B.a,{title:Object(g.b)("Permission Denied")},d.a.createElement(D.a,{message:Object(g.c)("Your role does not have the necessary permissions to access this resource, please read more about [link:organizational roles]",{link:d.a.createElement(N.a,{href:"https://docs.sentry.io/learn/membership/"})})}))}}]),t}(d.a.Component);W.displayName="PermissionDenied",W.contextTypes={organization:c.a.object,project:c.a.object};var H=Object(b.withRouter)(W),Y=n(569);function G(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,Object(i.i)(n))}catch(t){return console.error(t),setTimeout((function(){throw t})),e.setState({error:t}),null}}}var F=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.reloadOnVisible=!1,r.shouldReloadOnVisible=!1,r.shouldReload=!1,r.shouldRenderBadRequests=!1,r.api=new m.a,r.markShouldMeasure=function(e){var t=void 0===e?{}:e,n=t.remainingRequests,a=t.error;r._measurement.hasMeasured||(r._measurement.finished=0===n,r._measurement.error=a||r._measurement.error)},r.remountComponent=function(){r.shouldReload?r.reloadData():r.setState(r.getDefaultState(),r.fetchData)},r.visibilityReloader=function(){return r.shouldReloadOnVisible&&!r.state.loading&&!document.hidden&&r.reloadData()},r.fetchData=function(e){var t=r.getEndpoints();t.length?(r.api.clear(),r.setState(Object(i.a)({loading:!0,error:!1,remainingRequests:t.length},e)),t.forEach((function(e){var t=Object(i.g)(e,4),n=t[0],a=t[1],o=t[2],s=t[3];s=s||{};var l=r.props.location&&r.props.location.query||{},c=o&&o.query||{};(s.paginate||l.cursor)&&(c=Object(i.a)(Object(i.a)({},l),c)),r.api.request(a,Object(i.a)(Object(i.a)({method:"GET"},o),{query:c,success:function(e,t,a){r.handleRequestSuccess({stateKey:n,data:e,jqXHR:a},!0)},error:function(e){s.allowError&&s.allowError(e)&&(e=null),r.handleError(e,[n,a,o,s])}}))}))):r.setState({loading:!1,error:!1})},r.fetchData=G(r,r.fetchData.bind(r)),r.render=G(r,r.render.bind(r)),r.state=r.getDefaultState(),r._measurement={hasMeasured:!1},t.routes&&t.routes&&f.b.mark("async-component-"+Object(V.a)(t.routes)),r}return Object(i.d)(t,e),t.prototype.componentWillMount=function(){this.api=new m.a,this.fetchData(),this.reloadOnVisible&&document.addEventListener("visibilitychange",this.visibilityReloader)},t.prototype.componentWillReceiveProps=function(e,t){},t.prototype.componentDidUpdate=function(e,t){var n=!!t.router,r=void 0!==e.location,a=r?this.props.location:n?this.context.router.location:null,i=r?e.location:n?t.router.location:null;if(a&&i){if(!this._measurement.hasMeasured&&this._measurement.finished&&this.props.routes){var o=Object(V.a)(this.props.routes);f.b.measure({name:"app.component.async-component",start:"async-component-"+o,data:{route:o,error:this._measurement.error}}),this._measurement.hasMeasured=!0,"function"==typeof this.props.finishProfile&&this.props.finishProfile()}s()(this.props.params,e.params)&&a.search===i.search&&a.state===i.state||this.remountComponent()}},t.prototype.componentWillUnmount=function(){this.api.clear(),document.removeEventListener("visibilitychange",this.visibilityReloader)},t.prototype.getDefaultState=function(){var e=this.getEndpoints(),t={loading:!0,reloading:!1,error:!1,errors:{}};return e.forEach((function(e){var n=Object(i.g)(e,2),r=n[0];n[1];t[r]=null})),t},t.prototype.reloadData=function(){this.fetchData({reloading:!0})},t.prototype.onRequestSuccess=function(e){},t.prototype.onRequestError=function(e,t){},t.prototype.handleRequestSuccess=function(e,t){var n=this,r=e.stateKey,a=e.data,i=e.jqXHR;this.setState((function(e){var o,s=((o={})[r]=a,o[r+"PageLinks"]=i&&i.getResponseHeader("Link"),o);return t&&(s.remainingRequests=e.remainingRequests-1,s.loading=e.remainingRequests>1,s.reloading=e.reloading&&s.loading,n.markShouldMeasure({remainingRequests:s.remainingRequests})),s})),this.onRequestSuccess({stateKey:r,data:a,jqXHR:i})},t.prototype.handleError=function(e,t){var n=this,r=Object(i.g)(t,1)[0];e&&e.responseText&&p.a({message:e.responseText,category:"xhr",level:h.a.Error}),this.setState((function(t){var a,o,s=t.remainingRequests>1,l=((a={})[r]=null,a.errors=Object(i.a)(Object(i.a)({},t.errors),((o={})[r]=e,o)),a.error=t.error||!!e,a.remainingRequests=t.remainingRequests-1,a.loading=s,a.reloading=t.reloading&&s,a);return n.markShouldMeasure({remainingRequests:l.remainingRequests,error:!0}),l})),this.onRequestError(e,t)},t.prototype.getEndpointParams=function(){return console.warn("getEndpointParams is deprecated"),{}},t.prototype.getEndpoint=function(){return console.warn("getEndpoint is deprecated"),null},t.prototype.getEndpoints=function(){var e=this.getEndpoint();return e?[["data",e,this.getEndpointParams()]]:[]},t.prototype.renderSearchInput=function(e){var t=this,n=e.stateKey,r=e.url,a=Object(i.h)(e,["stateKey","url"]),o=Object(i.g)(this.getEndpoints()||[null],1)[0],s=n||o&&o[0],l=r||o&&o[1];return d.a.createElement(P,Object(i.a)({url:l},a,{api:this.api,onSuccess:function(e,n){t.handleRequestSuccess({stateKey:s,data:e,jqXHR:n})},onError:function(){t.renderError(new Error("Error with AsyncComponentSearchInput"))}}))},t.prototype.renderLoading=function(){return d.a.createElement(E.default,null)},t.prototype.renderError=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=this.state.errors,a=Object.values(r).find((function(e){return e&&401===e.status})),i=Object.values(r).find((function(e){return e&&403===e.status})),o=!!Object.values(r).find((function(e){return e&&0!==e.status}))||t;if(a)return d.a.createElement(D.a,{message:Object(g.b)("You are not authorized to access this resource.")});if(i)return d.a.createElement(H,null);if(this.shouldRenderBadRequests){var s=Object.values(r).filter((function(e){return e&&400===e.status&&e.responseJSON&&e.responseJSON.detail})).map((function(e){return e.responseJSON.detail}));if(s.length)return d.a.createElement(D.a,{message:s.join("\n")})}return d.a.createElement(Y.a,{error:e,component:this,disableLogSentry:!o,disableReport:n,onRetry:this.remountComponent})},t.prototype.renderComponent=function(){return!this.state.loading||this.shouldReload&&this.state.reloading?this.state.error?this.renderError(new Error("Unable to load all required endpoints")):this.renderBody():this.renderLoading()},t.prototype.renderBody=function(){throw new Error("Not implemented")},t.prototype.render=function(){return this.renderComponent()},t.propTypes={location:c.a.object,router:c.a.object},t.contextTypes={router:c.a.object},t}(d.a.Component);t.a=F},1610:function(e,t,n){"use strict";var r=n(2),a=n(251),i=n.n(a),o=n(0),s=n.n(o),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.getTitle=function(){return""},t.prototype.render=function(){var e=this.getTitle();return s.a.createElement(i.a,{title:(e?e+" - ":"")+"Sentry"},this.renderComponent())},t}(n(1609).a);t.a=l},1611:function(e,t,n){"use strict";var r,a,i,o,s,l=n(2),c=n(1),u=n.n(c),d=n(0),p=n.n(d),h=n(3),m=n(11),f=n(337),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.icon,n=e.title,r=e.action,a=e.tabs,i=e.noTitleStyles,o=Object(l.h)(e,["icon","title","action","tabs","noTitleStyles"]);return p.a.createElement("div",Object(l.a)({},o),p.a.createElement(b,null,t&&p.a.createElement(v,null,t),n&&p.a.createElement(y,{tabs:a,styled:i},p.a.createElement(f.a,null,n)),r&&p.a.createElement(O,{tabs:a},r)),a&&p.a.createElement("div",null,a))},t.propTypes={icon:u.a.node,title:u.a.node.isRequired,action:u.a.node,tabs:u.a.node,noTitleStyles:u.a.bool},t.defaultProps={noTitleStyles:!1},t}(p.a.Component),b=Object(h.c)("div",{target:"e1uay4fd0"})(r||(r=Object(l.f)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),y=Object(h.c)("div",{target:"e1uay4fd1"})(a||(a=Object(l.f)(["\n  ",";\n  margin: ",";\n  flex: 1;\n"],["\n  ",";\n  margin: ",";\n  flex: 1;\n"])),(function(e){return!e.styled&&"\n    font-size: 20px;\n    font-weight: bold;"}),(function(e){return e.tabs?Object(m.a)(4)+" 0 "+Object(m.a)(2):Object(m.a)(4)+" 0"})),v=Object(h.c)("div",{target:"e1uay4fd2"})(i||(i=Object(l.f)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),Object(m.a)(1)),O=Object(h.c)("div",{target:"e1uay4fd3"})(o||(o=Object(l.f)(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return e.tabs?"margin-top: "+Object(m.a)(2):null})),j=Object(h.c)(g,{target:"e1uay4fd4"})(s||(s=Object(l.f)(["\n  font-size: 14px;\n  margin-top: -",";\n"],["\n  font-size: 14px;\n  margin-top: -",";\n"])),Object(m.a)(4));t.a=j},1629:function(e,t,n){"use strict";var r=n(2),a=n(1),i=n.n(a),o=n(0),s=n.n(o),l=n(93),c=n.n(l),u=n(33),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getFormat=function(e){var n=e.clock24Hours,r=t.props,a=r.dateOnly,i=r.timeOnly,o=r.seconds,s=r.shortDate;return a?"LL":i?"LT":s?"MM/DD/YYYY":n?"MMMM D YYYY HH:mm:ss z":o?"ll LTS z":"lll"},t}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.date,n=(e.seconds,e.shortDate,e.dateOnly,e.utc),a=(e.timeOnly,Object(r.h)(e,["date","seconds","shortDate","dateOnly","utc","timeOnly"])),i=u.default.get("user"),o=i?i.options:{},l=this.getFormat(o);return s.a.createElement("time",Object(r.a)({},a),n?c.a.utc(t).format(l):c.a.tz(t,o.timezone).format(l))},t.propTypes={date:i.a.any.isRequired,dateOnly:i.a.bool,timeOnly:i.a.bool,shortDate:i.a.bool,seconds:i.a.bool,utc:i.a.bool},t.defaultProps={seconds:!0},t}(s.a.Component);t.a=d},1633:function(e,t,n){"use strict";var r=n(20),a=n.n(r),i=n(1),o=n.n(i),s=n(0),l=n.n(s),c=n(3),u=n(19),d=Object(c.c)((function(e){var t=e.children,n=e.icon,r=(e.priority,e.size,e.border,a()(e,["children","icon","priority","size","border"]));return l.a.createElement("div",r,n&&l.a.createElement(p,{src:n,size:"12px"}),t)}),{target:"e6q9yfr0"})("display:inline-flex;box-sizing:border-box;padding:",(function(e){return"small"===e.size?"0.1em 0.4em 0.2em":"0.35em 0.8em 0.4em"}),";font-size:75%;line-height:1;color:",(function(e){return e.priority?"#fff":e.gray5}),";text-align:center;white-space:nowrap;vertical-align:middle;border-radius:",(function(e){return"small"===e.size?"0.25em":"2em"}),";text-transform:lowercase;font-weight:",(function(e){return"small"===e.size?"bold":"normal"}),";background:",(function(e){return e.priority?e.theme.alert[e.priority].background:e.theme.offWhite2}),";",(function(e){return function(e){return e.border?"border: 1px solid ".concat(e.priority?e.theme.alert[e.priority].border:e.theme.gray1,";"):""}(e)}),";",(function(e){return function(e){return e.inline?"margin-left: ".concat("small"===e.size?"0.25em":"0.5em",";"):""}(e)}),";");d.propTypes={priority:o.a.string,size:o.a.string,border:o.a.bool,icon:o.a.string,inline:o.a.bool};var p=Object(c.c)(u.a,{target:"e6q9yfr1"})("margin-right:4px;");t.a=d},1901:function(e,t,n){var r=n(1612),a=n(1608),i=n(1826),o=i.layout,s=i.largeLayout;n(1896),n(1970),n(1971),n(1787),r.registerLayout(a.curry(o,"bar")),r.registerLayout(s),r.registerVisual({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}})},1902:function(e,t,n){var r=n(1677),a=n(1714),i=r.extend({type:"series.__base_bar__",getInitialData:function(e,t){return a(this.getSource(),this)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(t.clampData(e)),r=this.getData(),a=r.getLayout("offset"),i=r.getLayout("size");return n[t.getBaseAxis().isHorizontal()?0:1]+=a+i/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});e.exports=i},1903:function(e,t,n){var r=n(1613),a=n(1895).getDefaultLabel;function i(e,t){"outside"===e.textPosition&&(e.textPosition=t)}t.setLabel=function(e,t,n,o,s,l,c){var u=n.getModel("label"),d=n.getModel("emphasis.label");r.setLabelStyle(e,t,u,d,{labelFetcher:s,labelDataIndex:l,defaultText:a(s.getData(),l),isRectText:!0,autoColor:o}),i(e),i(t)}},1921:function(e,t,n){"use strict";var r=n(12),a=n.n(r),i=n(16),o=n.n(i),s=n(20),l=n.n(s),c=n(6),u=n.n(c),d=n(7),p=n.n(d),h=n(9),m=n.n(h),f=n(8),g=n.n(f),b=n(10),y=n.n(b),v=n(0),O=n.n(v);n(1901);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{type:"bar"})}var x=n(1753);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return P}));var P=function(e){function t(){return u()(this,t),m()(this,g()(t).apply(this,arguments))}return y()(t,e),p()(t,[{key:"render",value:function(){var e=this.props,t=e.series,n=e.stacked,r=e.xAxis,i=l()(e,["series","stacked","xAxis"]);return O.a.createElement(x.a,a()({},i,{xAxis:null!==r?S({},r||{},{boundaryGap:!0}):null,series:t.map((function(e,t){return E({name:e.seriesName,stack:n?"stack1":null,data:e.data.map((function(e){var t=e.value;return[e.name,t]}))})}))}))}}]),t}(O.a.Component);P.displayName="BarChart"},1970:function(e,t,n){var r=n(1902).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e}});e.exports=r},1971:function(e,t,n){n(1631).__DEV__;var r=n(1612),a=n(1608),i=n(1613),o=n(1903).setLabel,s=n(1680),l=n(1972),c=n(1642),u=["itemStyle","barBorderWidth"];a.extend(s.prototype,l);var d=r.extendChartView({type:"bar",render:function(e,t,n){this._updateDrawMode(e);var r=e.get("coordinateSystem");return"cartesian2d"!==r&&"polar"!==r||(this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n)),this.group},incrementalPrepareRender:function(e,t,n){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,n,r){this._incrementalRenderLarge(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e,t,n){var r,a=this.group,o=e.getData(),s=this._data,l=e.coordinateSystem,c=l.getBaseAxis();"cartesian2d"===l.type?r=c.isHorizontal():"polar"===l.type&&(r="angle"===c.dim);var u=e.isAnimationEnabled()?e:null;o.diff(s).add((function(t){if(o.hasValue(t)){var n=o.getItemModel(t),i=f[l.type](o,t,n),s=p[l.type](o,t,n,i,r,u);o.setItemGraphicEl(t,s),a.add(s),g(s,o,t,n,i,e,r,"polar"===l.type)}})).update((function(t,n){var c=s.getItemGraphicEl(n);if(o.hasValue(t)){var d=o.getItemModel(t),h=f[l.type](o,t,d);c?i.updateProps(c,{shape:h},u,t):c=p[l.type](o,t,d,h,r,u,!0),o.setItemGraphicEl(t,c),a.add(c),g(c,o,t,d,h,e,r,"polar"===l.type)}else a.remove(c)})).remove((function(e){var t=s.getItemGraphicEl(e);"cartesian2d"===l.type?t&&h(e,u,t):t&&m(e,u,t)})).execute(),this._data=o},_renderLarge:function(e,t,n){this._clear(),y(e,this.group)},_incrementalRenderLarge:function(e,t){y(t,this.group,!0)},dispose:a.noop,remove:function(e){this._clear(e)},_clear:function(e){var t=this.group,n=this._data;e&&e.get("animation")&&n&&!this._isLargeDraw?n.eachItemGraphicEl((function(t){"sector"===t.type?m(t.dataIndex,e,t):h(t.dataIndex,e,t)})):t.removeAll(),this._data=null}}),p={cartesian2d:function(e,t,n,r,o,s,l){var c=new i.Rect({shape:a.extend({},r)});if(s){var u=o?"height":"width",d={};c.shape[u]=0,d[u]=r[u],i[l?"updateProps":"initProps"](c,{shape:d},s,t)}return c},polar:function(e,t,n,r,o,s,l){var c=r.startAngle<r.endAngle,u=new i.Sector({shape:a.defaults({clockwise:c},r)});if(s){var d=o?"r":"endAngle",p={};u.shape[d]=o?0:r.startAngle,p[d]=r[d],i[l?"updateProps":"initProps"](u,{shape:p},s,t)}return u}};function h(e,t,n){n.style.text=null,i.updateProps(n,{shape:{width:0}},t,e,(function(){n.parent&&n.parent.remove(n)}))}function m(e,t,n){n.style.text=null,i.updateProps(n,{shape:{r:n.shape.r0}},t,e,(function(){n.parent&&n.parent.remove(n)}))}var f={cartesian2d:function(e,t,n){var r=e.getItemLayout(t),a=function(e,t){var n=e.get(u)||0;return Math.min(n,Math.abs(t.width),Math.abs(t.height))}(n,r),i=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+i*a/2,y:r.y+o*a/2,width:r.width-i*a,height:r.height-o*a}},polar:function(e,t,n){var r=e.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle}}};function g(e,t,n,r,s,l,c,u){var d=t.getItemVisual(n,"color"),p=t.getItemVisual(n,"opacity"),h=r.getModel("itemStyle"),m=r.getModel("emphasis.itemStyle").getBarItemStyle();u||e.setShape("r",h.get("barBorderRadius")||0),e.useStyle(a.defaults({fill:d,opacity:p},h.getBarItemStyle()));var f=r.getShallow("cursor");f&&e.attr("cursor",f);var g=c?s.height>0?"bottom":"top":s.width>0?"left":"right";u||o(e.style,m,r,d,l,n,g),i.setHoverStyle(e,m)}var b=c.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,t){for(var n=t.points,r=this.__startPoint,a=this.__valueIdx,i=0;i<n.length;i+=2)r[this.__valueIdx]=n[i+a],e.moveTo(r[0],r[1]),e.lineTo(n[i],n[i+1])}});function y(e,t,n){var r=e.getData(),a=[],i=r.getLayout("valueAxisHorizontal")?1:0;a[1-i]=r.getLayout("valueAxisStart");var o=new b({shape:{points:r.getLayout("largePoints")},incremental:!!n,__startPoint:a,__valueIdx:i});t.add(o),function(e,t,n){var r=n.getVisual("borderColor")||n.getVisual("color"),a=t.getModel("itemStyle").getItemStyle(["color","borderColor"]);e.useStyle(a),e.style.fill=null,e.style.stroke=r,e.style.lineWidth=n.getLayout("barWidth")}(o,e,r)}e.exports=d},1972:function(e,t,n){var r=n(1758)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),a={getBarItemStyle:function(e){var t=r(this,e);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(t.lineDash=n)}return t}};e.exports=a},2683:function(e,t,n){"use strict";n.r(t);var r,a,i,o,s,l,c,u,d,p,h,m,f,g=n(2),b=n(0),y=n.n(b),v=n(3),O=n(1610),j=n(1611),E=n(1741),x=n(250),w=n(1921),S=n(98),P=n(1629),D=n(11),q=n(4),_=n(453),k=n.n(_),R=n(1609),I=n(570),C=n(299),T=n(346),L=n(1633),z=n(50),M=n(255),A=n(27),B=n(19),N=Object(q.b)("All Events"),V=k()((function(e){var t=[],n=(e.schema.elements||[]).find((function(e){return"issue-link"===e.type}));return n&&(t=["external_issue.created","external_issue.linked"],function(e){var t=function(e){return e.some((function(e){return"select"===e.type&&"uri"in e}))},n=t(e.create.required_fields)||t(e.create.optional_fields||[]),r=t(e.link.required_fields)||t(e.link.optional_fields||[]);return n||r}(n)&&t.push("select_options.requested")),Object(g.i)([N],"internal"!==e.status?["installation.created","installation.deleted"]:[],e.events.includes("error")?["error.created"]:[],e.events.includes("issue")?["issue.created","issue.resolved","issue.ignored","issue.assigned"]:[],e.isAlertable?["event_alert.triggered"]:[],t)})),W=function(e){var t=e.code,n="error";return t<=399&&t>=300?n="warning":t<=299&&t>=100&&(n="success"),y.a.createElement("div",null,y.a.createElement(L.a,{priority:n},0===t?"timeout":t))},H=function(e){var t=e.date,n=e.link;return n?y.a.createElement(S.a,{to:n,target:"_blank"},y.a.createElement(P.a,{date:t}),y.a.createElement(Z,{src:"icon-open",size:"12px"})):y.a.createElement(P.a,{date:t})},Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shouldReload=!0,t.handleChangeEventType=function(e){t.setState({eventType:e,currentPage:0},t.remountComponent)},t.handleChangeErrorsOnly=function(){t.setState({errorsOnly:!t.state.errorsOnly,currentPage:0},t.remountComponent)},t.handleNextPage=function(){t.setState({currentPage:t.state.currentPage+1})},t.handlePrevPage=function(){t.setState({currentPage:t.state.currentPage-1})},t}return Object(g.d)(t,e),Object.defineProperty(t.prototype,"hasNextPage",{get:function(){return 10*(this.state.currentPage+1)<this.state.requests.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPrevPage",{get:function(){return this.state.currentPage>0},enumerable:!0,configurable:!0}),t.prototype.getEndpoints=function(){var e=this.props.app.slug,t={};return this.state&&(this.state.eventType!==N&&(t.eventType=this.state.eventType),this.state.errorsOnly&&(t.errorsOnly=!0)),[["requests","/sentry-apps/"+e+"/requests/",{query:t}]]},t.prototype.getDefaultState=function(){return Object(g.a)(Object(g.a)({},e.prototype.getDefaultState.call(this)),{requests:[],eventType:N,errorsOnly:!1,currentPage:0})},t.prototype.renderLoading=function(){return this.renderBody()},t.prototype.renderBody=function(){var e=this,t=this.state,n=t.requests,r=t.eventType,a=t.errorsOnly,i=t.currentPage,o=this.props.app,s=n.slice(10*i,10*(i+1));return y.a.createElement(y.a.Fragment,null,y.a.createElement("h5",null,Object(q.b)("Request Log")),y.a.createElement("div",null,y.a.createElement("p",null,Object(q.b)("This log shows the status of any outgoing webhook requests from Sentry to your integration.")),y.a.createElement(K,null,y.a.createElement(C.b,{label:r,menuWidth:"220px",button:function(e){var t=e.isOpen,n=e.getActorProps;return y.a.createElement(X,Object(g.a)({},n({isStyled:!0}),{isOpen:t}),r)}},V(o).map((function(t){return y.a.createElement(C.a,{key:t,onSelect:e.handleChangeEventType,eventKey:t,isActive:r===t},t)}))),y.a.createElement(Q,{onClick:this.handleChangeErrorsOnly},y.a.createElement(J,null,y.a.createElement(M.a,{checked:a,onChange:function(){}}),Object(q.b)("Errors Only"))))),y.a.createElement(x.a,null,y.a.createElement(x.e,null,y.a.createElement(G,{hasOrganization:"internal"!==o.status},y.a.createElement("div",null,Object(q.b)("Time")),y.a.createElement("div",null,Object(q.b)("Status Code")),"internal"!==o.status&&y.a.createElement("div",null,Object(q.b)("Organization")),y.a.createElement("div",null,Object(q.b)("Event Type")),y.a.createElement("div",null,Object(q.b)("Webhook URL")))),this.state.loading?y.a.createElement(z.default,null):y.a.createElement(x.c,null,s.length>0?s.map((function(e,t){return y.a.createElement(x.f,{key:t},y.a.createElement(G,{hasOrganization:"internal"!==o.status},y.a.createElement(H,{date:e.date,link:e.errorUrl}),y.a.createElement(W,{code:e.responseCode}),"internal"!==o.status&&y.a.createElement("div",null,e.organization?e.organization.name:null),y.a.createElement("div",null,e.eventType),y.a.createElement(F,null,e.webhookUrl)))})):y.a.createElement(I.a,{icon:"icon-circle-exclamation"},Object(q.b)("No requests found in the last 30 days.")))),y.a.createElement(U,null,y.a.createElement(A.a,{icon:"icon-chevron-left",onClick:this.handlePrevPage,disabled:!this.hasPrevPage,label:Object(q.b)("Previous page")}),y.a.createElement(A.a,{icon:"icon-chevron-right",onClick:this.handleNextPage,disabled:!this.hasNextPage,label:Object(q.b)("Next page")})))},t}(R.a),G=Object(v.c)("div",{target:"e1cn9all0"})(r||(r=Object(g.f)(["\n  display: grid;\n  grid-template-columns: 1fr 0.5fr "," 1fr 1fr;\n  grid-column-gap: ",";\n  width: 100%;\n  align-items: center;\n"],["\n  display: grid;\n  grid-template-columns: 1fr 0.5fr "," 1fr 1fr;\n  grid-column-gap: ",";\n  width: 100%;\n  align-items: center;\n"])),(function(e){return e.hasOrganization?"1fr":""}),Object(D.a)(1.5)),F=Object(v.c)("div",{target:"e1cn9all1"})(a||(a=Object(g.f)(["\n  word-break: break-word;\n"],["\n  word-break: break-word;\n"]))),U=Object(v.c)("div",{target:"e1cn9all2"})(i||(i=Object(g.f)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n\n  > :first-child {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  > :nth-child(2) {\n    margin-left: -1px;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n"],["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n\n  > :first-child {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  > :nth-child(2) {\n    margin-left: -1px;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n"]))),K=Object(v.c)("div",{target:"e1cn9all3"})(o||(o=Object(g.f)(["\n  display: flex;\n  align-items: center;\n  padding-bottom: ",";\n"],["\n  display: flex;\n  align-items: center;\n  padding-bottom: ",";\n"])),Object(D.a)(1)),J=Object(v.c)("div",{target:"e1cn9all4"})(s||(s=Object(g.f)(["\n  input {\n    margin: 0 "," 0 0;\n  }\n\n  display: flex;\n  align-items: center;\n"],["\n  input {\n    margin: 0 "," 0 0;\n  }\n\n  display: flex;\n  align-items: center;\n"])),Object(D.a)(1)),X=Object(v.c)(y.a.forwardRef((function(e,t){return y.a.createElement(T.a,Object(g.a)({innerRef:t},e))})),{target:"e1cn9all5"})(l||(l=Object(g.f)(["\n  z-index: ",";\n  white-space: nowrap;\n\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n"],["\n  z-index: ",";\n  white-space: nowrap;\n\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n"])),(function(e){return e.theme.zIndex.header-1})),Q=Object(v.c)(A.a,{target:"e1cn9all6"})(c||(c=Object(g.f)(["\n  margin-left: -1px;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n"],["\n  margin-left: -1px;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n"]))),Z=Object(v.c)(B.a,{target:"e1cn9all7"})(u||(u=Object(g.f)(["\n  margin-left: 6px;\n  color: ",";\n"],["\n  margin-left: 6px;\n  color: ",";\n"])),(function(e){return e.theme.gray3})),$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(g.d)(t,e),t.prototype.getEndpoints=function(){var e=this.props.params.appSlug,t=Math.floor((new Date).getTime()/1e3);return[["stats","/sentry-apps/"+e+"/stats/",{query:{since:t-7776e3,until:t}}],["interactions","/sentry-apps/"+e+"/interaction/",{query:{since:t-7776e3,until:t}}],["app","/sentry-apps/"+e+"/"]]},t.prototype.getTitle=function(){return Object(q.b)("Integration Dashboard")},t.prototype.renderInstallData=function(){var e=this.state,t=e.app,n=e.stats,r=n.totalUninstalls,a=n.totalInstalls;return y.a.createElement(y.a.Fragment,null,y.a.createElement("h5",null,Object(q.b)("Installation & Interaction Data")),y.a.createElement(te,null,t.datePublished?y.a.createElement(ne,null,y.a.createElement(re,null,Object(q.b)("Date published")),y.a.createElement(P.a,{dateOnly:!0,date:t.datePublished})):null,y.a.createElement(ne,null,y.a.createElement(re,null,Object(q.b)("Total installs")),y.a.createElement("p",null,a)),y.a.createElement(ne,null,y.a.createElement(re,null,Object(q.b)("Total uninstalls")),y.a.createElement("p",null,r))),this.renderInstallCharts())},t.prototype.renderInstallCharts=function(){var e=this.state.stats,t=e.installStats,n=e.uninstallStats,r={data:t.map((function(e){return{name:1e3*e[0],value:e[1]}})),seriesName:Object(q.b)("installed")},a={data:n.map((function(e){return{name:1e3*e[0],value:e[1]}})),seriesName:Object(q.b)("uninstalled")};return y.a.createElement(x.a,null,y.a.createElement(x.e,null,Object(q.b)("Installations/Uninstallations over Last 90 Days")),y.a.createElement(ie,null,y.a.createElement(w.a,{series:[r,a],height:150,stacked:!0,isGroupedByDate:!0,legend:{show:!0,orient:"horizontal",data:["installed","uninstalled"],itemWidth:15},yAxis:{type:"value",minInterval:1,max:"dataMax"},xAxis:{type:"time"},grid:{left:Object(D.a)(4),right:Object(D.a)(4)}})))},t.prototype.renderIntegrationViews=function(){var e=this.state.interactions.views,t=this.props.params,n=t.appSlug,r=t.orgId;return y.a.createElement(x.a,null,y.a.createElement(x.e,null,Object(q.b)("Integration Views")),y.a.createElement(x.c,null,y.a.createElement(ee,{data:{Views:e}})),y.a.createElement(x.d,null,y.a.createElement(ae,null,Object(q.b)("Integration views are measured through views on the "),y.a.createElement(S.a,{to:"/sentry-apps/"+n+"/external-install/"},Object(q.b)("external installation page")),Object(q.b)(" and views on the Learn More/Install modal on the "),y.a.createElement(S.a,{to:"/settings/"+r+"/integrations/"},Object(q.b)("integrations page")))))},t.prototype.renderComponentInteractions=function(){var e=this.state.interactions.componentInteractions,t={"stacktrace-link":Object(q.b)("Each link click or context menu open counts as one interaction"),"issue-link":Object(q.b)("Each open of the issue link modal counts as one interaction")};return y.a.createElement(x.a,null,y.a.createElement(x.e,null,Object(q.b)("Component Interactions")),y.a.createElement(x.c,null,y.a.createElement(ee,{data:e})),y.a.createElement(x.d,null,y.a.createElement(ae,null,Object.keys(e).map((function(e,n){return t[e]&&y.a.createElement(y.a.Fragment,{key:n},y.a.createElement("strong",null,e+": "),t[e],y.a.createElement("br",null))})))))},t.prototype.renderBody=function(){var e=this.state.app;return y.a.createElement("div",null,y.a.createElement(j.a,{title:Object(q.b)("Integration Dashboard")+" - "+e.name}),"published"===e.status&&this.renderInstallData(),"published"===e.status&&this.renderIntegrationViews(),e.schema.elements&&this.renderComponentInteractions(),y.a.createElement(Y,{app:e}))},t}(O.a),ee=(t.default=$,function(e){var t=e.data,n=Object.keys(t).map((function(e){return{seriesName:e,data:t[e].map((function(e){return{value:e[1],name:1e3*e[0]}}))}}));return y.a.createElement(ie,null,y.a.createElement(E.a,{isGroupedByDate:!0,series:n,grid:{left:Object(D.a)(4),right:Object(D.a)(4)},legend:{show:!0,orient:"horizontal",data:Object.keys(t)}}))}),te=Object(v.c)("div",{target:"eiip2lr0"})(d||(d=Object(g.f)(["\n  display: flex;\n"],["\n  display: flex;\n"]))),ne=Object(v.c)("div",{target:"eiip2lr1"})(p||(p=Object(g.f)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),Object(D.a)(4)),re=Object(v.c)("h6",{target:"eiip2lr2"})(h||(h=Object(g.f)(["\n  margin-bottom: ",";\n  font-size: 12px;\n  text-transform: uppercase;\n  color: ",";\n"],["\n  margin-bottom: ",";\n  font-size: 12px;\n  text-transform: uppercase;\n  color: ",";\n"])),Object(D.a)(1),(function(e){return e.theme.gray3})),ae=Object(v.c)("div",{target:"eiip2lr3"})(m||(m=Object(g.f)(["\n  padding: ",";\n"],["\n  padding: ",";\n"])),Object(D.a)(1.5)),ie=Object(v.c)("div",{target:"eiip2lr4"})(f||(f=Object(g.f)(["\n  padding-top: ",";\n"],["\n  padding-top: ",";\n"])),Object(D.a)(3))}}]);
//# sourceMappingURL=SentryApplicationDashboard.js.map