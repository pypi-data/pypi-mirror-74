
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Available Widget Actions &#8212; Typhoon API 1.10.2 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="typhoon_api.html">Typhoon API 1.10.2 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="typhoon_api.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="typhoon_api.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Available Widget Actions</a><ul>
<li><a class="reference internal" href="#capture-scope-widget">Capture/Scope Widget</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/widget_actions.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="available-widget-actions">
<h1>Available Widget Actions<a class="headerlink" href="#available-widget-actions" title="Permalink to this headline">¶</a></h1>
<p>Through the SCADA API, you are able to execute widget actions programmatically, instead of manually interacting with the GUI.
This useful feature allows you to automate some steps when running your simulation in HIL SCADA.</p>
<p>The execute_action() function expects two mandatory arguments - widget_handle and action_name.</p>
<p>It can also receive other optional keyword arguments (arg_name=arg_value) - this depends on the implementation by each widget.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># store the widget id</span>
<span class="n">w_id</span> <span class="o">=</span> <span class="s2">&quot;484d3a86ffcf11e9956de0d55e6b2045&quot;</span>

<span class="c1"># get the widget that needs to be changed (in this case the Capture/Scope widget)</span>
<span class="n">wh</span> <span class="o">=</span> <span class="n">panel</span><span class="o">.</span><span class="n">get_widget_by_id</span><span class="p">(</span><span class="n">w_id</span><span class="p">)</span>

<span class="c1"># executing the &quot;force_trigger&quot; action (api_const.ACT_CS_FORCE_TRIGGER)</span>
<span class="n">panel</span><span class="o">.</span><span class="n">execute_action</span><span class="p">(</span><span class="n">widget_handle</span><span class="o">=</span><span class="n">wh</span><span class="p">,</span>
                     <span class="n">action_name</span><span class="o">=</span><span class="n">api_const</span><span class="o">.</span><span class="n">ACT_CS_FORCE_TRIGGER</span><span class="p">)</span>

<span class="c1"># waiting for 5 seconds - this only blocks further code execution</span>
<span class="c1"># and gives the C/S widget time to capture data</span>
<span class="n">hil</span><span class="o">.</span><span class="n">wait_sec</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># executing the &quot;export_data&quot; action (api_const.ACT_CS_EXPORT_DATA)</span>
<span class="c1"># the captured data will be exported in the hdf5 table format,</span>
<span class="c1"># to the &quot;D:\\MyFolder\\capture_data.h5&quot; file,</span>
<span class="c1"># and of all the captured signals only the 3 signals</span>
<span class="c1"># named &quot;Signal1&quot;, &quot;Signal3&quot; and &quot;Signal7&quot; will be exported</span>

<span class="n">panel</span><span class="o">.</span><span class="n">execute_action</span><span class="p">(</span><span class="n">widget_handle</span><span class="o">=</span><span class="n">wh</span><span class="p">,</span>
                     <span class="n">action_name</span><span class="o">=</span><span class="n">api_const</span><span class="o">.</span><span class="n">ACT_CS_EXPORT_DATA</span><span class="p">,</span>
                     <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;hdf5 table&quot;</span><span class="p">,</span>
                     <span class="n">signals</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Signal1&quot;</span><span class="p">,</span><span class="s2">&quot;Signal3&quot;</span><span class="p">,</span><span class="s2">&quot;Signal7&quot;</span><span class="p">],</span>
                     <span class="n">path</span><span class="o">=</span><span class="s2">&quot;D:</span><span class="se">\\</span><span class="s2">MyFolder</span><span class="se">\\</span><span class="s2">capture_data.h5&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The following is a list of widgets, and their currently supported actions.</p>
<div class="section" id="capture-scope-widget">
<h2>Capture/Scope Widget<a class="headerlink" href="#capture-scope-widget" title="Permalink to this headline">¶</a></h2>
<table border="1" class="colwidths-auto docutils align-left">
<thead valign="bottom">
<tr class="row-odd"><th class="head">Action name</th>
<th class="head">Description</th>
<th class="head">Arguments</th>
<th class="head">Notes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ACT_CS_FORCE_TRIGGER</span></code> or “force_trigger”</td>
<td>This will force the Capture trigger with the current settings of the widget
(sample rate and period, desired signals, trigger settings)</td>
<td>This action has no optional arguments</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ACT_CS_ENABLE_TRIGGER</span></code> or “enable_trigger”</td>
<td>This will enable the Capture trigger (arm it and start data acquisition)
with the current settings of the widget (sample rate and period, desired signals, trigger settings)</td>
<td>This action has no optional arguments</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ACT_CS_STOP_CAPTURE</span></code> or “stop_capture”</td>
<td>This will stop the Capture process (and retrieve existing data)</td>
<td>This action has no optional arguments</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ACT_CS_EXPORT_DATA</span></code> or “export_data”</td>
<td>This will export the Captured data (if any exists) in a number of formats.</td>
<td>Optional arguments are “format”, “signals” and “path”.</td>
<td>Supported formats: “png”, “csv”, “mat”, “hdf5 fixed”, “hdf5 table”. The default format is “png”. The signals argument is a list of strings, and each string must match the name of a Captured signal. If no argument is passed, all Captured signals will be exported. If the path argument is passed, the Captured data will be exported to the specified file. However, if the path argument is not passed, the default export path (typhoon folder in your %appdata% folder) will be used. Note that special characters such as “\” must be escaped and the full file path should contain the extension too.</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="typhoon_api.html">Typhoon API 1.10.2 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Typhoon HIL.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.0.
    </div>
  </body>
</html>